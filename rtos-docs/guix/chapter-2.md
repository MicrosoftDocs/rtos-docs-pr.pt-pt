---
title: Capítulo 2 - Instalação e Utilização do GUIX
description: Este capítulo contém uma descrição de vários problemas relacionados com a instalação, configuração e utilização do produto de interface de utilizador de alta supervisão GUIX.
author: philmea
ms.author: philmea
ms.date: 05/19/2020
ms.topic: article
ms.service: rtos
ms.openlocfilehash: 6527227062fc667b3f527a798d6621914c374c5c
ms.sourcegitcommit: e3d42e1f2920ec9cb002634b542bc20754f9544e
ms.translationtype: MT
ms.contentlocale: pt-PT
ms.lasthandoff: 03/22/2021
ms.locfileid: "104826390"
---
# <a name="chapter-2---installation-and-use-of-guix"></a><span data-ttu-id="ca751-103">Capítulo 2 - Instalação e Utilização do GUIX</span><span class="sxs-lookup"><span data-stu-id="ca751-103">Chapter 2 - Installation and Use of GUIX</span></span>

<span data-ttu-id="ca751-104">Este capítulo contém uma descrição de vários problemas relacionados com a instalação, configuração e utilização do produto de interface de utilizador de alta supervisão GUIX.</span><span class="sxs-lookup"><span data-stu-id="ca751-104">This chapter contains a description of various issues related to installation, setup, and use of the highperformance user interface product GUIX.</span></span>  

## <a name="host-considerations"></a><span data-ttu-id="ca751-105">Considerações de Anfitrião</span><span class="sxs-lookup"><span data-stu-id="ca751-105">Host Considerations</span></span>

<span data-ttu-id="ca751-106">O desenvolvimento incorporado é geralmente realizado em computadores anfitriões Windows ou Linux (Unix).</span><span class="sxs-lookup"><span data-stu-id="ca751-106">Embedded development is usually performed on Windows or Linux (Unix) host computers.</span></span> <span data-ttu-id="ca751-107">Após a compilação da aplicação, ligada e o executável é gerado no anfitrião, é descarregado para o hardware alvo para execução.</span><span class="sxs-lookup"><span data-stu-id="ca751-107">After the application is compiled, linked, and the executable is generated on the host, it is downloaded to the target hardware for execution.</span></span>

<span data-ttu-id="ca751-108">Normalmente, o download do alvo é feito a partir do depurar da ferramenta de desenvolvimento.</span><span class="sxs-lookup"><span data-stu-id="ca751-108">Usually the target download is done from within the development tool's debugger.</span></span> <span data-ttu-id="ca751-109">Após o download, o depurante é responsável por fornecer controlo de execução de alvos (ir, parar, quebrar, etc.) bem como aceder aos registos de memória e processador.</span><span class="sxs-lookup"><span data-stu-id="ca751-109">After download, the debugger is responsible for providing target execution control (go, halt, breakpoint, etc.) as well as access to memory and processor registers.</span></span>

<span data-ttu-id="ca751-110">A maioria dos depurares de ferramentas de desenvolvimento comunicam com o hardware-alvo através de ligações de depuro on-chip (TOC), tais como JTAG (IEEE 1149.1) e Modo de Depuramento de Fundo (BDM).</span><span class="sxs-lookup"><span data-stu-id="ca751-110">Most development tool debuggers communicate with the target hardware via on-chip debug (OCD) connections such as JTAG (IEEE 1149.1) and Background Debug Mode (BDM).</span></span> <span data-ttu-id="ca751-111">Os debuggers também comunicam com o hardware alvo através de ligações In-Circuit Emulation (ICE).</span><span class="sxs-lookup"><span data-stu-id="ca751-111">Debuggers also communicate with target hardware through In-Circuit Emulation (ICE) connections.</span></span> <span data-ttu-id="ca751-112">As ligações OCD e ICE fornecem soluções robustas com uma intrusão mínima no software residente alvo.</span><span class="sxs-lookup"><span data-stu-id="ca751-112">Both OCD and ICE connections provide robust solutions with minimal intrusion on the target resident software.</span></span>

<span data-ttu-id="ca751-113">Quanto aos recursos utilizados no hospedeiro, o código fonte do GUXI é entregue em formato ASCII e requer aproximadamente 30 Mbytes de espaço no disco rígido do computador anfitrião.</span><span class="sxs-lookup"><span data-stu-id="ca751-113">As for resources used on the host, the source code for GUXI is delivered in ASCII format and requires approximately 30 Mbytes of space on the host computer’s hard disk.</span></span>

## <a name="target-considerations"></a><span data-ttu-id="ca751-114">Considerações-alvo</span><span class="sxs-lookup"><span data-stu-id="ca751-114">Target Considerations</span></span>

<span data-ttu-id="ca751-115">O GUIX requer entre 5 KBytes e 80 Kbytes de memória Read-Only (ROM) no alvo.</span><span class="sxs-lookup"><span data-stu-id="ca751-115">GUIX requires between 5 KBytes and 80 Kbytes of Read-Only Memory (ROM) on the target.</span></span> <span data-ttu-id="ca751-116">São necessários mais 5 a 10KBytes da Memória de Acesso Aleatório (RAM) do alvo para a pilha de fios GUIX e outras estruturas de dados globais.</span><span class="sxs-lookup"><span data-stu-id="ca751-116">Another 5 to 10KBytes of the target’s Random Access Memory (RAM) are required for the GUIX thread stack and other global data structures.</span></span>

<span data-ttu-id="ca751-117">Além disso, o GUIX requer a utilização de um temporizador ThreadX e de um objeto mutex ThreadX.</span><span class="sxs-lookup"><span data-stu-id="ca751-117">In addition, GUIX requires the use of a ThreadX timer and a ThreadX mutex object.</span></span> <span data-ttu-id="ca751-118">Estas instalações são utilizadas para necessidades de processamento periódica e proteção de fios dentro do GUIX.</span><span class="sxs-lookup"><span data-stu-id="ca751-118">These facilities are used for periodic processing needs and thread protection inside GUIX.</span></span>

## <a name="product-distribution"></a><span data-ttu-id="ca751-119">Distribuição de Produtos</span><span class="sxs-lookup"><span data-stu-id="ca751-119">Product Distribution</span></span>

<span data-ttu-id="ca751-120">O Azure RTOS GUIX pode ser obtido a partir do nosso repositório de código fonte pública em <https://github.com/azure-rtos/guix/> .</span><span class="sxs-lookup"><span data-stu-id="ca751-120">Azure RTOS GUIX can be obtained from our public source code repository at <https://github.com/azure-rtos/guix/>.</span></span>

<span data-ttu-id="ca751-121">Segue-se uma lista dos ficheiros importantes comuns à maioria das distribuições de produtos:</span><span class="sxs-lookup"><span data-stu-id="ca751-121">The following is a list of the important files common to most product distributions:</span></span>

| <span data-ttu-id="ca751-122">Nome de arquivo&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="sxs-lookup"><span data-stu-id="ca751-122">Filename&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span>| <span data-ttu-id="ca751-123">Descrição</span><span class="sxs-lookup"><span data-stu-id="ca751-123">Description</span></span>   |
| ----------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| <span data-ttu-id="ca751-124">gx_api.h</span><span class="sxs-lookup"><span data-stu-id="ca751-124">gx_api.h</span></span>        | <span data-ttu-id="ca751-125">Este ficheiro de cabeçalho C contém todos os equacionares do sistema, estruturas de dados e protótipos de serviço.</span><span class="sxs-lookup"><span data-stu-id="ca751-125">This C header file contains all system equates, data structures, and service prototypes.</span></span> |
| <span data-ttu-id="ca751-126">gx_port.h</span><span class="sxs-lookup"><span data-stu-id="ca751-126">gx_port.h</span></span>       | <span data-ttu-id="ca751-127">Este ficheiro de cabeçalho C contém todas as definições e estruturas específicas de dados específicas do alvo e do desenvolvimento.</span><span class="sxs-lookup"><span data-stu-id="ca751-127">This C header file contains all target-specific and development tool-specific data definitions and structures.</span></span>                                                                                                                                         |
| <span data-ttu-id="ca751-128">gx.a (ou gx.lib)</span><span class="sxs-lookup"><span data-stu-id="ca751-128">gx.a (or gx.lib)</span></span> | <span data-ttu-id="ca751-129">Esta é a versão binária da biblioteca GUIX C.</span><span class="sxs-lookup"><span data-stu-id="ca751-129">This is the binary version of the GUIX C library.</span></span> <span data-ttu-id="ca751-130">Isto é normalmente construído compilando e arquivando os ficheiros de origem da biblioteca GUIX fornecidos, no entanto esta biblioteca pode ser fornecida em forma pré-construída dependendo do seu alvo de hardware e tipo de licença.</span><span class="sxs-lookup"><span data-stu-id="ca751-130">This is normally built by compiling and archiving the provided GUIX library source files, however this library may be provided in pre-built form depending on your hardware target and license type.</span></span> |
|

> [!IMPORTANT]
> <span data-ttu-id="ca751-131">*Todos os ficheiros estão em minúsculas, facilitando a conversão dos comandos para plataformas de desenvolvimento Linux (Unix).*</span><span class="sxs-lookup"><span data-stu-id="ca751-131">*All files are in lower-case, making it easy to convert the commands to Linux (Unix) development platforms.*</span></span>

## <a name="guix-installation"></a><span data-ttu-id="ca751-132">Instalação GUIX</span><span class="sxs-lookup"><span data-stu-id="ca751-132">GUIX Installation</span></span>

<span data-ttu-id="ca751-133">O GUIX é instalado através da clonagem do repositório GitHub à sua máquina local.</span><span class="sxs-lookup"><span data-stu-id="ca751-133">GUIX is installed by cloning the GitHub repository to your local machine.</span></span> <span data-ttu-id="ca751-134">Segue-se a sintaxe típica para a criação de um clone do repositório GUIX no seu PC:</span><span class="sxs-lookup"><span data-stu-id="ca751-134">The following is typical syntax for creating a clone of the GUIX repository on your PC:</span></span>

```c
    git clone https://github.com/azure-rtos/guix
```

<span data-ttu-id="ca751-135">Em alternativa, pode descarregar uma cópia do repositório utilizando o botão de descarregamento na página principal do GitHub.</span><span class="sxs-lookup"><span data-stu-id="ca751-135">Alternatively you can download a copy of the repository using the download button on the GitHub main page.</span></span>

<span data-ttu-id="ca751-136">Também encontrará instruções para a construção da biblioteca GUIX na primeira página do repositório online.</span><span class="sxs-lookup"><span data-stu-id="ca751-136">You will also find instructions for building the GUIX library on the front page of the online repository.</span></span>

>[!NOTE]  
> <span data-ttu-id="ca751-137">*O software de aplicação precisa de acesso ao ficheiro da biblioteca GUIX, normalmente chamado **gx.a** (ou **gx.lib),** e o C inclui ficheiros **gx_api.h** e **gx_port.h**. Isto é conseguido quer estabelecendo o caminho adequado para as ferramentas de desenvolvimento, quer copiando estes ficheiros para a área de desenvolvimento de aplicações.*</span><span class="sxs-lookup"><span data-stu-id="ca751-137">*Application software needs access to the GUIX library file, usually called **gx.a** (or **gx.lib**), and the C include files **gx_api.h** and **gx_port.h**. This is accomplished either by setting the appropriate path for the development tools or by copying these files into the application development area.*</span></span>

## <a name="using-guix"></a><span data-ttu-id="ca751-138">Usando GUIX</span><span class="sxs-lookup"><span data-stu-id="ca751-138">Using GUIX</span></span>

<span data-ttu-id="ca751-139">A utilização do GUIX é fácil.</span><span class="sxs-lookup"><span data-stu-id="ca751-139">Using GUIX is easy.</span></span> <span data-ttu-id="ca751-140">Basicamente, o código de aplicação deve incluir ***gx_api.h** _ durante a compilação e ligação com a biblioteca GUIX _*_gx.a_*_ (ou _ *_gx.lib)*._*</span><span class="sxs-lookup"><span data-stu-id="ca751-140">Basically, the application code must include ***gx_api.h** _ during compilation and link with the GUIX library _*_gx.a_*_ (or _ *_gx.lib_*)*.</span></span>

<span data-ttu-id="ca751-141">São necessários quatro passos fáceis para a construção de uma aplicação GUIX:</span><span class="sxs-lookup"><span data-stu-id="ca751-141">There are four easy steps required to build a GUIX application:</span></span>

| <span data-ttu-id="ca751-142">Passos</span><span class="sxs-lookup"><span data-stu-id="ca751-142">Steps</span></span>   | <span data-ttu-id="ca751-143">Descrição</span><span class="sxs-lookup"><span data-stu-id="ca751-143">Description</span></span>    |
| ------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| <span data-ttu-id="ca751-144">Passo &nbsp; 1:</span><span class="sxs-lookup"><span data-stu-id="ca751-144">Step&nbsp;1:</span></span> | <span data-ttu-id="ca751-145">Inclua o ficheiro ***gx_api.h*** em todos os ficheiros de aplicações que utilizam serviços GUIX ou estruturas de dados.</span><span class="sxs-lookup"><span data-stu-id="ca751-145">Include the ***gx_api.h*** file in all application files that use GUIX services or data structures.</span></span>                                                               |
| <span data-ttu-id="ca751-146">Passo &nbsp; 2:</span><span class="sxs-lookup"><span data-stu-id="ca751-146">Step&nbsp;2:</span></span> | <span data-ttu-id="ca751-147">Inicialize o sistema GUIX chamando ***gx_system_initialize** _ da função _ *_tx_application_define_** ou de um fio de aplicação.</span><span class="sxs-lookup"><span data-stu-id="ca751-147">Initialize the GUIX system by calling ***gx_system_initialize** _ from the _ *_tx_application_define_** function or an application thread.</span></span>                       |
| <span data-ttu-id="ca751-148">Passo &nbsp; 3:</span><span class="sxs-lookup"><span data-stu-id="ca751-148">Step&nbsp;3:</span></span> | <span data-ttu-id="ca751-149">Crie uma instância de visualização, crie uma tela para o visor e crie a janela raiz e quaisquer outras janelas ou widgets necessários.</span><span class="sxs-lookup"><span data-stu-id="ca751-149">Create a display instance, create a canvas for the display, and create the root window and any other windows or widgets necessary.</span></span>                                 |
| <span data-ttu-id="ca751-150">Passo &nbsp; 4:</span><span class="sxs-lookup"><span data-stu-id="ca751-150">Step&nbsp;4:</span></span> | <span data-ttu-id="ca751-151">Compilar fonte de aplicação e ligar-se com a biblioteca de tempo de execução GUIX ***gx.a** _ (ou _*_gx.lib_\*\*).</span><span class="sxs-lookup"><span data-stu-id="ca751-151">Compile application source and link with the GUIX runtime library ***gx.a** _ (or _*_gx.lib_\*\*).</span></span> <span data-ttu-id="ca751-152">A imagem resultante pode ser descarregada para o alvo e executada!</span><span class="sxs-lookup"><span data-stu-id="ca751-152">The resulting image can be downloaded to the target and executed!</span></span> |

## <a name="troubleshooting"></a><span data-ttu-id="ca751-153">Resolução de problemas</span><span class="sxs-lookup"><span data-stu-id="ca751-153">Troubleshooting</span></span>

<span data-ttu-id="ca751-154">Cada porta GUIX é entregue com uma aplicação de demonstração que executa em hardware de exibição específico.</span><span class="sxs-lookup"><span data-stu-id="ca751-154">Each GUIX port is delivered with a demonstration application that executes on specific display hardware.</span></span> <span data-ttu-id="ca751-155">A mesma demonstração básica é entregue com todas as versões do GUIX.</span><span class="sxs-lookup"><span data-stu-id="ca751-155">The same basic demonstration is delivered with all versions of GUIX.</span></span> <span data-ttu-id="ca751-156">É sempre uma boa ideia pôr o sistema de demonstração a funcionar primeiro.</span><span class="sxs-lookup"><span data-stu-id="ca751-156">It is always a good idea to get the demonstration system running first.</span></span>

<span data-ttu-id="ca751-157">Se o sistema de demonstração não funcionar corretamente, efetuar as seguintes operações para reduzir o problema:</span><span class="sxs-lookup"><span data-stu-id="ca751-157">If the demonstration system does not run properly, perform the following operations to narrow the problem:</span></span>

1. <span data-ttu-id="ca751-158">Determina quanto da demonstração está a decorrer.</span><span class="sxs-lookup"><span data-stu-id="ca751-158">Determine how much of the demonstration is running.</span></span>

2. <span data-ttu-id="ca751-159">Aumente o tamanho da pilha do fio GUIX alterando a **GX_THREAD_STACK_SIZE** constante de tempo de compilação e recompilando a biblioteca GUIX</span><span class="sxs-lookup"><span data-stu-id="ca751-159">Increase the stack size of the GUIX thread by changing the  compile-time constant **GX_THREAD_STACK_SIZE** and recompiling  the GUIX library</span></span>

3. <span data-ttu-id="ca751-160">Recompilar a biblioteca GUIX com as opções de depurar apropriadas listadas na secção de opções de configuração.</span><span class="sxs-lookup"><span data-stu-id="ca751-160">Recompile the GUIX library with the appropriate debug options listed  in the configuration option section.</span></span>

4. <span data-ttu-id="ca751-161">Examine o estado de devolução de todas as chamadas da API.</span><span class="sxs-lookup"><span data-stu-id="ca751-161">Examine the return status from all API calls.</span></span>

5. <span data-ttu-id="ca751-162">Determinar se existe um erro interno do sistema ao definir um ponto de rutura na função ***_gx_system_error_process***.</span><span class="sxs-lookup"><span data-stu-id="ca751-162">Determine if there is an internal system error by setting a breakpoint at the function ***_gx_system_error_process***.</span></span> <span data-ttu-id="ca751-163">Há código de erro e o chamador deve dar pistas sobre o que pode estar a correr mal.</span><span class="sxs-lookup"><span data-stu-id="ca751-163">There error code and caller should give clues as to what might be going wrong.</span></span>

6. <span data-ttu-id="ca751-164">Contornar temporariamente quaisquer alterações recentes para ver se o problema desaparece ou muda.</span><span class="sxs-lookup"><span data-stu-id="ca751-164">Temporarily bypass any recent changes to see if the problem disappears or changes.</span></span> <span data-ttu-id="ca751-165">Estas informações devem revelar-se úteis aos engenheiros de suporte da Microsoft.</span><span class="sxs-lookup"><span data-stu-id="ca751-165">Such information should prove useful to Microsoft support engineers.</span></span>

<span data-ttu-id="ca751-166">Siga os procedimentos descritos na secção intitulada "What We Need From You" para enviar as informações recolhidas a partir das etapas de resolução de problemas.</span><span class="sxs-lookup"><span data-stu-id="ca751-166">Follow the procedures outlined in the section titled “What We Need From You” to send the information gathered from the troubleshooting steps.</span></span>

## <a name="configuration-options"></a><span data-ttu-id="ca751-167">Opções de configuração</span><span class="sxs-lookup"><span data-stu-id="ca751-167">Configuration Options</span></span>

<span data-ttu-id="ca751-168">Existem várias opções de configuração ao construir a biblioteca GUIX e a aplicação usando o GUIX.</span><span class="sxs-lookup"><span data-stu-id="ca751-168">There are several configuration options when building the GUIX library and the application using GUIX.</span></span> <span data-ttu-id="ca751-169">Estas opções são usadas para sintonizar o tamanho da biblioteca e o conjunto de funcionalidades de forma a adequar-se melhor aos seus requisitos de aplicação.</span><span class="sxs-lookup"><span data-stu-id="ca751-169">These options are used to tune the library size and feature set to best fit your application requirements.</span></span> <span data-ttu-id="ca751-170">Por exemplo, se a sua aplicação tiver apenas um fio utilizando os serviços da API GUIX, a bandeira de configuração **GX_DISABLE_MULTITHREAD_SUPPORT** deve ser definida para eliminar a sobrecarga associada à proteção de secções de código crítico de antecipação por múltiplos fios.</span><span class="sxs-lookup"><span data-stu-id="ca751-170">For example, if your application will have only one thread utilizing the GUIX API services, the configuration flag **GX_DISABLE_MULTITHREAD_SUPPORT** should be defined to eliminate the overhead associated with protecting critical code sections from pre-emption by multiple threads.</span></span> <span data-ttu-id="ca751-171">As várias bandeiras de configuração podem ser definidas na fonte de aplicação, na linha de comando ou no **_gx_user.h_** incluem ficheiro.</span><span class="sxs-lookup"><span data-stu-id="ca751-171">The various configuration flags can be defined in the application source, on the command line, or within the **_gx_user.h_** include file.</span></span>

<span data-ttu-id="ca751-172">Sempre que as bandeiras de configuração da biblioteca GUIX forem modificadas, é necessário reconstruir tanto a biblioteca GUIX como os módulos de aplicação para que as alterações de configuração produzam efeitos.</span><span class="sxs-lookup"><span data-stu-id="ca751-172">Whenever the GUIX library configuration flags are modified, it is required to rebuild both the GUIX library and your application modules for the configuration changes to take effect.</span></span>

<span data-ttu-id="ca751-173">A lista completa de bandeiras de configuração está documentada no Apêndice H: GUIX Build-Time As bandeiras de configuração.</span><span class="sxs-lookup"><span data-stu-id="ca751-173">The complete list of configuration flags is documented in Appendix H: GUIX Build-Time Configuration Flags.</span></span>

## <a name="guix-version-id"></a><span data-ttu-id="ca751-174">ID da versão GUIX</span><span class="sxs-lookup"><span data-stu-id="ca751-174">GUIX Version ID</span></span>

<span data-ttu-id="ca751-175">A versão atual do GUIX está disponível tanto para o utilizador como para o software da aplicação durante o tempo de funcionamento.</span><span class="sxs-lookup"><span data-stu-id="ca751-175">The current version of GUIX is available to both the user and the application software during runtime.</span></span> <span data-ttu-id="ca751-176">O programador pode obter a versão GUIX a partir do exame do ficheiro \***gx_port.h** _</span><span class="sxs-lookup"><span data-stu-id="ca751-176">The programmer can obtain the GUIX version from examination of the \***gx_port.h** _ file.</span></span> <span data-ttu-id="ca751-177">Além disso, este ficheiro também contém um histórico de versão do software de aplicação de porta correspondente pode obter a versão GUIX examinando a cadeia global *_ _ _gx_version_id_* _ em _\*_gx_port.h\*\*._</span><span class="sxs-lookup"><span data-stu-id="ca751-177">In addition, this file also contains a version history of the corresponding port Application software can obtain the GUIX version by examining the global string _ *_ _gx_version_id_* _ in _\*_gx_port.h_\*\*.</span></span>

<span data-ttu-id="ca751-178">O software de aplicação também pode obter informações de libertação das constantes abaixo mostradas definidas em \***gx_api.h**.\* Estas constantes identificam a versão atual do produto pelo nome e a versão maior e menor do produto.</span><span class="sxs-lookup"><span data-stu-id="ca751-178">Application software can also obtain release information from the constants shown below defined in \***gx_api.h**.\* These constants identify the current product release by name and the product major and minor version.</span></span>

```C
#define __PRODUCT_GUIX__

#define __GUIX_MAJOR_VERSION__

#define __GUIX_MINOR_VERSION__
```
