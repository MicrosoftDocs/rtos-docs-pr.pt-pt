---
title: Capítulo 1 - Visão geral
author: philmea
description: Este artigo é uma visão geral dos Módulos Azure RTOS ThreadX
ms.author: philmea
ms.date: 07/15/2020
ms.topic: article
ms.service: rtos
ms.openlocfilehash: 0c9698086468d7bb41c33ebe9fa9d1ebb61b5f1f
ms.sourcegitcommit: e3d42e1f2920ec9cb002634b542bc20754f9544e
ms.translationtype: MT
ms.contentlocale: pt-PT
ms.lasthandoff: 03/22/2021
ms.locfileid: "104825496"
---
# <a name="chapter-1-overview"></a><span data-ttu-id="32691-103">Capítulo 1: Visão geral</span><span class="sxs-lookup"><span data-stu-id="32691-103">Chapter 1: Overview</span></span>

<span data-ttu-id="32691-104">O componente Do Módulo ThreadX fornece uma infraestrutura para aplicações para carregar dinamicamente os módulos que são construídos separadamente da parte residente da aplicação.</span><span class="sxs-lookup"><span data-stu-id="32691-104">The ThreadX Module component provides an infrastructure for applications to dynamically load modules that are built separately from the resident portion of the application.</span></span> <span data-ttu-id="32691-105">Isto é especialmente útil em situações em que o tamanho do código de aplicação excede a memória disponível.</span><span class="sxs-lookup"><span data-stu-id="32691-105">This is especially useful in situations where the application code size exceeds available memory.</span></span> <span data-ttu-id="32691-106">Também pode ajudar quando são necessárias novas funcionalidades após a implementação da imagem do núcleo.</span><span class="sxs-lookup"><span data-stu-id="32691-106">It can also help when new features are required to be added after the core image is deployed.</span></span> <span data-ttu-id="32691-107">Além disso, podem ser utilizados módulos de carregamento dinâmico quando são necessárias atualizações parciais de firmware.</span><span class="sxs-lookup"><span data-stu-id="32691-107">In addition, dynamically loading modules can be used when partial firmware updates are required.</span></span>

<span data-ttu-id="32691-108">A proteção da memória do módulo carregado é opcional, com base nas propriedades especificadas no preâmbulo do módulo.</span><span class="sxs-lookup"><span data-stu-id="32691-108">Memory protection for the loaded module is optional, based on the properties specified in the module preamble.</span></span> <span data-ttu-id="32691-109">Quando a proteção da memória é especificada, o hardware de gestão da memória do processador é configurado de modo a que todos os fios do módulo só tenham acesso ao código e à memória de dados do módulo.</span><span class="sxs-lookup"><span data-stu-id="32691-109">When memory protection is specified, the processor's memory management hardware is configured such that all threads of the module are only allowed access to the module's code and data memory.</span></span> <span data-ttu-id="32691-110">Qualquer acesso ou execução de memórias extraérida resultará numa falha de memória e o fio do módulo ofensivo será encerrado.</span><span class="sxs-lookup"><span data-stu-id="32691-110">Any extraneous memory access or execution will result in a memory fault and the offending module thread will be terminated.</span></span> <span data-ttu-id="32691-111">Se a aplicação registar uma chamada de notificação por falha de memória, esta também será chamada para alertar a aplicação da falha de memória.</span><span class="sxs-lookup"><span data-stu-id="32691-111">If the application registers a memory fault notification callback, this will also be called to alert the application of the memory fault.</span></span>

<span data-ttu-id="32691-112">O componente do Módulo ThreadX baseia-se na aplicação para fornecer uma área de memória onde os módulos podem ser carregados.</span><span class="sxs-lookup"><span data-stu-id="32691-112">The ThreadX Module component relies on the application to provide a memory area where modules can be loaded.</span></span> <span data-ttu-id="32691-113">A área de instrução de cada módulo pode ser executada no lugar ou ser copiada para a área de memória do módulo RAM para execução.</span><span class="sxs-lookup"><span data-stu-id="32691-113">The instruction area of each module may execute in place or be copied into the RAM module memory area for execution.</span></span> <span data-ttu-id="32691-114">Em todos os casos, os requisitos de memória de dados do módulo são atribuídos a partir da área de memória do módulo.</span><span class="sxs-lookup"><span data-stu-id="32691-114">In all cases, the module data memory requirements are allocated from the module memory area.</span></span>

<span data-ttu-id="32691-115">Não existem limites no número de módulos que podem ser carregados ao mesmo tempo (além da quantidade de memória disponível), enquanto há apenas uma cópia do código do Gestor de Módulos residente.</span><span class="sxs-lookup"><span data-stu-id="32691-115">There are no limits on the number of modules that can be loaded at the same time (aside from the amount of memory available), while there is only one copy of the resident Module Manager code.</span></span> <span data-ttu-id="32691-116">A Figura 1 ilustra a relação do Gestor de Módulos e dos próprios módulos.</span><span class="sxs-lookup"><span data-stu-id="32691-116">Figure 1 illustrates the relationship of the Module Manager and the modules themselves.</span></span>

![Relação de Gestor de Módulos e Módulos](media/image2.png)

<span data-ttu-id="32691-118">**Figura 1** Gestor de Módulos e Módulos</span><span class="sxs-lookup"><span data-stu-id="32691-118">**Figure 1** Modules and Module Manager</span></span>

<span data-ttu-id="32691-119">Cada módulo deve ter a sua própria área de memória, que é da responsabilidade da aplicação definir.</span><span class="sxs-lookup"><span data-stu-id="32691-119">Each module must have its own memory area, which is the application's responsibility to define.</span></span> <span data-ttu-id="32691-120">O Módulo e o Gestor de Módulos interagem através de uma função de despacho de software através de IDs de pedido pré-definidos que correspondem aos serviços ThreadX solicitados pelo módulo.</span><span class="sxs-lookup"><span data-stu-id="32691-120">The Module and the Module Manager interact through a software dispatch function via pre-defined request IDs that correspond to ThreadX services requested by the module.</span></span> <span data-ttu-id="32691-121">Além disso, o módulo é necessário para fornecer um único ponto de entrada de fio, bem como o tamanho de pilha necessário, prioridade, ID do módulo, tamanho/prioridade da pilha de fio de retorno, etc. Esta informação é definida no preâmbulo de cada módulo.</span><span class="sxs-lookup"><span data-stu-id="32691-121">In addition, the module is required to provide a single thread entry point as well as the required stack size, priority, module ID, callback thread stack size/priority, etc. This information is defined in each module's preamble.</span></span>

<span data-ttu-id="32691-122">O Gestor do Módulo é responsável pela criação do fio do módulo inicial e pela sua execução.</span><span class="sxs-lookup"><span data-stu-id="32691-122">The Module Manager is responsible for creating the initial module thread and initiating its execution.</span></span> <span data-ttu-id="32691-123">Uma vez executada a linha inicial do módulo, o Gestor do Módulo é responsável por colocar em campo todos os pedidos de API da ThreadX feitos pelo módulo.</span><span class="sxs-lookup"><span data-stu-id="32691-123">Once the module's initial thread is executing, the Module Manager is responsible for fielding all ThreadX API requests made by the module.</span></span> <span data-ttu-id="32691-124">Um módulo tem acesso total à API ThreadX, incluindo a capacidade de criar fios adicionais dentro do módulo.</span><span class="sxs-lookup"><span data-stu-id="32691-124">A module has full access to the ThreadX API, including the ability to create additional threads within the module.</span></span>  
  
<span data-ttu-id="32691-125">As convenções de nomeação do código fonte do módulo são simples: todos os ficheiros de origem do Gestor de Módulos são nomeados ***txm_module_manager_ \**** e todos os ficheiros associados exclusivamente ao módulo omitem a parte "**_manager_*_" do nome. O ficheiro principal inclui o ficheiro _*_txm_module.h_** é partilhado pelo código fonte do gestor e do módulo.</span><span class="sxs-lookup"><span data-stu-id="32691-125">The module source code naming conventions are straightforward: all Module Manager source files are named ***txm_module_manager_\**** and all files associated exclusively with the module omit the "**_manager_*_" portion of the name. The main include file _*_txm_module.h_** is shared by the manager and module source code.</span></span>
