---
title: Capítulo 1 - Visão geral do Azure RTOS LevelX
description: O Azure RTOS LevelX fornece instalações de nivelamento de desgaste NAND e NOR flash para aplicações incorporadas.
author: philmea
ms.author: philmea
ms.date: 05/19/2020
ms.topic: article
ms.service: rtos
ms.openlocfilehash: 045446fec74164f125bc0ad27e8b7a904be14ab2
ms.sourcegitcommit: e3d42e1f2920ec9cb002634b542bc20754f9544e
ms.translationtype: MT
ms.contentlocale: pt-PT
ms.lasthandoff: 03/22/2021
ms.locfileid: "104826275"
---
# <a name="chapter-1---overview-of-azure-rtos-levelx"></a><span data-ttu-id="bb818-103">Capítulo 1 - Visão geral do Azure RTOS LevelX</span><span class="sxs-lookup"><span data-stu-id="bb818-103">Chapter 1 - Overview of Azure RTOS LevelX</span></span>

<span data-ttu-id="bb818-104">O Azure RTOS LevelX fornece instalações de nivelamento de desgaste NAND e NOR flash para aplicações incorporadas.</span><span class="sxs-lookup"><span data-stu-id="bb818-104">Azure RTOS LevelX provides NAND and NOR flash wear leveling facilities to embedded applications.</span></span> <span data-ttu-id="bb818-105">Uma vez que tanto a memória flash NAND como a NOR só podem ser apagadas um número finito de vezes, é fundamental distribuir o uso da memória flash uniformemente.</span><span class="sxs-lookup"><span data-stu-id="bb818-105">Since both NAND and NOR flash memory can only be erased a finite number of times, it's critical to distribute the flash memory use evenly.</span></span> <span data-ttu-id="bb818-106">Isto é tipicamente chamado de "nivelamento de desgaste" e é o propósito por trás do LevelX.</span><span class="sxs-lookup"><span data-stu-id="bb818-106">This is typically called "wear leveling" and is the purpose behind LevelX.</span></span>

<span data-ttu-id="bb818-107">O algoritmo que escolhe qual o bloco flash para reutilizar baseia-se principalmente na contagem de apagamento, mas não inteiramente.</span><span class="sxs-lookup"><span data-stu-id="bb818-107">The algorithm that chooses which flash block to reuse is primarily based on the erase count, but not entirely.</span></span> <span data-ttu-id="bb818-108">O bloco com a contagem de apagamento mais baixa pode não ser escolhido se houver outro bloco que tenha uma contagem de apagamento dentro de um delta aceitável da contagem mínima de apagamento e que tenha um maior número de mapeamentos obsoletos.</span><span class="sxs-lookup"><span data-stu-id="bb818-108">The block with the lowest erase count might not be chosen if there is another block that has an erase count within an acceptable delta from the minimal erase count and that has a greater number of obsolete mappings.</span></span> <span data-ttu-id="bb818-109">Nesses casos, o bloco com o maior número de mapeamentos obsoletos será apagado e reutilizado, poupando assim a sobrecarga na movimentação de entradas de mapeamento válidos.</span><span class="sxs-lookup"><span data-stu-id="bb818-109">In such cases, the block with the greatest number of obsolete mappings will be erased and reused, thus saving overhead in moving valid mapping entries.</span></span>

<span data-ttu-id="bb818-110">O LevelX suporta múltiplas instâncias de peças NAND e/ou NOR, ou seja, a aplicação pode utilizar instâncias separadas do LevelX dentro da mesma aplicação.</span><span class="sxs-lookup"><span data-stu-id="bb818-110">LevelX supports multiple instances of NAND and/or NOR parts, i.e., the application can utilize separate instances of LevelX within the same application.</span></span> <span data-ttu-id="bb818-111">Cada instância requer o seu próprio bloco de controlo fornecido pela aplicação, bem como o seu próprio flash driver.</span><span class="sxs-lookup"><span data-stu-id="bb818-111">Each instance requires its own control block provided by the application as well as its own flash driver.</span></span>

<span data-ttu-id="bb818-112">O LevelX apresenta ao utilizador uma série de sectores lógicos que são mapeados para a memória flash física dentro do LevelX.</span><span class="sxs-lookup"><span data-stu-id="bb818-112">LevelX presents to the user an array of logical sectors that are mapped to physical flash memory inside of LevelX.</span></span> <span data-ttu-id="bb818-113">Para melhorar o desempenho, o LevelX também fornece uma cache dos mais recentes mapeamentos do setor lógico.</span><span class="sxs-lookup"><span data-stu-id="bb818-113">To enhance performance, LevelX also provides a cache of the most recent logical sector mappings.</span></span> <span data-ttu-id="bb818-114">O tamanho desta cache é definido pelo programador.</span><span class="sxs-lookup"><span data-stu-id="bb818-114">The size of this cache is defined by the programmer.</span></span> <span data-ttu-id="bb818-115">As aplicações podem utilizar o LevelX em conjunto com o FileX ou podem ler/escrever diretamente sectores lógicos.</span><span class="sxs-lookup"><span data-stu-id="bb818-115">Applications may use LevelX in conjunction with FileX or may read/write logical sectors directly.</span></span> <span data-ttu-id="bb818-116">O LevelX não tem dependência do FileX e muito pouca dependência da ThreadX (apenas são utilizados tipos de dados primitivos da ThreadX).</span><span class="sxs-lookup"><span data-stu-id="bb818-116">LevelX has no dependency on FileX and very little dependency on ThreadX (only primitive ThreadX data types are used).</span></span>

<span data-ttu-id="bb818-117">O LevelX foi concebido para a tolerância à falha.</span><span class="sxs-lookup"><span data-stu-id="bb818-117">LevelX is designed for fault tolerance.</span></span> <span data-ttu-id="bb818-118">As atualizações flash são executadas num processo de várias etapas que pode ser interrompido em cada passo.</span><span class="sxs-lookup"><span data-stu-id="bb818-118">Flash updates are performed in a multiple-step process that can be interrupted in each step.</span></span> <span data-ttu-id="bb818-119">O LevelX recupera automaticamente para o estado ideal durante a próxima operação.</span><span class="sxs-lookup"><span data-stu-id="bb818-119">LevelX automatically recovers to the optimal state during the next operation.</span></span>

<span data-ttu-id="bb818-120">O LevelX requer um flash driver para acesso físico à memória flash subjacente.</span><span class="sxs-lookup"><span data-stu-id="bb818-120">LevelX requires a flash driver for physical access to the underlying flash memory.</span></span> <span data-ttu-id="bb818-121">Exemplo, os condutores simulados NAND e NOR são fornecidos e podem ser usados como um bom ponto de partida para a implementação de condutores atuais do LevelX.</span><span class="sxs-lookup"><span data-stu-id="bb818-121">Example NAND and NOR simulated drivers are provided and can be used as a good starting point for implementing actual LevelX drivers.</span></span> <span data-ttu-id="bb818-122">Além disso, os requisitos do condutor são detalhados mais tarde nesta documentação.</span><span class="sxs-lookup"><span data-stu-id="bb818-122">In addition, driver requirements are detailed later in this documentation.</span></span>

<span data-ttu-id="bb818-123">Os capítulos seguintes descrevem a operação funcional para o suporte NAND e NOR LevelX.</span><span class="sxs-lookup"><span data-stu-id="bb818-123">The following chapters describe the functional operation for the NAND and NOR LevelX support.</span></span>
