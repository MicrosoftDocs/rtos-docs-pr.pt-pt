---
title: Capítulo 1 - Introdução a HTTP e HTTPS
description: Este capítulo introduz o Azure RTOS NetX Duo HTTP/HTTPS para módulo Web.
author: philmea
ms.author: philmea
ms.date: 07/24/2020
ms.topic: article
ms.service: rtos
ms.openlocfilehash: c784843e4d3f11ee306e866223c0a19bfcba3b85
ms.sourcegitcommit: e3d42e1f2920ec9cb002634b542bc20754f9544e
ms.translationtype: MT
ms.contentlocale: pt-PT
ms.lasthandoff: 03/22/2021
ms.locfileid: "104826995"
---
# <a name="chapter-1---introduction-to-http-and-https"></a><span data-ttu-id="d0b1e-103">Capítulo 1 - Introdução a HTTP e HTTPS</span><span class="sxs-lookup"><span data-stu-id="d0b1e-103">Chapter 1 - Introduction to HTTP and HTTPS</span></span>

<span data-ttu-id="d0b1e-104">O Protocolo de Transferência de Hipertextos (HTTP) é um protocolo concebido para transferir conteúdo na Web.</span><span class="sxs-lookup"><span data-stu-id="d0b1e-104">The Hypertext Transfer Protocol (HTTP) is a protocol designed for transferring content on the Web.</span></span> <span data-ttu-id="d0b1e-105">HTTP é um protocolo simples que utiliza serviços fiáveis de Protocolo de Controlo de Transmissão (TCP) para executar a sua função de transferência de conteúdo.</span><span class="sxs-lookup"><span data-stu-id="d0b1e-105">HTTP is a simple protocol that utilizes reliable Transmission Control Protocol (TCP) services to perform its content transfer function.</span></span> <span data-ttu-id="d0b1e-106">Por isso, HTTP é um protocolo de transferência de conteúdo altamente fiável.</span><span class="sxs-lookup"><span data-stu-id="d0b1e-106">Because of this, HTTP is a highly reliable content transfer protocol.</span></span> <span data-ttu-id="d0b1e-107">HTTP é um dos protocolos de aplicação mais utilizados.</span><span class="sxs-lookup"><span data-stu-id="d0b1e-107">HTTP is one of the most used application protocols.</span></span> <span data-ttu-id="d0b1e-108">Todas as operações na Web utilizam o protocolo HTTP.</span><span class="sxs-lookup"><span data-stu-id="d0b1e-108">All operations on the Web utilize the HTTP protocol.</span></span>

<span data-ttu-id="d0b1e-109">HTTPS é a versão segura do protocolo HTTP, que implementa HTTP utilizando a Segurança da Camada de Transporte (TLS) para garantir a ligação TCP subjacente.</span><span class="sxs-lookup"><span data-stu-id="d0b1e-109">HTTPS is the secure version of the HTTP protocol, which implements HTTP using Transport Layer Security (TLS) to secure the underlying TCP connection.</span></span> <span data-ttu-id="d0b1e-110">Para além da configuração adicional necessária para configurar o TLS, https é basicamente idêntico ao HTTP em uso.</span><span class="sxs-lookup"><span data-stu-id="d0b1e-110">Other than the additional configuration required to set up TLS, HTTPS is basically identical to HTTP in use.</span></span>

## <a name="general-http-requirements"></a><span data-ttu-id="d0b1e-111">Requisitos Gerais HTTP</span><span class="sxs-lookup"><span data-stu-id="d0b1e-111">General HTTP Requirements</span></span>

<span data-ttu-id="d0b1e-112">Para funcionar corretamente, o pacote NetX Web HTTP requer que o NetX Duo (versão 5.10 ou posterior) seja instalado.</span><span class="sxs-lookup"><span data-stu-id="d0b1e-112">In order to function properly, the NetX Web HTTP package requires that NetX Duo (version 5.10 or later) is installed.</span></span> <span data-ttu-id="d0b1e-113">Além disso, deve ser criada uma instância IP e a TCP deve ser ativada nessa mesma instância de PI.</span><span class="sxs-lookup"><span data-stu-id="d0b1e-113">In addition, an IP instance must be created, and TCP must be enabled on that same IP instance.</span></span> <span data-ttu-id="d0b1e-114">Para o suporte a HTTPS, o NetX Secure TLS (versão 5.11 ou posterior) também deve ser instalado (ver secção seguinte).</span><span class="sxs-lookup"><span data-stu-id="d0b1e-114">For HTTPS support, NetX Secure TLS (version 5.11 or later) must also be installed (see next section).</span></span> <span data-ttu-id="d0b1e-115">O ficheiro de demonstração na secção "Small Example System" **do Capítulo 2** demonstra como isto é feito.</span><span class="sxs-lookup"><span data-stu-id="d0b1e-115">The demo file in section “Small Example System” in **Chapter 2** demonstrates how this is done.</span></span>

<span data-ttu-id="d0b1e-116">A parte do cliente HTTP do pacote NetX Web HTTP não tem outros requisitos.</span><span class="sxs-lookup"><span data-stu-id="d0b1e-116">The HTTP Client portion of the NetX Web HTTP package has no further requirements.</span></span>

<span data-ttu-id="d0b1e-117">A parte do servidor HTTP do pacote NetX Web HTTP tem vários requisitos adicionais.</span><span class="sxs-lookup"><span data-stu-id="d0b1e-117">The HTTP Server portion of the NetX Web HTTP package has several additional requirements.</span></span> <span data-ttu-id="d0b1e-118">Em primeiro lugar, requer acesso total à *porta 80 bem conhecida* da TCP para o tratamento de todos os pedidos HTTP do Cliente (isto pode ser alterado pela aplicação para qualquer outra porta TCP válida).</span><span class="sxs-lookup"><span data-stu-id="d0b1e-118">First, it requires complete access to TCP *well-known port 80* for handling all Client HTTP requests (this can be changed by the application to any other valid TCP port).</span></span> <span data-ttu-id="d0b1e-119">O servidor HTTP também foi concebido para ser utilizado com o sistema de ficheiros incorporado FileX.</span><span class="sxs-lookup"><span data-stu-id="d0b1e-119">The HTTP Server is also designed for use with the FileX embedded file system.</span></span> <span data-ttu-id="d0b1e-120">Se o FileX não estiver disponível, o utilizador pode apresentar as porções do FileX utilizadas para o seu próprio ambiente.</span><span class="sxs-lookup"><span data-stu-id="d0b1e-120">If FileX is not available, the user may port the portions of FileX used to their own environment.</span></span> <span data-ttu-id="d0b1e-121">Isto é discutido em secções posteriores deste guia.</span><span class="sxs-lookup"><span data-stu-id="d0b1e-121">This is discussed in later sections of this guide.</span></span>

## <a name="https-requirements"></a><span data-ttu-id="d0b1e-122">Requisitos HTTPS</span><span class="sxs-lookup"><span data-stu-id="d0b1e-122">HTTPS Requirements</span></span>

<span data-ttu-id="d0b1e-123">Para que https funcione corretamente, o pacote NetX Web HTTP requer que o NetX Duo (versão 5.10 ou posterior) e o NetX Secure TLS (versão 5.11 ou posterior) estejam ambos instalados.</span><span class="sxs-lookup"><span data-stu-id="d0b1e-123">For HTTPS to function properly, the NetX Web HTTP package requires that NetX Duo (version 5.10 or later) and NetX Secure TLS (version 5.11 or later) are both installed.</span></span> <span data-ttu-id="d0b1e-124">Além disso, deve ser criada uma instância IP e a TCP deve ser ativada nesse mesmo caso DEP para utilização com TLS.</span><span class="sxs-lookup"><span data-stu-id="d0b1e-124">In addition, an IP instance must be created, and TCP must be enabled on that same IP instance for use with TLS.</span></span> <span data-ttu-id="d0b1e-125">A sessão TLS terá de ser inicializada com rotinas criptográficas apropriadas, um certificado ca fidedigno, e o espaço deve ser atribuído para certificados que serão fornecidos por anfitriões de servidores remotos durante o aperto de mão TLS.</span><span class="sxs-lookup"><span data-stu-id="d0b1e-125">The TLS session will need to be initialized with appropriate cryptographic routines, a trusted CA certificate, and space must be allocated for certificates that will be provided by remote server hosts during the TLS handshake.</span></span> <span data-ttu-id="d0b1e-126">O ficheiro de demonstração na secção "Small Example HTTPS System" **do Capítulo 2** demonstrará como isto é feito.</span><span class="sxs-lookup"><span data-stu-id="d0b1e-126">The demo file in section “Small Example HTTPS System” in **Chapter 2** will demonstrate how this is done.</span></span>

<span data-ttu-id="d0b1e-127">A parte do cliente HTTPS do pacote NetX Web HTTP não tem mais requisitos.</span><span class="sxs-lookup"><span data-stu-id="d0b1e-127">The HTTPS Client portion of the NetX Web HTTP package has no further requirements.</span></span>

<span data-ttu-id="d0b1e-128">A parte https server do pacote NetX Web HTTP tem vários requisitos adicionais.</span><span class="sxs-lookup"><span data-stu-id="d0b1e-128">The HTTPS Server portion of the NetX Web HTTP package has several additional requirements.</span></span> <span data-ttu-id="d0b1e-129">Em primeiro lugar, requer acesso total à *conhecida porta 443* da TCP para o tratamento de todos os pedidos https do Cliente (como com o texto simples HTTP, esta porta pode ser alterada pela aplicação).</span><span class="sxs-lookup"><span data-stu-id="d0b1e-129">First, it requires complete access to TCP *well-known port 443* for handling all Client HTTPS requests (as with plaintext HTTP, this port can be changed by the application).</span></span> <span data-ttu-id="d0b1e-130">Em segundo lugar, a sessão TLS terá de ser inicializada com rotinas criptográficas adequadas e um certificado de identidade do servidor (ou Chave Pré-Partilhada).</span><span class="sxs-lookup"><span data-stu-id="d0b1e-130">Second, the TLS session will need to be initialized with proper cryptographic routines and a server identity certificate (or Pre-Shared Key).</span></span> <span data-ttu-id="d0b1e-131">O SERVIDOR HTTPS também foi concebido para ser utilizado com o sistema de ficheiros incorporado FileX.</span><span class="sxs-lookup"><span data-stu-id="d0b1e-131">The HTTPS Server is also designed for use with the FileX embedded file system.</span></span> <span data-ttu-id="d0b1e-132">Se o FileX não estiver disponível, o utilizador pode apresentar as porções do FileX utilizadas para o seu próprio ambiente.</span><span class="sxs-lookup"><span data-stu-id="d0b1e-132">If FileX is not available, the user may port the portions of FileX used to their own environment.</span></span> <span data-ttu-id="d0b1e-133">A utilização do FileX é discutida em secções posteriores deste guia.</span><span class="sxs-lookup"><span data-stu-id="d0b1e-133">The use of FileX is discussed in later sections of this guide.</span></span>

<span data-ttu-id="d0b1e-134">Consulte a documentação NetX Secure para obter mais informações sobre as opções de configuração para TLS.</span><span class="sxs-lookup"><span data-stu-id="d0b1e-134">Refer to the NetX Secure documentation for more information on configuration options for TLS.</span></span>

<span data-ttu-id="d0b1e-135">A menos que seja notado, todas as funcionalidades HTTP descritas neste documento também se aplicam a HTTPS.</span><span class="sxs-lookup"><span data-stu-id="d0b1e-135">Unless noted, all HTTP functionality described in this document also applies to HTTPS.</span></span>

## <a name="http-and-https-constraints"></a><span data-ttu-id="d0b1e-136">Constrangimentos HTTP e HTTPS</span><span class="sxs-lookup"><span data-stu-id="d0b1e-136">HTTP and HTTPS Constraints</span></span>

<span data-ttu-id="d0b1e-137">NetX Web HTTP implementa a norma HTTP 1.1.</span><span class="sxs-lookup"><span data-stu-id="d0b1e-137">NetX Web HTTP implements the HTTP 1.1 standard.</span></span> <span data-ttu-id="d0b1e-138">No entanto, aqui estão os seguintes constrangimentos:</span><span class="sxs-lookup"><span data-stu-id="d0b1e-138">However, here are following constraints:</span></span>

1. <span data-ttu-id="d0b1e-139">Solicitação de pipelining não é suportado</span><span class="sxs-lookup"><span data-stu-id="d0b1e-139">Request pipelining is not supported</span></span>
1. <span data-ttu-id="d0b1e-140">O SERVIDOR HTTP suporta a autenticação básica e mD5, mas não mD5-sess.</span><span class="sxs-lookup"><span data-stu-id="d0b1e-140">The HTTP Server supports both basic and MD5 digest authentication, but not MD5-sess.</span></span> <span data-ttu-id="d0b1e-141">Atualmente, o Cliente HTTP suporta apenas a autenticação básica.</span><span class="sxs-lookup"><span data-stu-id="d0b1e-141">At present, the HTTP Client supports only basic authentication.</span></span> <span data-ttu-id="d0b1e-142">Ao utilizar o TLS para HTTPS, a autenticação HTTP ainda pode ser utilizada.</span><span class="sxs-lookup"><span data-stu-id="d0b1e-142">When using TLS for HTTPS, HTTP authentication may still be used.</span></span>
1. <span data-ttu-id="d0b1e-143">Não é suportada qualquer compressão de conteúdo.</span><span class="sxs-lookup"><span data-stu-id="d0b1e-143">No content compression is supported.</span></span>
1. <span data-ttu-id="d0b1e-144">Os pedidos TRACE, OPTIONS e CONNECT não são suportados.</span><span class="sxs-lookup"><span data-stu-id="d0b1e-144">TRACE, OPTIONS, and CONNECT requests are not supported.</span></span>
1. <span data-ttu-id="d0b1e-145">O conjunto de pacotes associado ao servidor http ou cliente deve ser grande o suficiente para segurar o cabeçalho HTTP completo.</span><span class="sxs-lookup"><span data-stu-id="d0b1e-145">The packet pool associated with the HTTP Server or Client must be large enough to hold the complete HTTP header.</span></span>
1. <span data-ttu-id="d0b1e-146">HTTP Os serviços do cliente são apenas para transferência de conteúdos - não existem utilitários de exibição fornecidos neste pacote.</span><span class="sxs-lookup"><span data-stu-id="d0b1e-146">HTTP Client services are for content transfer only—there are no display utilities provided in this package.</span></span>

## <a name="http-url-resource-names"></a><span data-ttu-id="d0b1e-147">URL HTTP (Nomes de Recursos)</span><span class="sxs-lookup"><span data-stu-id="d0b1e-147">HTTP URL (Resource Names)</span></span>

<span data-ttu-id="d0b1e-148">O protocolo HTTP foi concebido para transferir conteúdo na Web.</span><span class="sxs-lookup"><span data-stu-id="d0b1e-148">The HTTP protocol is designed to transfer content on Web.</span></span> <span data-ttu-id="d0b1e-149">O conteúdo solicitado é especificado pelo Localizador de Recursos Universais (URL).</span><span class="sxs-lookup"><span data-stu-id="d0b1e-149">The requested content is specified by the Universal Resource Locator (URL).</span></span> <span data-ttu-id="d0b1e-150">Este é o componente principal de cada pedido HTTP.</span><span class="sxs-lookup"><span data-stu-id="d0b1e-150">This is the primary component of every HTTP request.</span></span> <span data-ttu-id="d0b1e-151">Os URLs começam sempre com um caracteres "/" e normalmente correspondem a ficheiros no servidor HTTP.</span><span class="sxs-lookup"><span data-stu-id="d0b1e-151">URLs always start with a “/” character and typically correspond to files on the HTTP Server.</span></span> <span data-ttu-id="d0b1e-152">As extensões de ficheiros HTTP comuns são apresentadas abaixo:</span><span class="sxs-lookup"><span data-stu-id="d0b1e-152">Common HTTP file extensions are shown below:</span></span>

- <span data-ttu-id="d0b1e-153">**.htm** (ou **.html)** Linguagem de marcação de hipertexto (HTML)</span><span class="sxs-lookup"><span data-stu-id="d0b1e-153">**.htm** (or **.html**) Hypertext Markup Language (HTML)</span></span>
- <span data-ttu-id="d0b1e-154">**.txt** Texto simples ASCII</span><span class="sxs-lookup"><span data-stu-id="d0b1e-154">**.txt** Plain ASCII text</span></span>
- <span data-ttu-id="d0b1e-155">**.gif** Imagem binária do GIF</span><span class="sxs-lookup"><span data-stu-id="d0b1e-155">**.gif** Binary GIF image</span></span>
- <span data-ttu-id="d0b1e-156">**.xbm** Imagem binária de Xbitmap</span><span class="sxs-lookup"><span data-stu-id="d0b1e-156">**.xbm** Binary Xbitmap image</span></span>

## <a name="http-client-requests"></a><span data-ttu-id="d0b1e-157">Pedidos de clientes HTTP</span><span class="sxs-lookup"><span data-stu-id="d0b1e-157">HTTP Client Requests</span></span>

<span data-ttu-id="d0b1e-158">O HTTP tem um mecanismo simples para solicitar conteúdo web.</span><span class="sxs-lookup"><span data-stu-id="d0b1e-158">The HTTP has a simple mechanism for requesting Web content.</span></span> <span data-ttu-id="d0b1e-159">Existe um conjunto de comandos HTTP padrão que são emitidos pelo Cliente depois de uma ligação ter sido estabelecida com sucesso na *porta 80 (porta 443 para HTTPS)*.</span><span class="sxs-lookup"><span data-stu-id="d0b1e-159">There is a set of standard HTTP commands that are issued by the Client after a connection has been successfully established on the TCP *well-known port 80 (port 443 for HTTPS)*.</span></span> <span data-ttu-id="d0b1e-160">O seguinte mostra alguns dos comandos HTTP básicos:</span><span class="sxs-lookup"><span data-stu-id="d0b1e-160">The following shows some of the basic HTTP commands:</span></span>

- <span data-ttu-id="d0b1e-161">**RECURSO  GET HTTP/1.1** Obtenha o recurso especificado</span><span class="sxs-lookup"><span data-stu-id="d0b1e-161">**GET *resource* HTTP/1.1** Get the specified resource</span></span>
- <span data-ttu-id="d0b1e-162">**RECURSO *POST* HTTP/1.1** Obtenha o recurso especificado e passe a entrada anexa ao Servidor HTTP</span><span class="sxs-lookup"><span data-stu-id="d0b1e-162">**POST *resource* HTTP/1.1** Get the specified resource and pass attached input to the HTTP Server</span></span>
- <span data-ttu-id="d0b1e-163">**Recurso *DE CABEÇA* HTTP/1.1** Tratado como um GET mas não conteúdo é devolvido pelo Servidor HTTP</span><span class="sxs-lookup"><span data-stu-id="d0b1e-163">**HEAD *resource* HTTP/1.1** Treated like a GET but not content is returned by the HTTP Server</span></span>
- <span data-ttu-id="d0b1e-164">**RECURSO  PUT HTTP/1.1** Coloque o recurso no servidor HTTP</span><span class="sxs-lookup"><span data-stu-id="d0b1e-164">**PUT *resource* HTTP/1.1** Place resource on HTTP Server</span></span>
- <span data-ttu-id="d0b1e-165">**EXCLUIR *recurso* HTTP/1.1** Eliminar recurso no Servidor</span><span class="sxs-lookup"><span data-stu-id="d0b1e-165">**DELETE *resource* HTTP/1.1** Delete resource on the Server</span></span>

<span data-ttu-id="d0b1e-166">Estes comandos ASCII são gerados internamente pelos navegadores Web e pelos serviços do Cliente NetX Web HTTP para realizar operações HTTP com um Servidor HTTP.</span><span class="sxs-lookup"><span data-stu-id="d0b1e-166">These ASCII commands are generated internally by Web browsers and the NetX Web HTTP Client services to perform HTTP operations with an HTTP Server.</span></span>

<span data-ttu-id="d0b1e-167">Note que a aplicação do Cliente HTTP deve utilizar a porta 80, ou a porta 443 se HTTPS for utilizado.</span><span class="sxs-lookup"><span data-stu-id="d0b1e-167">Note that the HTTP Client application should use port 80, or port 443 if HTTPS is used.</span></span> <span data-ttu-id="d0b1e-168">Tanto as APIs http clientes como do servidor tomam a porta como um parâmetro – as macros NX_WEB_HTTP_SERVER_PORT (porta 80) e NX_WEB_HTTPS_SERVER_PORT (porta 443) são definidas por conveniência.</span><span class="sxs-lookup"><span data-stu-id="d0b1e-168">Both the Client and Server HTTP APIs take the port as a parameter – the macros NX_WEB_HTTP_SERVER_PORT (port 80) and NX_WEB_HTTPS_SERVER_PORT (port 443) are defined for convenience.</span></span> <span data-ttu-id="d0b1e-169">A porta http server também pode ser alterada em tempo de execução utilizando o serviço *nx_web_http_client_set_connect_port().*</span><span class="sxs-lookup"><span data-stu-id="d0b1e-169">The HTTP Server port can also be changed at runtime using the *nx_web_http_client_set_connect_port()* service.</span></span> <span data-ttu-id="d0b1e-170">Consulte o Capítulo 4 para mais detalhes sobre este serviço.</span><span class="sxs-lookup"><span data-stu-id="d0b1e-170">See Chapter 4 for more details on this service.</span></span>

## <a name="http-server-responses"></a><span data-ttu-id="d0b1e-171">RESPOSTAS HTTP Servidor</span><span class="sxs-lookup"><span data-stu-id="d0b1e-171">HTTP Server Responses</span></span>

<span data-ttu-id="d0b1e-172">O Servidor HTTP utiliza a mesma *conhecida porta TCP 80 (443 para HTTPS)* para enviar respostas de comando do Cliente.</span><span class="sxs-lookup"><span data-stu-id="d0b1e-172">The HTTP Server utilizes the same *well-known TCP port 80 (443 for HTTPS)* to send Client command responses.</span></span> <span data-ttu-id="d0b1e-173">Uma vez que o servidor HTTP processa o comando do Cliente, retorna uma cadeia de resposta ASCII que inclui um código de estado numérico de 3 dígitos.</span><span class="sxs-lookup"><span data-stu-id="d0b1e-173">Once the HTTP Server processes the Client command, it returns an ASCII response string that includes a 3-digit numeric status code.</span></span> <span data-ttu-id="d0b1e-174">A resposta numérica é utilizada pelo software HTTP Client para determinar se a operação foi bem sucedida ou falhou.</span><span class="sxs-lookup"><span data-stu-id="d0b1e-174">The numeric response is used by the HTTP Client software to determine whether the operation succeeded or failed.</span></span> <span data-ttu-id="d0b1e-175">Segue-se uma lista de várias respostas do servidor HTTP aos comandos do Cliente:</span><span class="sxs-lookup"><span data-stu-id="d0b1e-175">Following is a list of various HTTP Server responses to Client commands:</span></span>

- <span data-ttu-id="d0b1e-176">**200** Pedido foi bem sucedido</span><span class="sxs-lookup"><span data-stu-id="d0b1e-176">**200** Request was successful</span></span>
- <span data-ttu-id="d0b1e-177">**400** Pedido não foi formado corretamente</span><span class="sxs-lookup"><span data-stu-id="d0b1e-177">**400** Request was not formed properly</span></span>
- <span data-ttu-id="d0b1e-178">**401** Pedido não autorizado, o cliente precisa enviar autenticação</span><span class="sxs-lookup"><span data-stu-id="d0b1e-178">**401** Unauthorized request, client needs to send authentication</span></span>
- <span data-ttu-id="d0b1e-179">**404** Não foi encontrado recurso especificado a pedido</span><span class="sxs-lookup"><span data-stu-id="d0b1e-179">**404** Specified resource in request was not found</span></span>
- <span data-ttu-id="d0b1e-180">**500** Erro interno do servidor HTTP</span><span class="sxs-lookup"><span data-stu-id="d0b1e-180">**500** Internal HTTP Server error</span></span>
- <span data-ttu-id="d0b1e-181">**501** Pedido não implementado pelo SERVIDOR HTTP</span><span class="sxs-lookup"><span data-stu-id="d0b1e-181">**501** Request not implemented by HTTP Server</span></span>
- <span data-ttu-id="d0b1e-182">Serviço **502** não está disponível</span><span class="sxs-lookup"><span data-stu-id="d0b1e-182">**502** Service is not available</span></span>

<span data-ttu-id="d0b1e-183">Por exemplo, um pedido bem sucedido do Cliente para colocar o ficheiro "test.htm" é respondido com a mensagem "HTTP/1.1 200 OK".</span><span class="sxs-lookup"><span data-stu-id="d0b1e-183">For example, a successful Client request to PUT the file “test.htm” is responded with the message “HTTP/1.1 200 OK.”</span></span>

## <a name="http-communication"></a><span data-ttu-id="d0b1e-184">Comunicação HTTP</span><span class="sxs-lookup"><span data-stu-id="d0b1e-184">HTTP Communication</span></span>

<span data-ttu-id="d0b1e-185">Como mencionado anteriormente, o SERVIDOR HTTP utiliza a *conhecida porta TCP 80 (443 para HTTPS)* para fazer os pedidos do Cliente.</span><span class="sxs-lookup"><span data-stu-id="d0b1e-185">As mentioned previously, the HTTP Server utilizes the *well-known TCP port 80 (443 for HTTPS)* to field Client requests.</span></span> <span data-ttu-id="d0b1e-186">HTTP Os clientes podem utilizar qualquer porta TCP disponível para ligações de saída.</span><span class="sxs-lookup"><span data-stu-id="d0b1e-186">HTTP Clients may use any available TCP port for outgoing connections.</span></span> <span data-ttu-id="d0b1e-187">A sequência geral dos eventos HTTP é a seguinte:</span><span class="sxs-lookup"><span data-stu-id="d0b1e-187">The general sequence of HTTP events is as follows:</span></span>

<span data-ttu-id="d0b1e-188">**HTTP GET Request**:</span><span class="sxs-lookup"><span data-stu-id="d0b1e-188">**HTTP GET Request**:</span></span>

1. <span data-ttu-id="d0b1e-189">O cliente emite ligação TCP à porta do Servidor 80 (ou 443 para HTTPS).</span><span class="sxs-lookup"><span data-stu-id="d0b1e-189">Client issues TCP connect to Server port 80 (or 443 for HTTPS).</span></span>
1. <span data-ttu-id="d0b1e-190">Se o HTTPS estiver a ser utilizado, a ligação TCP é seguida por um aperto de mão TLS para autenticar o servidor e estabelecer um canal seguro.</span><span class="sxs-lookup"><span data-stu-id="d0b1e-190">If HTTPS is being used, the TCP connection is followed by a TLS handshake to authenticate the server and establish a secure channel.</span></span>
1. <span data-ttu-id="d0b1e-191">O cliente envia o pedido **de *recurso* GET HTTP/1.1**" (juntamente com outras informações do cabeçalho).</span><span class="sxs-lookup"><span data-stu-id="d0b1e-191">Client sends “**GET *resource* HTTP/1.1**” request (along with other header information).</span></span>
1. <span data-ttu-id="d0b1e-192">O servidor constrói uma mensagem "**HTTP/1.1 200 OK**" com informações adicionais seguidas imediatamente pelo conteúdo do recurso (se houver).</span><span class="sxs-lookup"><span data-stu-id="d0b1e-192">Server builds an “**HTTP/1.1 200 OK**” message with additional information followed immediately by the resource content (if any).</span></span>
1. <span data-ttu-id="d0b1e-193">O servidor desliga-se do cliente (o TLS é desligado se o HTTPS estiver a ser utilizado).</span><span class="sxs-lookup"><span data-stu-id="d0b1e-193">Server disconnects from the client (TLS is shut down if HTTPS is being used).</span></span>
1. <span data-ttu-id="d0b1e-194">O cliente desliga-se da tomada (o TLS é desligado após o alerta de desconexão do servidor).</span><span class="sxs-lookup"><span data-stu-id="d0b1e-194">Client disconnects from the socket (TLS is shut down following the disconnection alert from the server).</span></span>

<span data-ttu-id="d0b1e-195">**HTTP PUT Request**:</span><span class="sxs-lookup"><span data-stu-id="d0b1e-195">**HTTP PUT Request**:</span></span>

1. <span data-ttu-id="d0b1e-196">O cliente emite ligação TCP à porta do Servidor 80 (ou 443).</span><span class="sxs-lookup"><span data-stu-id="d0b1e-196">Client issues TCP connect to Server port 80 (or 443).</span></span>
1. <span data-ttu-id="d0b1e-197">Se o HTTPS estiver a ser utilizado, a ligação TCP é seguida por um aperto de mão TLS para autenticar o servidor e estabelecer um canal seguro.</span><span class="sxs-lookup"><span data-stu-id="d0b1e-197">If HTTPS is being used, the TCP connection is followed by a TLS handshake to authenticate the server and establish a secure channel.</span></span>
1. <span data-ttu-id="d0b1e-198">O cliente envia o pedido "PUT Resource HTTP/1.1", juntamente com outras informações do cabeçalho, e seguido do conteúdo do recurso.</span><span class="sxs-lookup"><span data-stu-id="d0b1e-198">Client sends “PUT resource HTTP/1.1” request, along with other header information, and followed by the resource content.</span></span>
1. <span data-ttu-id="d0b1e-199">O servidor constrói uma mensagem "HTTP/1.1 200 OK" com informações adicionais seguidas imediatamente pelo conteúdo do recurso.</span><span class="sxs-lookup"><span data-stu-id="d0b1e-199">Server builds an “HTTP/1.1 200 OK” message with additional information followed immediately by the resource content.</span></span>
1. <span data-ttu-id="d0b1e-200">O servidor executa uma desconexão.</span><span class="sxs-lookup"><span data-stu-id="d0b1e-200">Server performs a disconnection.</span></span>
1. <span data-ttu-id="d0b1e-201">O cliente realiza uma desconexão.</span><span class="sxs-lookup"><span data-stu-id="d0b1e-201">Client performs a disconnection.</span></span>

> [!NOTE]
> <span data-ttu-id="d0b1e-202">Como mencionado anteriormente, o SERVIDOR HTTP pode alterar a porta de ligação predefinido (80 ou 443) em tempo de execução outra porta utilizando o *nx_web_http_client_set_connect_port()* para servidores web que utilizam portas alternativas para se conectarem aos clientes.</span><span class="sxs-lookup"><span data-stu-id="d0b1e-202">As mentioned previously, the HTTP Server can change the default connect port (80 or 443) at runtime another port using the *nx_web_http_client_set_connect_port()* for web servers that use alternate ports to connect to clients.</span></span>

## <a name="http-authentication"></a><span data-ttu-id="d0b1e-203">Autenticação HTTP</span><span class="sxs-lookup"><span data-stu-id="d0b1e-203">HTTP Authentication</span></span>

<span data-ttu-id="d0b1e-204">A autenticação HTTP é opcional e não é necessária para todos os pedidos da Web.</span><span class="sxs-lookup"><span data-stu-id="d0b1e-204">HTTP authentication is optional and is not required for all Web requests.</span></span> <span data-ttu-id="d0b1e-205">Existem dois sabores de autenticação, nomeadamente *básicos* e *digeridos.*</span><span class="sxs-lookup"><span data-stu-id="d0b1e-205">There are two flavors of authentication, namely *basic* and *digest*.</span></span> <span data-ttu-id="d0b1e-206">A autenticação básica é equivalente ao *nome* e autenticação *de senha* encontrado em muitos protocolos.</span><span class="sxs-lookup"><span data-stu-id="d0b1e-206">Basic authentication is equivalent to the *name* and *password* authentication found in many protocols.</span></span> <span data-ttu-id="d0b1e-207">Na autenticação básica HTTP, o nome e as palavras-passe são concatenados e codificados no formato base64.</span><span class="sxs-lookup"><span data-stu-id="d0b1e-207">In HTTP basic authentication, the name and passwords are concatenated and encoded in the base64 format.</span></span> <span data-ttu-id="d0b1e-208">A principal desvantagem da autenticação básica é o nome e a palavra-passe são transmitidas abertamente no pedido.</span><span class="sxs-lookup"><span data-stu-id="d0b1e-208">The main disadvantage of basic authentication is the name and password are transmitted openly in the request.</span></span> <span data-ttu-id="d0b1e-209">Isto torna um pouco fácil para o nome e a senha serem roubados.</span><span class="sxs-lookup"><span data-stu-id="d0b1e-209">This makes it somewhat easy for the name and password to be stolen.</span></span> <span data-ttu-id="d0b1e-210">A autenticação digestiva aborda este problema nunca transmitindo o nome e a palavra-passe no pedido.</span><span class="sxs-lookup"><span data-stu-id="d0b1e-210">Digest authentication addresses this problem by never transmitting the name and password in the request.</span></span> <span data-ttu-id="d0b1e-211">Em vez disso, um algoritmo é usado para obter uma digestão de 128 bits a partir do nome, palavra-passe e outras informações.</span><span class="sxs-lookup"><span data-stu-id="d0b1e-211">Instead, an algorithm is used to derive a 128-bit digest from the name, password, and other information.</span></span> <span data-ttu-id="d0b1e-212">O Servidor Web HTTP NetX suporta o algoritmo padrão de digestão MD5.</span><span class="sxs-lookup"><span data-stu-id="d0b1e-212">The NetX Web HTTP Server supports the standard MD5 digest algorithm.</span></span>

<span data-ttu-id="d0b1e-213">Quando é necessária a autenticação?</span><span class="sxs-lookup"><span data-stu-id="d0b1e-213">When is authentication required?</span></span> <span data-ttu-id="d0b1e-214">O SERVIDOR HTTP decide se um recurso solicitado requer autenticação.</span><span class="sxs-lookup"><span data-stu-id="d0b1e-214">The HTTP Server decides if a requested resource requires authentication.</span></span> <span data-ttu-id="d0b1e-215">Se for necessária a autenticação e o pedido do Cliente não incluir a autenticação adequada, é enviada ao Cliente uma resposta "HTTP/1.1 401 Não Autorizada" com o tipo de autenticação necessária.</span><span class="sxs-lookup"><span data-stu-id="d0b1e-215">If authentication is required and the Client request did not include the proper authentication, a “HTTP/1.1 401 Unauthorized” response with the type of authentication required is sent to the Client.</span></span> <span data-ttu-id="d0b1e-216">Espera-se então que o Cliente forme um novo pedido com a autenticação adequada.</span><span class="sxs-lookup"><span data-stu-id="d0b1e-216">The Client is then expected to form a new request with the proper authentication.</span></span>

<span data-ttu-id="d0b1e-217">Quando o HTTPS é utilizado, o SERVIDOR HTTPS ainda pode utilizar a autenticação HTTP.</span><span class="sxs-lookup"><span data-stu-id="d0b1e-217">When HTTPS is used, the HTTPS Server can still utilize HTTP authentication.</span></span> <span data-ttu-id="d0b1e-218">Neste caso, o TLS é utilizado para encriptar todo o tráfego HTTP, pelo que a utilização de autenticação *HTTP básica* não representa um risco de segurança.</span><span class="sxs-lookup"><span data-stu-id="d0b1e-218">In this case, TLS is used to encrypt all HTTP traffic so using *basic* HTTP authentication does not pose a security risk.</span></span> <span data-ttu-id="d0b1e-219">A autenticação *digestão* também é permitida, mas não proporciona melhorias significativas de segurança em relação à autenticação básica em relação ao TLS.</span><span class="sxs-lookup"><span data-stu-id="d0b1e-219">*Digest* authentication is also permitted but provides no significant security improvement over basic authentication over TLS.</span></span>

## <a name="http-authentication-callback"></a><span data-ttu-id="d0b1e-220">Chamada de autenticação HTTP</span><span class="sxs-lookup"><span data-stu-id="d0b1e-220">HTTP Authentication Callback</span></span>

<span data-ttu-id="d0b1e-221">Como mencionado anteriormente, a autenticação HTTP é opcional e não é necessária em todas as transferências web.</span><span class="sxs-lookup"><span data-stu-id="d0b1e-221">As mentioned before, HTTP authentication is optional and isn’t required on all Web transfers.</span></span> <span data-ttu-id="d0b1e-222">Além disso, a autenticação é normalmente dependente de recursos.</span><span class="sxs-lookup"><span data-stu-id="d0b1e-222">In addition, authentication is typically resource dependent.</span></span> <span data-ttu-id="d0b1e-223">O acesso de alguns recursos no Servidor requer autenticação, enquanto outros não.</span><span class="sxs-lookup"><span data-stu-id="d0b1e-223">Access of some resources on the Server require authentication, while others do not.</span></span> <span data-ttu-id="d0b1e-224">O pacote NetX Web HTTP Server permite que a aplicação especifique (através da chamada ***nx_web_http_server_create)*** uma rotina de chamada de autenticação que é chamada no início do tratamento de cada pedido do Cliente HTTP.</span><span class="sxs-lookup"><span data-stu-id="d0b1e-224">The NetX Web HTTP Server package allows the application to specify (via the ***nx_web_http_server_create*** call) an authentication callback routine that is called at the beginning of handling each HTTP Client request.</span></span>

<span data-ttu-id="d0b1e-225">A rotina de chamada fornece ao NetX Web HTTP Server o nome de utilizador, palavra-passe e cadeias de reinos associadas ao recurso e devolve o tipo de autenticação necessária.</span><span class="sxs-lookup"><span data-stu-id="d0b1e-225">The callback routine provides the NetX Web HTTP Server with the username, password, and realm strings associated with the resource and return the type of authentication necessary.</span></span> <span data-ttu-id="d0b1e-226">Se não for necessária qualquer autenticação para o recurso, a chamada de autenticação deve devolver o valor de **NX_WEB_HTTP_DONT_AUTHENTICATE**.</span><span class="sxs-lookup"><span data-stu-id="d0b1e-226">If no authentication is necessary for the resource, the authentication callback should return the value of **NX_WEB_HTTP_DONT_AUTHENTICATE**.</span></span> <span data-ttu-id="d0b1e-227">Caso contrário, se for necessária uma autenticação básica para o recurso especificado, a rotina deverá voltar **NX_WEB_HTTP_BASIC_AUTHENTICATE**.</span><span class="sxs-lookup"><span data-stu-id="d0b1e-227">Otherwise, if basic authentication is required for the specified resource, the routine should return **NX_WEB_HTTP_BASIC_AUTHENTICATE**.</span></span> <span data-ttu-id="d0b1e-228">E, finalmente, se a autenticação da digestão MD5 for necessária, a rotina de retorno deve voltar **NX_WEB_HTTP_DIGEST_AUTHENTICATE**.</span><span class="sxs-lookup"><span data-stu-id="d0b1e-228">And finally, if MD5 digest authentication is required, the callback routine should return **NX_WEB_HTTP_DIGEST_AUTHENTICATE**.</span></span> <span data-ttu-id="d0b1e-229">Se não for necessária qualquer autenticação para qualquer recurso fornecido pelo Servidor HTTP, a chamada não é necessária e um ponteiro NULO pode ser fornecido à chamada de criação do SERVIDOR HTTP.</span><span class="sxs-lookup"><span data-stu-id="d0b1e-229">If no authentication is required for any resource provided by the HTTP Server, the callback is not needed, and a NULL pointer can be provided to the HTTP Server create call.</span></span>

<span data-ttu-id="d0b1e-230">O formato da rotina de chamada autenticada da aplicação é muito simples e é definido abaixo:</span><span class="sxs-lookup"><span data-stu-id="d0b1e-230">The format of the application authenticate callback routine is very simple and is defined below:</span></span>

```C
UINT nx_web_http_server_authentication_check(NX_WEB_HTTP_SERVER *server_ptr,
    UINT request_type, CHAR *resource,
    CHAR **name, CHAR **password,
    CHAR **realm);
```

<span data-ttu-id="d0b1e-231">Os parâmetros de entrada são definidos da seguinte forma:</span><span class="sxs-lookup"><span data-stu-id="d0b1e-231">The input parameters are defined as follows:</span></span>

- <span data-ttu-id="d0b1e-232">**request_type** Especifica o pedido do cliente HTTP, os pedidos válidos são definidos como:</span><span class="sxs-lookup"><span data-stu-id="d0b1e-232">**request_type** Specifies the HTTP Client request, valid requests are defined as:</span></span>
  - <span data-ttu-id="d0b1e-233">**NX_WEB_HTTP_SERVER_GET_REQUEST**</span><span class="sxs-lookup"><span data-stu-id="d0b1e-233">**NX_WEB_HTTP_SERVER_GET_REQUEST**</span></span>
  - <span data-ttu-id="d0b1e-234">**NX_WEB_HTTP_SERVER_POST_REQUEST**</span><span class="sxs-lookup"><span data-stu-id="d0b1e-234">**NX_WEB_HTTP_SERVER_POST_REQUEST**</span></span>
  - <span data-ttu-id="d0b1e-235">**NX_WEB_HTTP_SERVER_HEAD_REQUEST**</span><span class="sxs-lookup"><span data-stu-id="d0b1e-235">**NX_WEB_HTTP_SERVER_HEAD_REQUEST**</span></span>
  - <span data-ttu-id="d0b1e-236">**NX_WEB_HTTP_SERVER_PUT_REQUEST**</span><span class="sxs-lookup"><span data-stu-id="d0b1e-236">**NX_WEB_HTTP_SERVER_PUT_REQUEST**</span></span>
  - <span data-ttu-id="d0b1e-237">**NX_WEB_HTTP_SERVER_DELETE_REQUEST**</span><span class="sxs-lookup"><span data-stu-id="d0b1e-237">**NX_WEB_HTTP_SERVER_DELETE_REQUEST**</span></span>
- <span data-ttu-id="d0b1e-238">**recurso** Recurso específico solicitado.</span><span class="sxs-lookup"><span data-stu-id="d0b1e-238">**resource** Specific resource requested.</span></span>
- <span data-ttu-id="d0b1e-239">**nome** Destino para o ponteiro para o nome de utilizador necessário.</span><span class="sxs-lookup"><span data-stu-id="d0b1e-239">**name** Destination for the pointer to the required username.</span></span>
- <span data-ttu-id="d0b1e-240">**senha** Destino para o ponteiro para a senha necessária.</span><span class="sxs-lookup"><span data-stu-id="d0b1e-240">**password** Destination for the pointer to the required password.</span></span>
- <span data-ttu-id="d0b1e-241">**reino** Destino para o ponteiro para o reino para esta autenticação.</span><span class="sxs-lookup"><span data-stu-id="d0b1e-241">**realm** Destination for the pointer to the realm for this authentication.</span></span>

<span data-ttu-id="d0b1e-242">O valor de devolução da rotina de autenticação especifica se for necessária autenticação.</span><span class="sxs-lookup"><span data-stu-id="d0b1e-242">The return value of the authentication routine specifies if authentication is required.</span></span> <span data-ttu-id="d0b1e-243">os ponteiros de nome, palavra-passe e de reino não são utilizados se **NX_WEB_HTTP_DONT_AUTHENTICATE** for devolvido pela rotina de chamada de autenticação.</span><span class="sxs-lookup"><span data-stu-id="d0b1e-243">name, password, and realm pointers are not used if **NX_WEB_HTTP_DONT_AUTHENTICATE** is returned by the authentication callback routine.</span></span> <span data-ttu-id="d0b1e-244">Caso contrário, o desenvolvedor do servidor HTTP deve **certificar-se** de que NX_WEB_HTTP_MAX_USERNAME e **NX_WEB_HTTP_MAX_PASSWORD** definidos em *nx_web_http_server.h* são suficientemente grandes para o nome de utilizador e palavra-passe especificados na chamada de autenticação.</span><span class="sxs-lookup"><span data-stu-id="d0b1e-244">Otherwise the HTTP server developer must ensure that **NX_WEB_HTTP_MAX_USERNAME** and **NX_WEB_HTTP_MAX_PASSWORD** defined in *nx_web_http_server.h* are large enough for the username and password specified in the authentication callback.</span></span> <span data-ttu-id="d0b1e-245">Ambos têm um tamanho padrão de 20 caracteres.</span><span class="sxs-lookup"><span data-stu-id="d0b1e-245">These both have a default size of 20 characters.</span></span>

## <a name="http-invalid-usernamepassword-callback"></a><span data-ttu-id="d0b1e-246">HTTP Nome de utilizador/password inválido</span><span class="sxs-lookup"><span data-stu-id="d0b1e-246">HTTP Invalid Username/Password Callback</span></span>

<span data-ttu-id="d0b1e-247">A chamada opcional de nome de utilizador/palavra-passe inválida no Servidor HTTP NetX web é invocada se o servidor HTTP receber um nome de utilizador inválido e uma combinação de palavra-passe num pedido do Cliente.</span><span class="sxs-lookup"><span data-stu-id="d0b1e-247">The optional invalid username/password callback in the NetX Web HTTP Server is invoked if the HTTP server receives an invalid username and password combination in a Client request.</span></span> <span data-ttu-id="d0b1e-248">Se a aplicação do servidor HTTP registar uma chamada com o servidor HTTP, será invocada se a autenticação básica ou digestão falhar *em nx_web_http_server_get_process()* em *nx_web_http_server_put_process()* ou *em nx_web_http_server_delete_process().*</span><span class="sxs-lookup"><span data-stu-id="d0b1e-248">If the HTTP server application registers a callback with HTTP server it will be invoked if either basic or digest authentication fails *in nx_web_http_server_get_process()*, in *nx_web_http_server_put_process(),* or *in nx_web_http_server_delete_process().*</span></span>

<span data-ttu-id="d0b1e-249">Para registar uma chamada com o servidor HTTP, o seguinte serviço é definido para o servidor HTTP Web NetX.</span><span class="sxs-lookup"><span data-stu-id="d0b1e-249">To register a callback with the HTTP server, the following service is defined for the NetX Web HTTP Server.</span></span>

```C
UINT nx_web_http_server_invalid_userpassword_notify_set(
    NX_WEB_HTTP_SERVER *http_server_ptr,
    UINT (*invalid_username_password_callback)
        (CHAR *resource, ULONG *client_nx_address,
        UINT request_type));
```

<span data-ttu-id="d0b1e-250">Os tipos de pedidos são definidos da seguinte forma:</span><span class="sxs-lookup"><span data-stu-id="d0b1e-250">The request types are defined as follows:</span></span>

- <span data-ttu-id="d0b1e-251">**NX_WEB_HTTP_SERVER_GET_REQUEST**</span><span class="sxs-lookup"><span data-stu-id="d0b1e-251">**NX_WEB_HTTP_SERVER_GET_REQUEST**</span></span>
- <span data-ttu-id="d0b1e-252">**NX_WEB_HTTP_SERVER_POST_REQUEST**</span><span class="sxs-lookup"><span data-stu-id="d0b1e-252">**NX_WEB_HTTP_SERVER_POST_REQUEST**</span></span>
- <span data-ttu-id="d0b1e-253">**NX_WEB_HTTP_SERVER_HEAD_REQUEST**</span><span class="sxs-lookup"><span data-stu-id="d0b1e-253">**NX_WEB_HTTP_SERVER_HEAD_REQUEST**</span></span>
- <span data-ttu-id="d0b1e-254">**NX_WEB_HTTP_SERVER_PUT_REQUEST**</span><span class="sxs-lookup"><span data-stu-id="d0b1e-254">**NX_WEB_HTTP_SERVER_PUT_REQUEST**</span></span>
- <span data-ttu-id="d0b1e-255">**NX_WEB_HTTP_SERVER_DELETE_REQUEST**</span><span class="sxs-lookup"><span data-stu-id="d0b1e-255">**NX_WEB_HTTP_SERVER_DELETE_REQUEST**</span></span>

## <a name="http-insert-gmt-date-header-callback"></a><span data-ttu-id="d0b1e-256">HTTP Insira a chamada do cabeçalho de data GMT</span><span class="sxs-lookup"><span data-stu-id="d0b1e-256">HTTP Insert GMT Date Header Callback</span></span>

<span data-ttu-id="d0b1e-257">Existe uma chamada opcional no Servidor HTTP NetX web para inserir um cabeçalho de data nas suas mensagens de resposta.</span><span class="sxs-lookup"><span data-stu-id="d0b1e-257">There is an optional callback in the NetX Web HTTP Server to insert a date header in its response messages.</span></span> <span data-ttu-id="d0b1e-258">Esta chamada é invocada quando o Servidor HTTP está a responder a um pedido de colocação ou de obter</span><span class="sxs-lookup"><span data-stu-id="d0b1e-258">This callback is invoked when the HTTP Server is responding to a put or get request</span></span>

<span data-ttu-id="d0b1e-259">Para registar uma chamada de data GMT com o servidor HTTP, é definido o seguinte serviço.</span><span class="sxs-lookup"><span data-stu-id="d0b1e-259">To register a GMT date callback with the HTTP Server, the following service is defined.</span></span>

```C
UINT nx_web_http_server_gmt_callback_set(
    NX_WEB_HTTP_SERVER *server_ptr,
    VOID (*gmt_get)(NX_WEB_HTTP_SERVER_DATE *date);
```

<span data-ttu-id="d0b1e-260">O tipo de dados NX_WEB_HTTP_SERVER_DATE é definido da seguinte forma:</span><span class="sxs-lookup"><span data-stu-id="d0b1e-260">The NX_WEB_HTTP_SERVER_DATE data type is defined as follows:</span></span>

```C
typedef struct NX_WEB_HTTP_SERVER_DATE_STRUCT
{
    USHORT nx_web_http_server_year; /* Year */
    UCHAR nx_web_http_server_month; /* Month */
    UCHAR nx_web_http_server_day; /* Day */
    UCHAR nx_web_http_server_hour; /* Hour */
    UCHAR nx_web_http_server_minute; /* Minute */
    UCHAR nx_web_http_server_second; /* Second */
    UCHAR nx_web_http_server_weekday; /* Weekday */
} NX_WEB_HTTP_SERVER_DATE;
```

## <a name="http-cache-info-get-callback"></a><span data-ttu-id="d0b1e-261">HTTP Cache Info Obter Callback</span><span class="sxs-lookup"><span data-stu-id="d0b1e-261">HTTP Cache Info Get Callback</span></span>

<span data-ttu-id="d0b1e-262">O SERVIDOR HTTP tem uma chamada de retorno para solicitar a idade máxima e data a partir da aplicação HTTP para um recurso específico.</span><span class="sxs-lookup"><span data-stu-id="d0b1e-262">The HTTP Server has a callback to request the maximum age and date from the HTTP application for a specific resource.</span></span> <span data-ttu-id="d0b1e-263">Estas informações são utilizadas para determinar se o servidor HTTP envia uma página inteira em resposta a um pedido do Cliente Obter.</span><span class="sxs-lookup"><span data-stu-id="d0b1e-263">This information is used to determine if the HTTP server sends an entire page in response to a Client Get request.</span></span> <span data-ttu-id="d0b1e-264">Se o "se modificado desde" no pedido do Cliente não for encontrado ou não corresponder à data "última modificada" devolvida pela chamada de cache, toda a página é enviada.</span><span class="sxs-lookup"><span data-stu-id="d0b1e-264">If the “if modified since” in the Client request is not found or does not match the “last modified” date returned by the get cache callback, the entire page is sent.</span></span>

<span data-ttu-id="d0b1e-265">Para registar a chamada com o servidor HTTP é definido o seguinte serviço:</span><span class="sxs-lookup"><span data-stu-id="d0b1e-265">To register the callback with the HTTP server the following service is defined:</span></span>

```C
UINT nx_web_http_server_cache_info_callback_set(
    NX_WEB_HTTP_SERVER *server_ptr,
    UINT (*cache_info_get)
    (CHAR *, UINT *, NX_WEB_HTTP_SERVER_DATE *));
```

## <a name="http-chunked-transfer-coding-support"></a><span data-ttu-id="d0b1e-266">SUPORTE DE Codificação de Transferências HTTP</span><span class="sxs-lookup"><span data-stu-id="d0b1e-266">HTTP Chunked Transfer Coding Support</span></span>

<span data-ttu-id="d0b1e-267">Quando o comprimento total da mensagem HTTP não puder ser determinado antes de a enviar, a função de codificação de transferências em pedaços pode ser utilizada para enviar mensagens como série de pedaços sem o campo de cabeçalho "Content-Length".</span><span class="sxs-lookup"><span data-stu-id="d0b1e-267">When the total length of HTTP message cannot be determined before sending it, the Chunked Transfer Coding feature can be used to send messages as series of chunks without the “Content-Length” header field.</span></span> <span data-ttu-id="d0b1e-268">Esta funcionalidade é suportada em todas as mensagens de pedido e resposta HTTP.</span><span class="sxs-lookup"><span data-stu-id="d0b1e-268">This feature is supported in all HTTP request and response messages.</span></span> <span data-ttu-id="d0b1e-269">Como recetor, esta função é suportada e o cabeçalho do pedaço é processado de forma transparente pela lógica interna.</span><span class="sxs-lookup"><span data-stu-id="d0b1e-269">As a receiver, this feature is supported, and the chunk header is processed transparently by internal logic.</span></span> <span data-ttu-id="d0b1e-270">Como remetente, a *API nx_web_http_client_request_chunked_set* e *nx_web_http_server_response_chunked_set* devem ser invocadas pelo cliente e pelo servidor, respectivamente.</span><span class="sxs-lookup"><span data-stu-id="d0b1e-270">As a sender, the API *nx_web_http_client_request_chunked_set* and *nx_web_http_server_response_chunked_set* must be invoked by client and server respectively.</span></span>

```C
UINT nx_web_http_client_request_chunked_set(NX_WEB_HTTP_CLIENT *client_ptr,
    UINT chunk_size,
    NX_PACKET *packet_ptr);

UINT nx_web_http_server_response_chunked_set(NX_WEB_HTTP_SERVER *server_ptr,
    UINT chunk_size,
    NX_PACKET *packet_ptr);
```

<span data-ttu-id="d0b1e-271">Para mais informações sobre estes serviços, consulte as suas descrições no Capítulo 3 "Descrição dos Serviços HTTP".</span><span class="sxs-lookup"><span data-stu-id="d0b1e-271">For more details on these services, see their descriptions in Chapter 3 “Description of HTTP Services”.</span></span>

## <a name="http-multipart-support"></a><span data-ttu-id="d0b1e-272">APOIO HTTP Multipart</span><span class="sxs-lookup"><span data-stu-id="d0b1e-272">HTTP Multipart Support</span></span>

<span data-ttu-id="d0b1e-273">As extensões multiusos de correio de Internet (MIME) destinavam-se originalmente ao protocolo SMTP, mas a sua utilização espalhou-se para HTTP.</span><span class="sxs-lookup"><span data-stu-id="d0b1e-273">Multipurpose Internet Mail Extensions (MIME) was originally intended for the SMTP protocol, but its use has spread to HTTP.</span></span> <span data-ttu-id="d0b1e-274">O MIME permite que as mensagens contenham tipos de mensagens mistas (por exemplo, imagem/jpg e texto/planície) dentro da mesma mensagem.</span><span class="sxs-lookup"><span data-stu-id="d0b1e-274">MIME allows messages to contain mixed message types (e.g. image/jpg and text/plain) within the same message.</span></span> <span data-ttu-id="d0b1e-275">O Servidor Web HTTP NetX tem serviços para determinar o tipo de conteúdo em mensagens HTTP que contenham MIME do Cliente.</span><span class="sxs-lookup"><span data-stu-id="d0b1e-275">The NetX Web HTTP Server has services to determine content type in HTTP messages containing MIME from the Client.</span></span> <span data-ttu-id="d0b1e-276">Para permitir o suporte e utilização de http multipartes, a opção de configuração **NX_WEB_HTTP_MULTIPART_ENABLE** deve ser definida.</span><span class="sxs-lookup"><span data-stu-id="d0b1e-276">To enable HTTP multipart support and use these services, the configuration option **NX_WEB_HTTP_MULTIPART_ENABLE** must be defined.</span></span>

```C
UINT nx_web_http_server_get_entity_header(NX_WEB_HTTP_SERVER *server_ptr,
    NX_PACKET **packet_pptr,
    UCHAR *entity_header_buffer,
    ULONG buffer_size);

UINT nx_web_http_server_get_entity_content(NX_WEB_HTTP_SERVER *server_ptr,
    NX_PACKET **packet_pptr,
    ULONG *available_offset,
    ULONG *available_length);
```

<span data-ttu-id="d0b1e-277">Para obter mais informações sobre a utilização destes serviços, consulte a sua descrição no capítulo 3 "Descrição dos Serviços HTTP".</span><span class="sxs-lookup"><span data-stu-id="d0b1e-277">For more details on the use of these services, see their description in Chapter 3 “Description of HTTP Services”.</span></span>

## <a name="http-multi-thread-support"></a><span data-ttu-id="d0b1e-278">SUPORTE HTTP Multi-Thread</span><span class="sxs-lookup"><span data-stu-id="d0b1e-278">HTTP Multi-Thread Support</span></span>

<span data-ttu-id="d0b1e-279">Os serviços do cliente NetX Web HTTP podem ser chamados a partir de vários fios simultaneamente.</span><span class="sxs-lookup"><span data-stu-id="d0b1e-279">The NetX Web HTTP Client services can be called from multiple threads simultaneously.</span></span> <span data-ttu-id="d0b1e-280">No entanto, ler ou escrever pedidos para uma determinada instância http cliente deve ser feito em sequência a partir do mesmo fio.</span><span class="sxs-lookup"><span data-stu-id="d0b1e-280">However, read or write requests for a particular HTTP Client instance should be done in sequence from the same thread.</span></span>

<span data-ttu-id="d0b1e-281">Se utilizar HTTPS, os serviços do cliente NetX Web HTTP podem ser chamados a partir de múltiplos fios, mas devido à complexidade acrescida da funcionalidade TLS subjacente, cada fio deve ter uma única instância http cliente independente (NX_WEB_HTTP_CLIENT estrutura de controlo).</span><span class="sxs-lookup"><span data-stu-id="d0b1e-281">If using HTTPS, NetX Web HTTP Client services may be called from multiple threads but due to the added complexity of the underlying TLS functionality each thread should have a single, independent HTTP Client instance (NX_WEB_HTTP_CLIENT control structure).</span></span>

## <a name="http-rfcs"></a><span data-ttu-id="d0b1e-282">HTTP RFCs</span><span class="sxs-lookup"><span data-stu-id="d0b1e-282">HTTP RFCs</span></span>

<span data-ttu-id="d0b1e-283">O NetX Web HTTP está em conformidade com o RFC1945 "Hypertext Transfer Protocol/1.0", RFC 2616 "Hypertext Transfer Protocol – HTTP/1.1", RFC 2581 "TCP Congestion Control", RFC 1122 "Requirements for Internet Hosts", e RFCs relacionados.</span><span class="sxs-lookup"><span data-stu-id="d0b1e-283">NetX Web HTTP is compliant with RFC1945 “Hypertext Transfer Protocol/1.0”, RFC 2616 “Hypertext Transfer Protocol – HTTP/1.1”, RFC 2581 “TCP Congestion Control”, RFC 1122 “Requirements for Internet Hosts”, and related RFCs.</span></span>

<span data-ttu-id="d0b1e-284">Para HTTPS, o NetX Web HTTP está em conformidade com o RFC 2818 "HTTP over TLS".</span><span class="sxs-lookup"><span data-stu-id="d0b1e-284">For HTTPS, NetX Web HTTP is compliant with RFC 2818 “HTTP over TLS”.</span></span>
