---
title: Capítulo 1 - Introdução ao Azure RTOS FileX
description: Azure RTOS FileX é um sistema completo de gestão de formato FAT e gestão de ficheiros para aplicações profundamente incorporadas.
author: philmea
ms.author: philmea
ms.date: 05/19/2020
ms.topic: article
ms.service: rtos
ms.openlocfilehash: be7e6f9cd9fbc69ac0908d1de733dac1c4f73bf6
ms.sourcegitcommit: e3d42e1f2920ec9cb002634b542bc20754f9544e
ms.translationtype: MT
ms.contentlocale: pt-PT
ms.lasthandoff: 03/22/2021
ms.locfileid: "104825519"
---
# <a name="chapter-1---introduction-to-azure-rtos-filex"></a><span data-ttu-id="79a91-103">Capítulo 1 - Introdução ao Azure RTOS FileX</span><span class="sxs-lookup"><span data-stu-id="79a91-103">Chapter 1 - Introduction to Azure RTOS FileX</span></span>

<span data-ttu-id="79a91-104">Azure RTOS FileX é um sistema completo de gestão de formato FAT e gestão de ficheiros para aplicações profundamente incorporadas.</span><span class="sxs-lookup"><span data-stu-id="79a91-104">Azure RTOS FileX is a complete FAT format media and file management system for deeply embedded applications.</span></span> <span data-ttu-id="79a91-105">Este capítulo introduz o FileX, descrevendo as suas aplicações e benefícios.</span><span class="sxs-lookup"><span data-stu-id="79a91-105">This chapter introduces FileX, describing its applications and benefits.</span></span>

## <a name="filex-unique-features"></a><span data-ttu-id="79a91-106">Recursos exclusivos do FileX</span><span class="sxs-lookup"><span data-stu-id="79a91-106">FileX Unique Features</span></span>

<span data-ttu-id="79a91-107">O Azure RTOS FileX suporta um número ilimitado de dispositivos de mídia ao mesmo tempo, incluindo discos RAM, gestores FLASH e dispositivos físicos reais.</span><span class="sxs-lookup"><span data-stu-id="79a91-107">Azure RTOS FileX supports an unlimited number of media devices at the same time, including RAM disks, FLASH managers, and actual physical devices.</span></span> <span data-ttu-id="79a91-108">Suporta formatos de tabela de atribuição de ficheiros de 12, 16 e 32 bits ( FAT), e também suporta a Tabela de Atribuição de Ficheiros Estendido (exFAT), a atribuição de ficheiros contíguos, e está altamente otimizada tanto para o tamanho como para o desempenho.</span><span class="sxs-lookup"><span data-stu-id="79a91-108">It supports 12-, 16-, and 32-bit File Allocation Table (FAT) formats, and also supports Extended File Allocation Table (exFAT), contiguous file allocation, and is highly optimized for both size and performance.</span></span> <span data-ttu-id="79a91-109">O FileX também inclui suporte tolerante a falhas, meios de comunicação abertos/fechados e funções de reversão de ficheiros.</span><span class="sxs-lookup"><span data-stu-id="79a91-109">FileX also includes fault tolerant support, media open/ close, and file write callback functions.</span></span>

<span data-ttu-id="79a91-110">Projetado para responder à necessidade crescente de dispositivos FLASH, o FileX utiliza os mesmos métodos de design e codificação que o ThreadX.</span><span class="sxs-lookup"><span data-stu-id="79a91-110">Designed to meet the growing need for FLASH devices, FileX uses the same design and coding methods as ThreadX.</span></span> <span data-ttu-id="79a91-111">Como todos os produtos da Microsoft, o FileX é distribuído com código fonte ANSI C completo, e não tem royalties de tempo de execução.</span><span class="sxs-lookup"><span data-stu-id="79a91-111">Like all Microsoft products, FileX is distributed with full ANSI C source code, and it has no run-time royalties.</span></span>

### <a name="product-highlights"></a><span data-ttu-id="79a91-112">Destaques do produto</span><span class="sxs-lookup"><span data-stu-id="79a91-112">Product Highlights</span></span>

- <span data-ttu-id="79a91-113">Suporte completo do processador ThreadX</span><span class="sxs-lookup"><span data-stu-id="79a91-113">Complete ThreadX processor support</span></span>
- <span data-ttu-id="79a91-114">Sem royalties</span><span class="sxs-lookup"><span data-stu-id="79a91-114">No royalties</span></span>
- <span data-ttu-id="79a91-115">Complete o código fonte ANSI C</span><span class="sxs-lookup"><span data-stu-id="79a91-115">Complete ANSI C source code</span></span>
- <span data-ttu-id="79a91-116">Desempenho em tempo real</span><span class="sxs-lookup"><span data-stu-id="79a91-116">Real-time performance</span></span>
- <span data-ttu-id="79a91-117">Suporte técnico responsivo</span><span class="sxs-lookup"><span data-stu-id="79a91-117">Responsive technical support</span></span>
- <span data-ttu-id="79a91-118">Objetos ilimitados de FileX (meios de comunicação, diretórios e ficheiros)</span><span class="sxs-lookup"><span data-stu-id="79a91-118">Unlimited FileX objects (media, directories, and files)</span></span>
- <span data-ttu-id="79a91-119">Criação/eliminação de objetos FileX dinâmicos</span><span class="sxs-lookup"><span data-stu-id="79a91-119">Dynamic FileX object creation/deletion</span></span>
- <span data-ttu-id="79a91-120">Uso flexível da memória</span><span class="sxs-lookup"><span data-stu-id="79a91-120">Flexible memory usage</span></span>
- <span data-ttu-id="79a91-121">Escalas de tamanho automaticamente</span><span class="sxs-lookup"><span data-stu-id="79a91-121">Size scales automatically</span></span>
- <span data-ttu-id="79a91-122">Tamanho da área de instrução de pequena pegada (até 6 KBytes): 6-30K</span><span class="sxs-lookup"><span data-stu-id="79a91-122">Small footprint (as low as 6 KBytes) instruction area size: 6-30K</span></span>
- <span data-ttu-id="79a91-123">Integração completa com a ThreadX</span><span class="sxs-lookup"><span data-stu-id="79a91-123">Complete integration with ThreadX</span></span>
- <span data-ttu-id="79a91-124">Endian neutro</span><span class="sxs-lookup"><span data-stu-id="79a91-124">Endian neutral</span></span>
- <span data-ttu-id="79a91-125">Controladores de E/S de FileX fáceis de implementar</span><span class="sxs-lookup"><span data-stu-id="79a91-125">Easy-to-implement FileX I/O drivers</span></span>
- <span data-ttu-id="79a91-126">Suporte de 12, 16 e 32 bits de GORDURA</span><span class="sxs-lookup"><span data-stu-id="79a91-126">12-, 16-, and 32-bit FAT support</span></span>
- <span data-ttu-id="79a91-127">suporte exFAT</span><span class="sxs-lookup"><span data-stu-id="79a91-127">exFAT support</span></span>
- <span data-ttu-id="79a91-128">Suporte de nome de ficheiro longo</span><span class="sxs-lookup"><span data-stu-id="79a91-128">Long filename support</span></span>
- <span data-ttu-id="79a91-129">Cache de entrada de GORDURA interna</span><span class="sxs-lookup"><span data-stu-id="79a91-129">Internal FAT entry cache</span></span>
- <span data-ttu-id="79a91-130">Suporte ao nome unicode</span><span class="sxs-lookup"><span data-stu-id="79a91-130">Unicode name support</span></span>
- <span data-ttu-id="79a91-131">Atribuição de ficheiros contíguos</span><span class="sxs-lookup"><span data-stu-id="79a91-131">Contiguous file allocation</span></span>
- <span data-ttu-id="79a91-132">Leitura/escrita de agrupamentos e sectores consecutivos</span><span class="sxs-lookup"><span data-stu-id="79a91-132">Consecutive sector and cluster read/write</span></span>
- <span data-ttu-id="79a91-133">Cache do sector lógico interno</span><span class="sxs-lookup"><span data-stu-id="79a91-133">Internal logical sector cache</span></span>
- <span data-ttu-id="79a91-134">Demonstração de disco RAM fica sem caixa</span><span class="sxs-lookup"><span data-stu-id="79a91-134">RAM disk demonstration runs out-of-the-box</span></span>
- <span data-ttu-id="79a91-135">Capacidade de formato de mídia</span><span class="sxs-lookup"><span data-stu-id="79a91-135">Media format capability</span></span>
- <span data-ttu-id="79a91-136">Deteção e recuperação de erros</span><span class="sxs-lookup"><span data-stu-id="79a91-136">Error detection and recovery</span></span>
- <span data-ttu-id="79a91-137">Opções tolerantes a falhas</span><span class="sxs-lookup"><span data-stu-id="79a91-137">Fault tolerant options</span></span>
- <span data-ttu-id="79a91-138">Estatísticas de desempenho incorporadas</span><span class="sxs-lookup"><span data-stu-id="79a91-138">Built-in performance statistics</span></span>
- <span data-ttu-id="79a91-139">Suporte autónomo (No Azure RTOS)</span><span class="sxs-lookup"><span data-stu-id="79a91-139">Standalone support (No Azure RTOS)</span></span>

## <a name="safety-certifications"></a><span data-ttu-id="79a91-140">Certificações de Segurança</span><span class="sxs-lookup"><span data-stu-id="79a91-140">Safety Certifications</span></span>

### <a name="tv-certification"></a><span data-ttu-id="79a91-141">Certificação TÜV</span><span class="sxs-lookup"><span data-stu-id="79a91-141">TÜV Certification</span></span>

<span data-ttu-id="79a91-142">O FileX foi certificado pela SGS-TÜV Saar para utilização em sistemas críticos de segurança, de acordo com o IEC-61508 e o IEC-62304.</span><span class="sxs-lookup"><span data-stu-id="79a91-142">FileX has been certified by SGS-TÜV Saar for use in safety-critical systems, according to IEC-61508 and IEC-62304.</span></span> <span data-ttu-id="79a91-143">A certificação confirma que o FileX pode ser utilizado no desenvolvimento de software relacionado com a segurança para os mais elevados níveis de integridade de segurança da Comissão Eletrotécnica Internacional (IEC) 61508 e IEC 62304, para a "Segurança Funcional dos sistemas eletrónicos de segurança elétricos, eletrónicos e programáveis relacionados com a segurança".</span><span class="sxs-lookup"><span data-stu-id="79a91-143">The certification confirms that FileX can be used in the development of safety-related software for the highest safety integrity levels of the International Electrotechnical Commission (IEC) 61508 and IEC 62304, for the "Functional Safety of electrical, electronic, and programmable electronic safety-related systems."</span></span> <span data-ttu-id="79a91-144">A SGS-TÜV Saar, formada através de uma joint venture da SGS-Group alemã e da TÜV Saarland, tornou-se a principal empresa acreditada e independente para testar, auditar, verificar e certificar software incorporado para sistemas relacionados com a segurança em todo o mundo.</span><span class="sxs-lookup"><span data-stu-id="79a91-144">SGS-TÜV Saar, formed through a joint venture of Germany's SGS-Group and TÜV Saarland, has become the leading accredited, independent company for testing, auditing, verifying, and certifying embedded software for safety-related systems worldwide.</span></span> <span data-ttu-id="79a91-145">A norma de segurança industrial IEC 61508, bem como todas as normas que dela derivam, incluindo o IEC 62304, são utilizadas para garantir a segurança funcional de dispositivos médicos eletrónicos elétricos, eletrónicos e programáveis relacionados com a segurança, sistemas de controlo de processos, máquinas industriais e sistemas de controlo ferroviário.</span><span class="sxs-lookup"><span data-stu-id="79a91-145">The industrial safety standard IEC 61508, and all standards that are derived from it, including IEC 62304, are used to assure the functional safety of electrical, electronic, and programmable electronic safety-related medical devices, process control systems, industrial machinery, and railway control systems.</span></span>

<span data-ttu-id="79a91-146">A SGS-TÜV Saar certificou o FileX para ser utilizado em sistemas automóveis críticos de segurança, de acordo com a norma ISO 26262.</span><span class="sxs-lookup"><span data-stu-id="79a91-146">SGS-TÜV Saar has certified FileX to be used in safety-critical automotive systems, according to the ISO 26262 standard.</span></span> <span data-ttu-id="79a91-147">Além disso, o FileX é certificado para o Automotive Safety Integrity Level (ASIL) D, que representa o mais alto nível de certificação ISO 26262.</span><span class="sxs-lookup"><span data-stu-id="79a91-147">Furthermore, FileX is certified to Automotive Safety Integrity Level (ASIL) D, which represents the highest level of ISO 26262 certification.</span></span>

<span data-ttu-id="79a91-148">Além disso, a SGS-TÜV Saar certificou o FileX para ser utilizado em aplicações ferroviárias críticas de segurança, cumprindo a norma EN 50128 até à SW-SIL 4.</span><span class="sxs-lookup"><span data-stu-id="79a91-148">In addition, SGS-TÜV Saar has certified FileX to be used in safety-critical railway applications, meeting to the EN 50128 standard up to SW-SIL 4.</span></span>

![Logotipo SGS TUV Saar](./media/user-guide/sgs-tuv-saar-logo.png)

- <span data-ttu-id="79a91-150">IEC 61508 até SIL 4</span><span class="sxs-lookup"><span data-stu-id="79a91-150">IEC 61508 up to SIL 4</span></span>
- <span data-ttu-id="79a91-151">IEC 62304 até à classe de segurança SW Classe C</span><span class="sxs-lookup"><span data-stu-id="79a91-151">IEC 62304 up to SW safety Class C</span></span>
- <span data-ttu-id="79a91-152">ISO 26262 ASIL D</span><span class="sxs-lookup"><span data-stu-id="79a91-152">ISO 26262 ASIL D</span></span>
- <span data-ttu-id="79a91-153">EN 50128 SW-SIL 4</span><span class="sxs-lookup"><span data-stu-id="79a91-153">EN 50128 SW-SIL 4</span></span>

> [!IMPORTANT]
> <span data-ttu-id="79a91-154">Entre em contato conosco para mais informações sobre quais as versões(s) do FileX foram certificadas pela TÜV ou para a disponibilidade de relatórios de teste, certificados e documentação associada.\*</span><span class="sxs-lookup"><span data-stu-id="79a91-154">Please contact us for more information on which version(s) of FileX have been certified by TÜV or for the availability of test reports, certificates, and associated documentation.\*</span></span>

### <a name="ul-certification"></a><span data-ttu-id="79a91-155">Certificação UL</span><span class="sxs-lookup"><span data-stu-id="79a91-155">UL Certification</span></span>

<span data-ttu-id="79a91-156">O FileX foi certificado pela UL para o cumprimento do anexo H da UL 60730-1, do CSA E60730-1 Anexo H, do IEC 60730-1 Anexo H, do ul 60335-1 anexo R, do IEC 603351 anexo R e das normas de segurança UL 1998 para o software em componentes programáveis.</span><span class="sxs-lookup"><span data-stu-id="79a91-156">FileX has been certified by UL for compliance with UL 60730-1 Annex H, CSA E60730-1 Annex H, IEC  60730-1 Annex H, UL 60335-1 Annex R, IEC 603351 Annex R, and UL 1998 safety standards for software in programmable components.</span></span> <span data-ttu-id="79a91-157">Juntamente com iEC/UL 60730-1, que tem requisitos para "Controlos de Software utilizando" no seu anexo H, a norma IEC 60335-1 descreve os requisitos relativos aos "Circuitos Eletrónicos Programáveis" no seu anexo R. IEC 60730 Anexo H e IEC 60335-1 Anexo R aborda a segurança do hardware e software MCU utilizados em aparelhos como máquinas de lavar roupa, máquinas de lavar louça, secadores, frigoríficos, congeladores, congeladores e fornos.</span><span class="sxs-lookup"><span data-stu-id="79a91-157">Along with IEC/UL 60730-1, which has requirements for  "Controls Using Software" in its Annex H, the IEC 60335-1 standard describes the requirements for "Programmable Electronic Circuits" in its Annex R. IEC 60730 Annex H and IEC 60335-1 Annex R address the safety of MCU hardware and software used in appliances such as washing machines, dishwashers, dryers, refrigerators, freezers, and ovens.</span></span>

![C RU US 2](./media/user-guide/c-ru-us-logo.png)

<span data-ttu-id="79a91-159">*UL/IEC 60730, UL/IEC 60335, UL 1998*</span><span class="sxs-lookup"><span data-stu-id="79a91-159">*UL/IEC 60730, UL/IEC 60335, UL 1998*</span></span>

> [!IMPORTANT]
><span data-ttu-id="79a91-160">*Entre em contato conosco para mais informações sobre quais as versões(s) do FileX foram certificadas pela UL ou para a disponibilidade de relatórios de teste, certificados e documentação associada.*</span><span class="sxs-lookup"><span data-stu-id="79a91-160">*Please contact us for more information on which version(s) of FileX have been certified by UL or for the availability of test reports, certificates, and associated documentation.*</span></span>

## <a name="powerful-services-of-filex"></a><span data-ttu-id="79a91-161">Serviços Poderosos do FileX</span><span class="sxs-lookup"><span data-stu-id="79a91-161">Powerful Services of FileX</span></span>

### <a name="multiple-media-management"></a><span data-ttu-id="79a91-162">Gestão de Múltiplos Meios de Comunicação Social</span><span class="sxs-lookup"><span data-stu-id="79a91-162">Multiple Media Management</span></span>

<span data-ttu-id="79a91-163">O FileX pode suportar um número ilimitado de meios físicos.</span><span class="sxs-lookup"><span data-stu-id="79a91-163">FileX can support an unlimited number of physical media.</span></span> <span data-ttu-id="79a91-164">Cada instância mediática tem a sua própria área de memória distinta e o controlador associado especificado na ***chamada fx_media_open.***</span><span class="sxs-lookup"><span data-stu-id="79a91-164">Each media instance has its own distinct memory area and associated driver specified on the ***fx_media_open*** call.</span></span> <span data-ttu-id="79a91-165">A distribuição predefinitiva do FileX vem com um simples controlador de mídia RAM e um sistema de demonstração que utiliza este disco RAM.</span><span class="sxs-lookup"><span data-stu-id="79a91-165">The default distribution of FileX comes with a simple RAM media driver and a demonstration system that uses this RAM disk.</span></span>

### <a name="logical-sector-cache"></a><span data-ttu-id="79a91-166">Cache do Sector Lógico</span><span class="sxs-lookup"><span data-stu-id="79a91-166">Logical Sector Cache</span></span>

<span data-ttu-id="79a91-167">Ao reduzir o número de transferências sectoriais inteiras, tanto de e para os meios de comunicação, o cache do sector lógico FileX melhora significativamente o desempenho.</span><span class="sxs-lookup"><span data-stu-id="79a91-167">By reducing the number of whole sector transfers, both to and from the media, the FileX logical sector cache significantly improves performance.</span></span> <span data-ttu-id="79a91-168">O FileX mantém uma cache lógico do sector para cada meio aberto.</span><span class="sxs-lookup"><span data-stu-id="79a91-168">FileX maintains a logical sector cache for each opened media.</span></span> <span data-ttu-id="79a91-169">A profundidade da cache do sector lógico é determinada pela quantidade de memória fornecida ao FileX com a ***chamada API fx_media_open.***</span><span class="sxs-lookup"><span data-stu-id="79a91-169">The depth of the logical sector cache is determined by the amount of memory supplied to FileX with the ***fx_media_open*** API call.</span></span>

### <a name="contiguous-file-support"></a><span data-ttu-id="79a91-170">Suporte ao Arquivo Contíguo</span><span class="sxs-lookup"><span data-stu-id="79a91-170">Contiguous File Support</span></span>

<span data-ttu-id="79a91-171">O FileX oferece suporte a ficheiros contíguos através do serviço API ***fx_file_allocate*** para melhorar e tornar determinístico o tempo de acesso ao ficheiro.</span><span class="sxs-lookup"><span data-stu-id="79a91-171">FileX offers contiguous file support through the API service ***fx_file_allocate*** to improve and make file access time deterministic.</span></span> <span data-ttu-id="79a91-172">Esta rotina requer a quantidade de memória solicitada e procura uma série de aglomerados adjacentes para satisfazer o pedido.</span><span class="sxs-lookup"><span data-stu-id="79a91-172">This routine takes the amount of memory requested and looks for a series of adjacent clusters to satisfy the request.</span></span> <span data-ttu-id="79a91-173">Se esses agrupamentos forem encontrados, são pré-atribuídos, tornando-os parte da cadeia de aglomerados atribuídos do ficheiro.</span><span class="sxs-lookup"><span data-stu-id="79a91-173">If such clusters are found, they are pre-allocated by making them part of the file's chain of allocated clusters.</span></span> <span data-ttu-id="79a91-174">Ao mover os meios físicos, o suporte contíguo do ficheiro FileX resulta numa melhoria significativa do desempenho e torna o tempo de acesso determinístico.</span><span class="sxs-lookup"><span data-stu-id="79a91-174">On moving physical media, the FileX contiguous file support results in a significant performance improvement and makes the access time deterministic.</span></span>

### <a name="dynamic-creation"></a><span data-ttu-id="79a91-175">Criação Dinâmica</span><span class="sxs-lookup"><span data-stu-id="79a91-175">Dynamic Creation</span></span>

<span data-ttu-id="79a91-176">O FileX permite-lhe criar recursos do sistema de forma dinâmica.</span><span class="sxs-lookup"><span data-stu-id="79a91-176">FileX allows you to create system resources dynamically.</span></span> <span data-ttu-id="79a91-177">Isto é especialmente importante se a sua aplicação tiver requisitos de configuração múltiplos ou dinâmicos.</span><span class="sxs-lookup"><span data-stu-id="79a91-177">This is especially important if your application has multiple or dynamic configuration requirements.</span></span> <span data-ttu-id="79a91-178">Além disso, não existem limites pré-determinados no número de recursos FileX que pode utilizar (meios de comunicação ou ficheiros).</span><span class="sxs-lookup"><span data-stu-id="79a91-178">In addition, there are no predetermined limits on the number of FileX resources you can use (media or files).</span></span> <span data-ttu-id="79a91-179">Além disso, o número de objetos do sistema não tem qualquer impacto no desempenho.</span><span class="sxs-lookup"><span data-stu-id="79a91-179">Also, the number of system objects does not have any impact on performance.</span></span>

## <a name="easy-to-use-api"></a><span data-ttu-id="79a91-180">API de fácil utilização</span><span class="sxs-lookup"><span data-stu-id="79a91-180">Easy-to-use API</span></span>

<span data-ttu-id="79a91-181">O FileX fornece a melhor tecnologia de sistema de ficheiros profundamente incorporada de uma forma fácil de entender e fácil de usar!</span><span class="sxs-lookup"><span data-stu-id="79a91-181">FileX provides the very best deeply embedded file system technology in a manner that is easy to understand and easy to use!</span></span> <span data-ttu-id="79a91-182">A Interface de Programação de Aplicações FileX (API) torna os serviços intuitivos e consistentes.</span><span class="sxs-lookup"><span data-stu-id="79a91-182">The FileX Application Programming Interface (API) makes the services intuitive and consistent.</span></span> <span data-ttu-id="79a91-183">Não terá de decifrar serviços de "sopa de alfabeto" que são muito comuns com outros sistemas de ficheiros.</span><span class="sxs-lookup"><span data-stu-id="79a91-183">You won't have to decipher "alphabet soup" services that are all too common with other file systems.</span></span>

<span data-ttu-id="79a91-184">Para obter uma lista completa dos serviços da versão 5 do FileX, consulte [o apêndice A](appendix-a.md).</span><span class="sxs-lookup"><span data-stu-id="79a91-184">For a complete list of the FileX Version 5 Services, see [Appendix A](appendix-a.md).</span></span>

## <a name="exfat-support"></a><span data-ttu-id="79a91-185">suporte exFAT</span><span class="sxs-lookup"><span data-stu-id="79a91-185">exFAT Support</span></span>

<span data-ttu-id="79a91-186">exFAT (Tabela de Atribuição de Ficheiros alargado) é um sistema de ficheiros concebido pela Microsoft para permitir que o tamanho do ficheiro exceda 2GB, um limite imposto pelos sistemas de ficheiros FAT32.</span><span class="sxs-lookup"><span data-stu-id="79a91-186">exFAT (extended File Allocation Table) is a file system designed by Microsoft to allow file size to exceed 2GB, a limit imposed by FAT32 file systems.</span></span> <span data-ttu-id="79a91-187">É o sistema de ficheiros predefinido para cartões SD com capacidade superior a 32GB.</span><span class="sxs-lookup"><span data-stu-id="79a91-187">It is the default file system for SD cards with capacity over 32GB.</span></span> <span data-ttu-id="79a91-188">Os cartões SD ou as unidades flash formatadas com o formato exFAT do FileX são compatíveis com o Windows.</span><span class="sxs-lookup"><span data-stu-id="79a91-188">SD cards or flash drives formatted with FileX exFAT format are compatible with Windows.</span></span> <span data-ttu-id="79a91-189">exFAT suporta o tamanho do ficheiro até um Exabyte (EB), que é aproximadamente mil milhões de GB.</span><span class="sxs-lookup"><span data-stu-id="79a91-189">exFAT supports file size up to one Exabyte (EB), which is approximately one billion GB.</span></span>

<span data-ttu-id="79a91-190">Os utilizadores que desejem utilizar o exFAT devem recompiler a biblioteca FileX com o símbolo \***FX_ENABLE_EXFAT** _ definido.</span><span class="sxs-lookup"><span data-stu-id="79a91-190">Users wishing to use exFAT must recompile the FileX library with the symbol \***FX_ENABLE_EXFAT** _ defined.</span></span> <span data-ttu-id="79a91-191">Ao abrir os meios de comunicação, o FileX deteta o tipo de mídia.</span><span class="sxs-lookup"><span data-stu-id="79a91-191">When opening media, FileX detects the media type.</span></span> <span data-ttu-id="79a91-192">Se o meio for formatado com exFAT, o FileX lê e escreve o sistema de ficheiros seguindo a norma exFAT.</span><span class="sxs-lookup"><span data-stu-id="79a91-192">If the media is formatted with exFAT, FileX reads and writes the file system following exFAT standard.</span></span> <span data-ttu-id="79a91-193">Para formatar novos meios de comunicação com exFAT, utilize o serviço _\*_fx_media_exFAT_format_\*\*.</span><span class="sxs-lookup"><span data-stu-id="79a91-193">To format new media with exFAT, use the service _\*_fx_media_exFAT_format_\*\*.</span></span> <span data-ttu-id="79a91-194">Por predefinição, o exFAT não está ativado.</span><span class="sxs-lookup"><span data-stu-id="79a91-194">By default exFAT is not enabled.</span></span>

## <a name="fault-tolerant-support"></a><span data-ttu-id="79a91-195">Suporte tolerante a falhas</span><span class="sxs-lookup"><span data-stu-id="79a91-195">Fault Tolerant Support</span></span>

<span data-ttu-id="79a91-196">O Módulo Tolerante a Falhas FileX foi concebido para prevenir a corrupção do sistema de ficheiros causada por interrupções durante o ficheiro ou atualização do diretório.</span><span class="sxs-lookup"><span data-stu-id="79a91-196">The FileX Fault Tolerant Module is designed to prevent file system corruption caused by interruptions during the file or directory update.</span></span> <span data-ttu-id="79a91-197">Por exemplo, ao anexar dados a um ficheiro, o FileX precisa de atualizar o conteúdo do ficheiro, a entrada no diretório e, possivelmente, as entradas FAT.</span><span class="sxs-lookup"><span data-stu-id="79a91-197">For example, when appending data to a file, FileX needs to update the content of the file, the directory entry, and possibly the FAT entries.</span></span> <span data-ttu-id="79a91-198">Se esta sequência de atualização for interrompida (como falha de energia, ou se os meios de comunicação forem ejetados no meio da atualização), o sistema de ficheiros encontra-se num estado inconsistente, o que pode afetar a integridade de todo o sistema de ficheiros, levando à corrupção de outros ficheiros.</span><span class="sxs-lookup"><span data-stu-id="79a91-198">If this sequence of update is interrupted (such as power glitch, or the media is ejected in the middle of the update), the file system is in an inconsistent state, which may affect the integrity of the entire file system, leading towards corruption of other files.</span></span>

<span data-ttu-id="79a91-199">O Módulo Tolerante a Falhas FileX funciona gravando todas as etapas necessárias para atualizar um ficheiro ou um diretório ao longo do caminho.</span><span class="sxs-lookup"><span data-stu-id="79a91-199">The FileX Fault Tolerant Module works by recording all steps required to update a file or a directory along the way.</span></span> <span data-ttu-id="79a91-200">Esta entrada de registo é armazenada nos meios de comunicação em sectores dedicados (blocos) que o FileX pode encontrar e aceder.</span><span class="sxs-lookup"><span data-stu-id="79a91-200">This log entry is stored on the media in dedicated sectors (blocks) that FileX can find and access.</span></span> <span data-ttu-id="79a91-201">A localização dos dados de registo pode ser acedida mesmo sem um sistema de ficheiros adequado.</span><span class="sxs-lookup"><span data-stu-id="79a91-201">The location of the log data can be accessed even without a proper file system.</span></span> <span data-ttu-id="79a91-202">Portanto, no caso de o sistema de ficheiros ser corrompido, o FileX ainda é capaz de encontrar a entrada de registo e restaurar o sistema de ficheiros de volta para um bom estado.</span><span class="sxs-lookup"><span data-stu-id="79a91-202">Therefore, in case the file system is corrupted, FileX is still able to find the log entry and restore the file system back into a good state.</span></span>

<span data-ttu-id="79a91-203">À medida que o FileX atualiza o ficheiro ou o diretório, são criadas entradas de registo.</span><span class="sxs-lookup"><span data-stu-id="79a91-203">As FileX updates file or directory, log entries are created.</span></span> <span data-ttu-id="79a91-204">Após a operação de atualização ser concluída com sucesso, as entradas de registo são removidas.</span><span class="sxs-lookup"><span data-stu-id="79a91-204">After the update operation is successfully completed, the log entries are removed.</span></span> <span data-ttu-id="79a91-205">Se as entradas de registo não foram corretamente removidas após uma atualização de ficheiros bem sucedida, se o processo de recuperação determinar que o conteúdo da entrada de registo corresponde ao sistema de ficheiros, nada precisa de ser feito e as entradas de registo podem ser limpas.</span><span class="sxs-lookup"><span data-stu-id="79a91-205">If the log entries were not properly removed after a successful file update, if the recovery process determines that the content in the log entry matches the file system, nothing needs to be done, and the log entries can be cleaned up.</span></span>

<span data-ttu-id="79a91-206">Caso a operação de atualização do sistema de ficheiros tenha sido interrompida, da próxima vez que o suporte for montado pelo FileX, o Módulo Tolerante de Falha analisa as entradas de registo.</span><span class="sxs-lookup"><span data-stu-id="79a91-206">In case the file system update operation was interrupted, next time the media is mounted by FileX, the Fault Tolerant Module analyzes the log entries.</span></span> <span data-ttu-id="79a91-207">As informações contidas nas entradas de registo permitem que o FileX recue as alterações parciais já aplicadas no sistema de ficheiros (caso a falha o faça durante a fase inicial da operação de atualização do ficheiro), ou se as entradas de registo contiverem informações de re-realização, o FileX pode aplicar as alterações necessárias para terminar a operação anterior.</span><span class="sxs-lookup"><span data-stu-id="79a91-207">The information in the log entries allows FileX to back out partial changes already applied to the file system (in case the failure happens during the early stage of the file update operation), or if the log entries contain re-do information, FileX is able to apply the changes required to finish the prior operation.</span></span>

<span data-ttu-id="79a91-208">Esta função tolerante a falhas está disponível para todos os sistemas de ficheiros FAT suportados pelo FileX, incluindo FAT12, FAT16, FAT32 e exFAT.</span><span class="sxs-lookup"><span data-stu-id="79a91-208">This fault tolerant feature is available to all FAT file systems supported by FileX, including FAT12, FAT16, FAT32, and exFAT.</span></span> <span data-ttu-id="79a91-209">Por defeito, o tolerante por defeito não está ativado no FileX.</span><span class="sxs-lookup"><span data-stu-id="79a91-209">By default fault tolerant is not enabled in FileX.</span></span> <span data-ttu-id="79a91-210">Para ativar a função tolerante a falhas, o FileX deve ser construído com o símbolo  **FX_ENABLE_FAULT_TOLERANT** e **FX_FAULT_TOLERANT** definido.</span><span class="sxs-lookup"><span data-stu-id="79a91-210">To enable the fault tolerant feature, FileX must be built with the symbol  **FX_ENABLE_FAULT_TOLERANT** and **FX_FAULT_TOLERANT** defined.</span></span> <span data-ttu-id="79a91-211">No tempo de execução, a aplicação inicia o serviço tolerante a falhas, chamando **_fx_fault_tolerant_enable_**.</span><span class="sxs-lookup"><span data-stu-id="79a91-211">At run time, the application starts fault tolerant service by calling **_fx_fault_tolerant_enable_**.</span></span>
<span data-ttu-id="79a91-212">Após o início do serviço, todas as operações de escrita de ficheiros e diretórios passam pelo Módulo Tolerante a Falhas.</span><span class="sxs-lookup"><span data-stu-id="79a91-212">After the service starts, all file and directory write operations go through the Fault Tolerant Module.</span></span>

<span data-ttu-id="79a91-213">À medida que o serviço tolerante a falhas começa, deteta primeiro se os meios de comunicação estão ou não protegidos sob o Módulo Tolerante de Falhas.</span><span class="sxs-lookup"><span data-stu-id="79a91-213">As fault tolerant service starts, it first detects whether or not the media is protected under the Fault Tolerant Module.</span></span> <span data-ttu-id="79a91-214">Caso contrário, o FileX assume a integridade do sistema de ficheiros e inicia a proteção atribuindo blocos livres do sistema de ficheiros a serem utilizados para registar e caching.</span><span class="sxs-lookup"><span data-stu-id="79a91-214">If it is not, FileX assumes integrity of the file system, and starts protection by allocating free blocks from the file system to be used for logging and caching.</span></span> <span data-ttu-id="79a91-215">Se os registos do Módulo Tolerante de Falha forem encontrados no sistema de ficheiros, analisa as entradas de registo.</span><span class="sxs-lookup"><span data-stu-id="79a91-215">If the Fault Tolerant Module logs are found on the file system, it analyzes the log entries.</span></span> <span data-ttu-id="79a91-216">O FileX reverte a operação anterior ou refaça a operação anterior, dependendo do conteúdo das entradas de registo.</span><span class="sxs-lookup"><span data-stu-id="79a91-216">FileX reverts the prior operation or redoes the prior operation, depending on the content of the log entries.</span></span> <span data-ttu-id="79a91-217">O sistema de ficheiros fica disponível depois de todas as entradas de registo prévio serem processadas.</span><span class="sxs-lookup"><span data-stu-id="79a91-217">The file system becomes available after all the prior log entries are processed.</span></span> <span data-ttu-id="79a91-218">Isto garante que a FIleX parte de um bom estado conhecido.</span><span class="sxs-lookup"><span data-stu-id="79a91-218">This ensures that FIleX starts from a known good state.</span></span>

<span data-ttu-id="79a91-219">Depois de um meio de comunicação ser protegido sob o Módulo Tolerante a Falhas filex, os meios de comunicação não serão atualizados com outro sistema de ficheiros.</span><span class="sxs-lookup"><span data-stu-id="79a91-219">After a media is protected under the FileX Fault Tolerant Module, the media will not be updated with another file system.</span></span> <span data-ttu-id="79a91-220">Ao fazê-lo, as entradas de registo no sistema de ficheiros seriam inconsistentes com o conteúdo da tabela FAT, a entrada do diretório.</span><span class="sxs-lookup"><span data-stu-id="79a91-220">Doing so would leave the log entries on the file system inconsistent with the contents in the FAT table, the directory entry.</span></span> <span data-ttu-id="79a91-221">Se o meio de comunicação for atualizado por outro sistema de ficheiros antes de o transferir de volta para o FileX com o Módulo Tolerante de Falhas, o resultado é indefinido.</span><span class="sxs-lookup"><span data-stu-id="79a91-221">If the media is updated by another file system before moving it back to FileX with the Fault Tolerant Module, the result is undefined.</span></span>

## <a name="callback-functions"></a><span data-ttu-id="79a91-222">Funções de retorno</span><span class="sxs-lookup"><span data-stu-id="79a91-222">Callback Functions</span></span>

<span data-ttu-id="79a91-223">As três funções de retorno seguintes são adicionadas ao FileX:</span><span class="sxs-lookup"><span data-stu-id="79a91-223">The following three callback functions are added to FileX:</span></span>

- <span data-ttu-id="79a91-224">Media Open callback</span><span class="sxs-lookup"><span data-stu-id="79a91-224">Media Open callback</span></span>
- <span data-ttu-id="79a91-225">Media Close callback</span><span class="sxs-lookup"><span data-stu-id="79a91-225">Media Close callback</span></span>
- <span data-ttu-id="79a91-226">Chamada de escrita de ficheiro</span><span class="sxs-lookup"><span data-stu-id="79a91-226">File Write callback</span></span>

<span data-ttu-id="79a91-227">Após a inscrição, estas funções notificarão o pedido quando tais eventos ocorrerem.</span><span class="sxs-lookup"><span data-stu-id="79a91-227">After registered, these functions will notify the application when such events occur.</span></span>

## <a name="easy-integration"></a><span data-ttu-id="79a91-228">Integração Fácil</span><span class="sxs-lookup"><span data-stu-id="79a91-228">Easy Integration</span></span>

<span data-ttu-id="79a91-229">O FileX é facilmente integrado com praticamente qualquer flash ou dispositivo de mídia.</span><span class="sxs-lookup"><span data-stu-id="79a91-229">FileX is easily integrated with virtually any FLASH or media device.</span></span> <span data-ttu-id="79a91-230">Porting FileX é simples.</span><span class="sxs-lookup"><span data-stu-id="79a91-230">Porting FileX is simple.</span></span> <span data-ttu-id="79a91-231">Este guia descreve o processo em detalhe, e o condutor da RAM do sistema de demonstração faz com que seja um bom lugar para começar!</span><span class="sxs-lookup"><span data-stu-id="79a91-231">This guide describes the process in detail, and the RAM driver of the demo system makes for a very good place to start!</span></span>
