---
title: Capítulo 2 - Instalação e utilização do Azure RTOS FileX
description: Este capítulo contém uma introdução ao Azure RTOS FileX e uma descrição das condições de instalação, procedimentos e utilização, incluindo os seguintes
author: philmea
ms.author: philmea
ms.date: 05/19/2020
ms.topic: article
ms.service: rtos
ms.openlocfilehash: 6703b10d8e0895984bb92d74d5dff809dca1a7f8
ms.sourcegitcommit: e3d42e1f2920ec9cb002634b542bc20754f9544e
ms.translationtype: MT
ms.contentlocale: pt-PT
ms.lasthandoff: 03/22/2021
ms.locfileid: "104825508"
---
# <a name="chapter-2---installation-and-use-of-azure-rtos-filex"></a><span data-ttu-id="65172-103">Capítulo 2 - Instalação e utilização do Azure RTOS FileX</span><span class="sxs-lookup"><span data-stu-id="65172-103">Chapter 2 - Installation and use of Azure RTOS FileX</span></span>

<span data-ttu-id="65172-104">Este capítulo contém uma introdução ao Azure RTOS FileX e uma descrição das condições de instalação, procedimentos e utilização.</span><span class="sxs-lookup"><span data-stu-id="65172-104">This chapter contains an introduction to Azure RTOS FileX and a description of installation conditions, procedures, and use.</span></span> 

## <a name="host-considerations"></a><span data-ttu-id="65172-105">Considerações de Anfitrião</span><span class="sxs-lookup"><span data-stu-id="65172-105">Host Considerations</span></span>

### <a name="computer-type"></a><span data-ttu-id="65172-106">Tipo de computador</span><span class="sxs-lookup"><span data-stu-id="65172-106">Computer Type</span></span>

<span data-ttu-id="65172-107">O desenvolvimento incorporado é geralmente realizado em computadores anfitriões Windows ou Linux (Unix).</span><span class="sxs-lookup"><span data-stu-id="65172-107">Embedded development is usually performed on Windows or Linux (Unix) host computers.</span></span> <span data-ttu-id="65172-108">Após a compilação da aplicação, ligada e localizada no anfitrião, é descarregada para o hardware alvo para execução.</span><span class="sxs-lookup"><span data-stu-id="65172-108">After the application is compiled, linked, and located on the host, it is downloaded to the target hardware for execution.</span></span>

### <a name="download-interfaces"></a><span data-ttu-id="65172-109">Baixar Interfaces</span><span class="sxs-lookup"><span data-stu-id="65172-109">Download Interfaces</span></span>

<span data-ttu-id="65172-110">Normalmente, o download do alvo é feito a partir do depurar da ferramenta de desenvolvimento.</span><span class="sxs-lookup"><span data-stu-id="65172-110">Usually the target download is done from within the development tool's debugger.</span></span> <span data-ttu-id="65172-111">Após o download, o depurante é responsável por fornecer controlo de execução de alvos (ir, parar, quebrar, etc.) bem como aceder aos registos de memória e processador.</span><span class="sxs-lookup"><span data-stu-id="65172-111">After download, the debugger is responsible for providing target execution control (go, halt, breakpoint, etc.) as well as access to memory and processor registers.</span></span>

### <a name="debugging-tools"></a><span data-ttu-id="65172-112">Ferramentas de depurar</span><span class="sxs-lookup"><span data-stu-id="65172-112">Debugging Tools</span></span>

<span data-ttu-id="65172-113">A maioria dos depurares de ferramentas de desenvolvimento comunicam com o hardware-alvo através de ligações de depuro on-chip (TOC), tais como JTAG (IEEE 1149.1) e Modo de Depuramento de Fundo (BDM).</span><span class="sxs-lookup"><span data-stu-id="65172-113">Most development tool debuggers communicate with the target hardware via on-chip debug (OCD) connections such as JTAG (IEEE 1149.1) and Background Debug Mode (BDM).</span></span> <span data-ttu-id="65172-114">Os debuggers também comunicam com o hardware alvo através de ligações In-Circuit Emulation (ICE).</span><span class="sxs-lookup"><span data-stu-id="65172-114">Debuggers also communicate with target hardware through In-Circuit Emulation (ICE) connections.</span></span> <span data-ttu-id="65172-115">As ligações OCD e ICE fornecem soluções robustas com uma intrusão mínima no software residente alvo.</span><span class="sxs-lookup"><span data-stu-id="65172-115">Both OCD and ICE connections provide robust solutions with minimal intrusion on the target resident software.</span></span>

### <a name="required-hard-disk-space"></a><span data-ttu-id="65172-116">Espaço de disco rígido necessário</span><span class="sxs-lookup"><span data-stu-id="65172-116">Required Hard Disk Space</span></span>

<span data-ttu-id="65172-117">O código-fonte do FileX é entregue em formato ASCII e requer aproximadamente 500 KBytes de espaço no disco rígido do computador anfitrião</span><span class="sxs-lookup"><span data-stu-id="65172-117">The source code for FileX is delivered in ASCII format and requires approximately 500 KBytes of space on the host computer's hard disk</span></span>

## <a name="target-considerations"></a><span data-ttu-id="65172-118">Considerações-alvo</span><span class="sxs-lookup"><span data-stu-id="65172-118">Target Considerations</span></span>

<span data-ttu-id="65172-119">O FileX requer entre 6 KBytes e 30 KBytes de memória Read-Only (ROM) no alvo.</span><span class="sxs-lookup"><span data-stu-id="65172-119">FileX requires between 6 KBytes and 30 KBytes of  Read-Only Memory (ROM) on the target.</span></span> <span data-ttu-id="65172-120">São necessários mais 100 bytes da Memória de Acesso Aleatório (RAM) do alvo para estruturas globais de dados do FileX.</span><span class="sxs-lookup"><span data-stu-id="65172-120">Another  100 bytes of the target's Random Access Memory (RAM) are required for FileX global data structures.</span></span> <span data-ttu-id="65172-121">Cada mídia aberta também requer 1,5 KBytes de RAM para o bloco de controlo, além de RAM para armazenar dados para um sector (normalmente 512 bytes).</span><span class="sxs-lookup"><span data-stu-id="65172-121">Each opened media also requires 1.5 KBytes of RAM for the control block in addition to RAM for storing data for one sector (typically 512 bytes).</span></span>

<span data-ttu-id="65172-122">Para a estampagem de data/hora funcionar corretamente, o FileX baseia-se nas instalações do temporizador ThreadX.</span><span class="sxs-lookup"><span data-stu-id="65172-122">For date/time stamping to function properly, FileX relies on ThreadX timer facilities.</span></span> <span data-ttu-id="65172-123">Isto é implementado criando um temporizador específico do FileX durante a inicialização do FileX.</span><span class="sxs-lookup"><span data-stu-id="65172-123">This is implemented by creating a FileX-specific timer during FileX initialization.</span></span> <span data-ttu-id="65172-124">O FileX também conta com semáforos ThreadX para proteção de múltiplos fios e suspensão de E/S.</span><span class="sxs-lookup"><span data-stu-id="65172-124">FileX also relies on ThreadX semaphores for multiple thread protection and I/O suspension.</span></span>

## <a name="product-distribution"></a><span data-ttu-id="65172-125">Distribuição de Produtos</span><span class="sxs-lookup"><span data-stu-id="65172-125">Product Distribution</span></span>

<span data-ttu-id="65172-126">O Azure RTOS FileX pode ser obtido a partir do nosso repositório de código de fonte pública em <https://github.com/azure-rtos/filex/> .</span><span class="sxs-lookup"><span data-stu-id="65172-126">Azure RTOS FileX can be obtained from our public source code repository at <https://github.com/azure-rtos/filex/>.</span></span>

<span data-ttu-id="65172-127">Segue-se uma lista de vários ficheiros importantes no repositório:</span><span class="sxs-lookup"><span data-stu-id="65172-127">The following is a list of several important files in the repository:</span></span>

- <span data-ttu-id="65172-128">***fx_api.h*** : Este ficheiro de cabeçalho C contém todos os equacionões do sistema, estruturas de dados e protótipos de serviço.</span><span class="sxs-lookup"><span data-stu-id="65172-128">***fx_api.h*** : This C header file contains all system equates, data structures, and service prototypes.</span></span>
- <span data-ttu-id="65172-129">***fx_port.h*** : Este ficheiro de cabeçalho C contém todas as definições e estruturas específicas da ferramenta de desenvolvimento.</span><span class="sxs-lookup"><span data-stu-id="65172-129">***fx_port.h*** : This C header file contains all development-tool-specific data definitions and structures.</span></span>
- <span data-ttu-id="65172-130">***demo_filex.c*** : Este ficheiro C contém uma pequena aplicação de demonstração.</span><span class="sxs-lookup"><span data-stu-id="65172-130">***demo_filex.c*** : This C file contains a small demo application.</span></span>
- <span data-ttu-id="65172-131">***fx.a (ou fx.lib)*** : Esta é a versão binária da biblioteca FileX C.</span><span class="sxs-lookup"><span data-stu-id="65172-131">***fx.a (or fx.lib)*** : This is the binary version of the FileX C library.</span></span> <span data-ttu-id="65172-132">É distribuído com o pacote padrão.</span><span class="sxs-lookup"><span data-stu-id="65172-132">It is distributed with the standard package.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="65172-133">*Todos os nomes dos ficheiros estão em minúsculas. Esta convenção de nomeação facilita a conversão dos comandos para plataformas de desenvolvimento Linux (Unix).*</span><span class="sxs-lookup"><span data-stu-id="65172-133">*All file names are in lower-case. This naming convention makes it easier to convert the commands to Linux (Unix) development platforms.*</span></span>

## <a name="filex-installation"></a><span data-ttu-id="65172-134">Instalação FileX</span><span class="sxs-lookup"><span data-stu-id="65172-134">FileX Installation</span></span>

<span data-ttu-id="65172-135">O FileX é instalado clonando o repositório GitHub à sua máquina local.</span><span class="sxs-lookup"><span data-stu-id="65172-135">FileX is installed by cloning the GitHub repository to your local machine.</span></span> <span data-ttu-id="65172-136">O seguinte é a sintaxe típica para criar um clone do repositório FileX no seu PC:</span><span class="sxs-lookup"><span data-stu-id="65172-136">The following is typical syntax for creating a clone of the FileX repository on your PC:</span></span>

```c
    git clone https://github.com/azure-rtos/filex
```

<span data-ttu-id="65172-137">Em alternativa, pode descarregar uma cópia do repositório utilizando o botão de descarregamento na página principal do GitHub.</span><span class="sxs-lookup"><span data-stu-id="65172-137">Alternatively you can download a copy of the repository using the download button on the GitHub main page.</span></span>

<span data-ttu-id="65172-138">Também encontrará instruções para a construção da biblioteca FileX na primeira página do repositório online.</span><span class="sxs-lookup"><span data-stu-id="65172-138">You will also find instructions for building the FileX library on the front page of the online repository.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="65172-139">O software de aplicação precisa de acesso ao ficheiro da biblioteca FileX (normalmente chamado***fx.a** _ ou _*_fx.lib_\*_) _and o C incluem ficheiros **fx_api.h** e **fx_port.h**.</span><span class="sxs-lookup"><span data-stu-id="65172-139">Application software needs access to the FileX library file (usually called\* usually ***fx.a** _ or _*_fx.lib_\*_) _and the C include files **fx_api.h** and **fx_port.h**.</span></span> <span data-ttu-id="65172-140">Isto é conseguido quer estabelecendo o caminho adequado para as ferramentas de desenvolvimento, quer copiando estes ficheiros para a área de desenvolvimento de aplicações.</span><span class="sxs-lookup"><span data-stu-id="65172-140">This is accomplished either by setting the appropriate path for the development tools or by copying these files into the application development area.</span></span>

## <a name="using-filex"></a><span data-ttu-id="65172-141">Utilização de Filex</span><span class="sxs-lookup"><span data-stu-id="65172-141">Using FileX</span></span>

<span data-ttu-id="65172-142">A utilização do FileX é fácil.</span><span class="sxs-lookup"><span data-stu-id="65172-142">Using FileX is easy.</span></span> <span data-ttu-id="65172-143">Basicamente, o código de aplicação deve incluir ***fx_api.h** _ durante a compilação e ligação com a biblioteca de tempo de execução FileX _*_fx.a_*_ (ou _*_fx.lib)._\*_</span><span class="sxs-lookup"><span data-stu-id="65172-143">Basically, the application code must include ***fx_api.h** _ during compilation and link with the FileX run-time library _*_fx.a_*_ (or _*_fx.lib_\*_).</span></span> <span data-ttu-id="65172-144">É claro que os ficheiros ThreadX, nomeadamente _*_tx_api.h_*_ e _*_tx.a_*_ (ou _*_tx.lib)_,*_\*_ também são necessários.</span><span class="sxs-lookup"><span data-stu-id="65172-144">Of course, the ThreadX files, namely _*_tx_api.h_*_ and _*_tx.a_*_ (or _*_tx.lib_*_)_,\* are also required.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="65172-145">Ao utilizar o FileX no modo Autónomo **(FX_STANDALONE_ENABLE** deve ser definido), não são necessários ficheiros/bibliotecas ThreadX.</span><span class="sxs-lookup"><span data-stu-id="65172-145">When using FileX in Standalone mode (**FX_STANDALONE_ENABLE** must be defined), ThreadX files/libraries are not required.</span></span>

<span data-ttu-id="65172-146">Assumindo que já está a utilizar o ThreadX, são necessários quatro passos para a construção de uma aplicação FileX:</span><span class="sxs-lookup"><span data-stu-id="65172-146">Assuming you are already using ThreadX, there are four steps required to build a FileX application:</span></span>

1. <span data-ttu-id="65172-147">Inclua o ficheiro ***fx_api.h*** em todos os ficheiros de aplicações que utilizam serviços FileX ou estruturas de dados.</span><span class="sxs-lookup"><span data-stu-id="65172-147">Include the ***fx_api.h*** file in all application files that use FileX services or data structures.</span></span>
1. <span data-ttu-id="65172-148">Inicialize o sistema FileX chamando ***fx_system_initialize** _ da função _ *_tx_application_define_** ou de um fio de aplicação.</span><span class="sxs-lookup"><span data-stu-id="65172-148">Initialize the FileX system by calling ***fx_system_initialize** _ from the _ *_tx_application_define_** function or an application thread.</span></span>

    > [!IMPORTANT]
    > <span data-ttu-id="65172-149">Ao utilizar o FileX no modo Autónomo, ***fx_system_initialize*** devem ser chamados diretamente do código de aplicação.</span><span class="sxs-lookup"><span data-stu-id="65172-149">When using FileX in Standalone mode, ***fx_system_initialize*** should be directly called from application code.</span></span>

1. <span data-ttu-id="65172-150">Adicione uma ou mais chamadas para ***fx_media_open*** para configurar os meios de comunicação FileX.</span><span class="sxs-lookup"><span data-stu-id="65172-150">Add one or more calls to ***fx_media_open*** to set up the FileX media.</span></span> <span data-ttu-id="65172-151">Esta chamada deve ser feita a partir do contexto de um fio de aplicação.</span><span class="sxs-lookup"><span data-stu-id="65172-151">This call must be made from the context of an application thread.</span></span>

    > [!IMPORTANT]
    > <span data-ttu-id="65172-152">*Lembre-se que a **chamada fx_media_open** requer RAM suficiente para armazenar dados para um setor.*</span><span class="sxs-lookup"><span data-stu-id="65172-152">*Remember that the **fx_media_open** call requires enough RAM to store data for one sector.*</span></span>

1. <span data-ttu-id="65172-153">Compilar a fonte de aplicação e ligar-se com as bibliotecas de tempo de execução FileX e ThreadX, ***fx.a** _ (ou _*_fx.lib)_*_ e _*_tx.a_*_ (ou _*_tx.lib_\*\*).</span><span class="sxs-lookup"><span data-stu-id="65172-153">Compile application source and link with the FileX and ThreadX run-time libraries, ***fx.a** _ (or _*_fx.lib_*_) and _*_tx.a_*_ (or _*_tx.lib_\*\*).</span></span> <span data-ttu-id="65172-154">A imagem resultante pode ser descarregada para o alvo e executada!</span><span class="sxs-lookup"><span data-stu-id="65172-154">The resulting image can be downloaded to the target and executed!</span></span>

## <a name="troubleshooting"></a><span data-ttu-id="65172-155">Resolução de problemas</span><span class="sxs-lookup"><span data-stu-id="65172-155">Troubleshooting</span></span>

<span data-ttu-id="65172-156">Cada porta FileX é entregue com uma aplicação de demonstração.</span><span class="sxs-lookup"><span data-stu-id="65172-156">Each FileX port is delivered with a demonstration application.</span></span> <span data-ttu-id="65172-157">É sempre uma boa ideia pôr o sistema de demonstração em primeiro lugar - seja no hardware-alvo ou num ambiente específico de demonstração.</span><span class="sxs-lookup"><span data-stu-id="65172-157">It is always a good idea to get the demonstration system running first—either on the target hardware or a specific demonstration environment.</span></span>

<span data-ttu-id="65172-158">Se o sistema de demonstração não funcionar, tente as seguintes coisas para reduzir o problema:</span><span class="sxs-lookup"><span data-stu-id="65172-158">If the demonstration system does not work, try the following things to narrow the problem:</span></span>

1. <span data-ttu-id="65172-159">Determina quanto da demonstração está a decorrer.</span><span class="sxs-lookup"><span data-stu-id="65172-159">Determine how much of the demonstration is running.</span></span>
1. <span data-ttu-id="65172-160">Aumente os tamanhos das pilhas (isto é mais importante no código de aplicação real do que na demonstração).</span><span class="sxs-lookup"><span data-stu-id="65172-160">Increase stack sizes (this is more important in actual application code than it is for the demonstration).</span></span>
1. <span data-ttu-id="65172-161">Certifique-se de que existe RAM suficiente para o tamanho padrão do disco RAM 32KBytes.</span><span class="sxs-lookup"><span data-stu-id="65172-161">Ensure there is enough RAM for the 32KBytes default RAM disk size.</span></span> <span data-ttu-id="65172-162">O sistema básico funcionará em muito menos RAM; no entanto, à medida que mais do disco RAM é usado, os problemas surgirão se não houver memória suficiente.</span><span class="sxs-lookup"><span data-stu-id="65172-162">The basic system will operate on much less RAM; however, as more of the RAM disk is used, problems will surface if there is not enough memory.</span></span>
1. <span data-ttu-id="65172-163">Contornar temporariamente quaisquer alterações recentes para ver se o problema desaparece ou muda.</span><span class="sxs-lookup"><span data-stu-id="65172-163">Temporarily bypass any recent changes to see if the problem disappears or changes.</span></span> <span data-ttu-id="65172-164">Estas informações devem revelar-se úteis aos engenheiros de suporte da Microsoft.</span><span class="sxs-lookup"><span data-stu-id="65172-164">Such information should prove useful to Microsoft support engineers.</span></span> <span data-ttu-id="65172-165">Siga os procedimentos descritos no "Centro de Apoio ao Cliente" para enviar as informações recolhidas a partir das etapas de resolução de problemas.</span><span class="sxs-lookup"><span data-stu-id="65172-165">Follow the procedures outlined in "Customer Support Center" to send the information gathered from the troubleshooting steps.</span></span>

## <a name="configuration-options"></a><span data-ttu-id="65172-166">Opções de configuração</span><span class="sxs-lookup"><span data-stu-id="65172-166">Configuration Options</span></span>

<span data-ttu-id="65172-167">Existem várias opções de configuração ao construir a biblioteca FileX e a aplicação utilizando o FileX.</span><span class="sxs-lookup"><span data-stu-id="65172-167">There are several configuration options when building the FileX library and the application using FileX.</span></span> <span data-ttu-id="65172-168">As opções abaixo podem ser definidas na fonte de aplicação, na linha de comando ou dentro do ***ficheiro fx_user.h.***</span><span class="sxs-lookup"><span data-stu-id="65172-168">The options below can be defined in the application source, on the command line, or within the ***fx_user.h*** include file.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="65172-169">\*As opções definidas em **fx_user.h** só são aplicadas se a aplicação e a biblioteca ThreadX forem construídas com \**_FX_INCLUDE_USER_DEFINE_FILE_*_ defined._ Quando utilizar o FileX no modo Autónomo (FX_STANDALONE_ENABLE\*\*\*\* deve ser definido), não são necessários ficheiros/bibliotecas ThreadX.</span><span class="sxs-lookup"><span data-stu-id="65172-169">*Options defined in **fx_user.h** are applied only if the application and ThreadX library are built with **_FX_INCLUDE_USER_DEFINE_FILE_\*_ defined._ When using FileX in Standalone mode (** FX_STANDALONE_ENABLE*\* must be defined), ThreadX files/libraries are not required.</span></span>

<span data-ttu-id="65172-170">A lista a seguir descreve cada opção de configuração em detalhe:</span><span class="sxs-lookup"><span data-stu-id="65172-170">The following list describes each configuration option in detail:</span></span>

|<span data-ttu-id="65172-171">Definir</span><span class="sxs-lookup"><span data-stu-id="65172-171">Define</span></span>|<span data-ttu-id="65172-172">Significado</span><span class="sxs-lookup"><span data-stu-id="65172-172">Meaning</span></span>|
|----------    |-----------|
|<span data-ttu-id="65172-173">FX_MAX_LAST_NAME_LEN</span><span class="sxs-lookup"><span data-stu-id="65172-173">FX_MAX_LAST_NAME_LEN</span></span>        |<span data-ttu-id="65172-174">Este valor define o comprimento máximo do nome do ficheiro, que inclui o nome do caminho completo.</span><span class="sxs-lookup"><span data-stu-id="65172-174">This value defines the maximum file name length, which includes full path name.</span></span> <span data-ttu-id="65172-175">Por padrão, este valor é de 256.</span><span class="sxs-lookup"><span data-stu-id="65172-175">By default, this value is 256.</span></span>|
|<span data-ttu-id="65172-176">FX_DONT_UPDATE_OPEN_FILES</span><span class="sxs-lookup"><span data-stu-id="65172-176">FX_DONT_UPDATE_OPEN_FILES</span></span>    |<span data-ttu-id="65172-177">Definido, o FileX não atualiza ficheiros já abertos.</span><span class="sxs-lookup"><span data-stu-id="65172-177">Defined, FileX does not update already opened files.</span></span>|
|<span data-ttu-id="65172-178">FX_MEDIA_DISABLE_SEARCH_CACHE</span><span class="sxs-lookup"><span data-stu-id="65172-178">FX_MEDIA_DISABLE_SEARCH_CACHE</span></span>    |<span data-ttu-id="65172-179">Definido, a otimização da cache de pesquisa de ficheiros é desativada.</span><span class="sxs-lookup"><span data-stu-id="65172-179">Defined, the file search cache optimization is disabled.</span></span>|
|<span data-ttu-id="65172-180">FX_MEDIA_DISABLE_SEARCH_CACHE</span><span class="sxs-lookup"><span data-stu-id="65172-180">FX_MEDIA_DISABLE_SEARCH_CACHE</span></span>    |<span data-ttu-id="65172-181">Definido, a otimização da cache de pesquisa de ficheiros é desativada.</span><span class="sxs-lookup"><span data-stu-id="65172-181">Defined, the file search cache optimization is disabled.</span></span>|
|<span data-ttu-id="65172-182">FX_DISABLE_DIRECT_DATA_READ_CACHE_FILL</span><span class="sxs-lookup"><span data-stu-id="65172-182">FX_DISABLE_DIRECT_DATA_READ_CACHE_FILL</span></span> |<span data-ttu-id="65172-183">Definida, a atualização do sector de leitura direta da cache é desativada.</span><span class="sxs-lookup"><span data-stu-id="65172-183">Defined, the direct read sector update of cache is disabled.</span></span>|
|<span data-ttu-id="65172-184">FX_MEDIA_STATISTICS_DISABLE</span><span class="sxs-lookup"><span data-stu-id="65172-184">FX_MEDIA_STATISTICS_DISABLE</span></span> |<span data-ttu-id="65172-185">Definida, a recolha de estatísticas dos meios de comunicação é desativada.</span><span class="sxs-lookup"><span data-stu-id="65172-185">Defined, gathering of media statistics is disabled.</span></span>|
|<span data-ttu-id="65172-186">FX_SINGLE_OPEN_LEGACY</span><span class="sxs-lookup"><span data-stu-id="65172-186">FX_SINGLE_OPEN_LEGACY</span></span> |<span data-ttu-id="65172-187">Definida, a lógica aberta única do legado para o mesmo ficheiro está ativada.</span><span class="sxs-lookup"><span data-stu-id="65172-187">Defined, legacy single open logic for the same file is enabled.</span></span>|
|<span data-ttu-id="65172-188">FX_RENAME_PATH_INHERIT</span><span class="sxs-lookup"><span data-stu-id="65172-188">FX_RENAME_PATH_INHERIT</span></span>    |<span data-ttu-id="65172-189">Definido, renomear herda informação do caminho.</span><span class="sxs-lookup"><span data-stu-id="65172-189">Defined, renaming inherits path information.</span></span>|
|<span data-ttu-id="65172-190">FX_DISABLE_ERROR_CHECKING</span><span class="sxs-lookup"><span data-stu-id="65172-190">FX_DISABLE_ERROR_CHECKING</span></span>    |<span data-ttu-id="65172-191">Remove o erro básico do FileX que verifica a API e resulta num melhor desempenho (até 30%) e menor tamanho de código.</span><span class="sxs-lookup"><span data-stu-id="65172-191">Removes the basic FileX error checking API and results in improved performance (as much as 30%) and smaller code size.</span></span>|
|<span data-ttu-id="65172-192">FX_MAX_LONG_NAME_LEN</span><span class="sxs-lookup"><span data-stu-id="65172-192">FX_MAX_LONG_NAME_LEN</span></span>    |<span data-ttu-id="65172-193">Especifica o tamanho máximo do nome do ficheiro para FileX.</span><span class="sxs-lookup"><span data-stu-id="65172-193">Specifies the maximum file name size for FileX.</span></span> <span data-ttu-id="65172-194">O valor predefinido é de 256, mas este pode ser ultrapassado com uma definição de linha de comando.</span><span class="sxs-lookup"><span data-stu-id="65172-194">The default value is 256, but this can be overridden with a command-line define.</span></span> <span data-ttu-id="65172-195">Os valores legais variam entre 13 e 256.</span><span class="sxs-lookup"><span data-stu-id="65172-195">Legal values range between 13 and 256.</span></span>|
|<span data-ttu-id="65172-196">FX_MAX_SECTOR_CACHE</span><span class="sxs-lookup"><span data-stu-id="65172-196">FX_MAX_SECTOR_CACHE</span></span>|<span data-ttu-id="65172-197">Especifica o número máximo de sectores lógicos que podem ser cached por FileX.</span><span class="sxs-lookup"><span data-stu-id="65172-197">Specifies the maximum number of logical sectors that can be cached by FileX.</span></span> <span data-ttu-id="65172-198">O número real de sectores que podem ser em cache é menor desta constante e quantos sectores podem caber na quantidade de memória fornecida a fx_media_open.</span><span class="sxs-lookup"><span data-stu-id="65172-198">The actual number of sectors that can be cached is lesser of this constant and how many sectors can fit in the amount of memory supplied at fx_media_open.</span></span> <span data-ttu-id="65172-199">O valor predefinido é de 256.</span><span class="sxs-lookup"><span data-stu-id="65172-199">The default value is 256.</span></span> <span data-ttu-id="65172-200">Todos os valores devem ser um poder de 2.</span><span class="sxs-lookup"><span data-stu-id="65172-200">All values must be a power of 2.</span></span>|
|<span data-ttu-id="65172-201">FX_FAT_MAP_SIZE</span><span class="sxs-lookup"><span data-stu-id="65172-201">FX_FAT_MAP_SIZE</span></span>    |<span data-ttu-id="65172-202">Especifica o número de sectores que podem ser representados no mapa de atualização fat.</span><span class="sxs-lookup"><span data-stu-id="65172-202">Specifies the number of sectors that can be represented in the FAT update map.</span></span> <span data-ttu-id="65172-203">O valor predefinido é de 256, mas este pode ser ultrapassado com uma definição de linha de comando.</span><span class="sxs-lookup"><span data-stu-id="65172-203">The default value is 256, but this can be overridden with a command-line define.</span></span> <span data-ttu-id="65172-204">Valores maiores ajudam a reduzir as atualizações não precisadas dos sectores secundários da FAT.</span><span class="sxs-lookup"><span data-stu-id="65172-204">Larger values help reduce unneeded updates of secondary FAT sectors.</span></span>|
|<span data-ttu-id="65172-205">FX_MAX_FAT_CACHE</span><span class="sxs-lookup"><span data-stu-id="65172-205">FX_MAX_FAT_CACHE</span></span>    |<span data-ttu-id="65172-206">Especifica o número de entradas na cache DE FAT interna.</span><span class="sxs-lookup"><span data-stu-id="65172-206">Specifies the number of entries in the internal FAT cache.</span></span> <span data-ttu-id="65172-207">O valor predefinido é de 16, mas este pode ser ultrapassado com uma definição de linha de comando.</span><span class="sxs-lookup"><span data-stu-id="65172-207">The default value is 16, but this can be overridden with a command-line define.</span></span> <span data-ttu-id="65172-208">Todos os valores devem ser um poder de 2.</span><span class="sxs-lookup"><span data-stu-id="65172-208">All values must be a power of 2.</span></span>|
|<span data-ttu-id="65172-209">FX_FAULT_TOLERANT</span><span class="sxs-lookup"><span data-stu-id="65172-209">FX_FAULT_TOLERANT</span></span>    |<span data-ttu-id="65172-210">Quando definido, o FileX passa imediatamente a escrever pedidos de todos os sectores do sistema (setores de arranque, FAT e diretório) ao condutor dos meios de comunicação.</span><span class="sxs-lookup"><span data-stu-id="65172-210">When defined, FileX immediately passes write requests of all system sectors (boot, FAT, and directory sectors) to the media's driver.</span></span> <span data-ttu-id="65172-211">Isto potencialmente diminui o desempenho, mas ajuda a limitar a corrupção a aglomerados perdidos.</span><span class="sxs-lookup"><span data-stu-id="65172-211">This potentially decreases performance, but helps limit corruption to lost clusters.</span></span> <span data-ttu-id="65172-212">Note que ativar esta função não ativa automaticamente o Módulo Tolerante com Falhas de FileX, que é ativado pela definição</span><span class="sxs-lookup"><span data-stu-id="65172-212">Note that enabling this feature does not automatically enable FileX Fault Tolerant Module, which is enabled by defining</span></span>|
|<span data-ttu-id="65172-213">FX_FAULT_TOLERANT_DATA</span><span class="sxs-lookup"><span data-stu-id="65172-213">FX_FAULT_TOLERANT_DATA</span></span>    |<span data-ttu-id="65172-214">Quando definido, o FileX transmite imediatamente todos os pedidos de escrita de dados de ficheiros ao controlador do meio de comunicação.</span><span class="sxs-lookup"><span data-stu-id="65172-214">When defined, FileX immediately passes all file data write requests to the media's driver.</span></span> <span data-ttu-id="65172-215">Isto potencialmente diminui o desempenho, mas ajuda a limitar os dados de ficheiros perdidos.</span><span class="sxs-lookup"><span data-stu-id="65172-215">This potentially decreases performance, but helps limit lost file data.</span></span> <span data-ttu-id="65172-216">Note que ativar esta função não ativa automaticamente o Módulo Tolerante com Falhas de FicheiroX, que é ativado definindo ***FX_ENABLE_FAULT_TOLERANT***</span><span class="sxs-lookup"><span data-stu-id="65172-216">Note that enabling this feature does not automatically enable FileX Fault Tolerant Module, which is enabled by defining ***FX_ENABLE_FAULT_TOLERANT***</span></span>|
|<span data-ttu-id="65172-217">FX_NO_LOCAL_PATH</span><span class="sxs-lookup"><span data-stu-id="65172-217">FX_NO_LOCAL_PATH</span></span>|<span data-ttu-id="65172-218">Remove a lógica do caminho local do FileX, resultando em tamanho de código menor.</span><span class="sxs-lookup"><span data-stu-id="65172-218">Removes local path logic from FileX, resulting in smaller code size.</span></span>|
|<span data-ttu-id="65172-219">FX_NO_TIMER</span><span class="sxs-lookup"><span data-stu-id="65172-219">FX_NO_TIMER</span></span>|<span data-ttu-id="65172-220">Elimina a configuração do temporizador ThreadX para atualizar a hora e a data do sistema FileX.</span><span class="sxs-lookup"><span data-stu-id="65172-220">Eliminates the ThreadX timer setup to update the FileX system time and date.</span></span> <span data-ttu-id="65172-221">Ao fazê-lo, a hora e a data por defeito serão colocadas em todas as operações de ficheiro.</span><span class="sxs-lookup"><span data-stu-id="65172-221">Doing so causes default time and date to be placed on all file operations.</span></span>|
|<span data-ttu-id="65172-222">FX_UPDATE_RATE_IN_SECONDS</span><span class="sxs-lookup"><span data-stu-id="65172-222">FX_UPDATE_RATE_IN_SECONDS</span></span>    |<span data-ttu-id="65172-223">Especifica a taxa em que o tempo do sistema no FileX é ajustado.</span><span class="sxs-lookup"><span data-stu-id="65172-223">Specifies rate at which system time in FileX is adjusted.</span></span> <span data-ttu-id="65172-224">Por predefinição, o valor é de 10, especificando que o tempo do sistema FileX é atualizado a cada 10 segundos.</span><span class="sxs-lookup"><span data-stu-id="65172-224">By default, value is 10, specifying that the FileX system time is updated every 10 seconds.</span></span>|
|<span data-ttu-id="65172-225">FX_ENABLE_EXFAT</span><span class="sxs-lookup"><span data-stu-id="65172-225">FX_ENABLE_EXFAT</span></span>| <span data-ttu-id="65172-226">Quando definido, a lógica de manuseamento do sistema de ficheiros exFAT está ativada no FileX.</span><span class="sxs-lookup"><span data-stu-id="65172-226">When defined, the logic for handling exFAT file system is enabled in FileX.</span></span> <span data-ttu-id="65172-227">Por padrão, este símbolo não está definido.</span><span class="sxs-lookup"><span data-stu-id="65172-227">By default this symbol is not defined.</span></span>| 
|<span data-ttu-id="65172-228">FX_UPDATE_RATE_IN_TICKS</span><span class="sxs-lookup"><span data-stu-id="65172-228">FX_UPDATE_RATE_IN_TICKS</span></span>| <span data-ttu-id="65172-229">Especifica a mesma taxa ***que FX_UPDATE_RATE_IN_SECONDS*** (ver acima), exceto em termos da frequência do temporizador ThreadX subjacente.</span><span class="sxs-lookup"><span data-stu-id="65172-229">Specifies the same rate as ***FX_UPDATE_RATE_IN_SECONDS*** (see above), except in terms of the underlying ThreadX timer frequency.</span></span> <span data-ttu-id="65172-230">O padrão é de 1000, que pressupõe uma taxa de temporizador ThreadX de 10ms e um intervalo de 10 segundos.</span><span class="sxs-lookup"><span data-stu-id="65172-230">The default is 1000, which assumes a 10ms ThreadX timer rate and a 10 second interval.</span></span>|
|<span data-ttu-id="65172-231">FX_SINGLE_THREAD</span><span class="sxs-lookup"><span data-stu-id="65172-231">FX_SINGLE_THREAD</span></span>|<span data-ttu-id="65172-232">Elimina a lógica de proteção ThreadX da fonte FileX.</span><span class="sxs-lookup"><span data-stu-id="65172-232">Eliminates ThreadX protection logic from the FileX source.</span></span> <span data-ttu-id="65172-233">Deve ser utilizado se o FileX estiver a ser utilizado apenas a partir de uma linha ou se o FileX estiver a ser utilizado sem o ThreadX.</span><span class="sxs-lookup"><span data-stu-id="65172-233">It should be used if FileX is being used only from one thread or if FileX is being used without ThreadX.</span></span>|
|<span data-ttu-id="65172-234">FX_DRIVER_USE_64BIT_LBA</span><span class="sxs-lookup"><span data-stu-id="65172-234">FX_DRIVER_USE_64BIT_LBA</span></span>|<span data-ttu-id="65172-235">Quando definido, permite endereços sectoriais de 64 bits utilizados no controlador de E/S.</span><span class="sxs-lookup"><span data-stu-id="65172-235">When defined, enables 64-bit sector addresses used in I/O driver.</span></span> <span data-ttu-id="65172-236">Por padrão esta opção não está definida.</span><span class="sxs-lookup"><span data-stu-id="65172-236">By default this option is not defined.</span></span>|
|<span data-ttu-id="65172-237">FX_ENABLE_FAULT_TOLERANT</span><span class="sxs-lookup"><span data-stu-id="65172-237">FX_ENABLE_FAULT_TOLERANT</span></span>| <span data-ttu-id="65172-238">Quando definido, ativa o Módulo Tolerante com Falhas de FicheiroX.</span><span class="sxs-lookup"><span data-stu-id="65172-238">When defined, enables FileX Fault Tolerant Module.</span></span> <span data-ttu-id="65172-239">Ativar o Tolerante de Falhas define automaticamente o símbolo ***FX_FAULT_TOLERANT** _ e _*_FX_FAULT_TOLERANT_DATA_\*\*.</span><span class="sxs-lookup"><span data-stu-id="65172-239">Enabling Fault Tolerant automatically defines the symbol ***FX_FAULT_TOLERANT** _ and _*_FX_FAULT_TOLERANT_DATA_\*\*.</span></span> <span data-ttu-id="65172-240">Por padrão esta opção não está definida.</span><span class="sxs-lookup"><span data-stu-id="65172-240">By default this option is not defined.</span></span>|
|<span data-ttu-id="65172-241">FX_FAULT_TOLERANT_BOOT_INDEX</span><span class="sxs-lookup"><span data-stu-id="65172-241">FX_FAULT_TOLERANT_BOOT_INDEX</span></span>|<span data-ttu-id="65172-242">Define byte offset no sector do arranque onde está o cluster para o tronco tolerante de falhas.</span><span class="sxs-lookup"><span data-stu-id="65172-242">Defines byte offset in the boot sector where the cluster for the fault tolerant log is.</span></span> <span data-ttu-id="65172-243">Por padrão, este valor é de 116.</span><span class="sxs-lookup"><span data-stu-id="65172-243">By default this value is 116.</span></span> <span data-ttu-id="65172-244">Este campo leva 4 bytes.</span><span class="sxs-lookup"><span data-stu-id="65172-244">This field takes 4 bytes.</span></span> <span data-ttu-id="65172-245">Os bytes 116 a 119 são escolhidos porque são marcados como reservados pela especificação FAT 12/16/32/exFAT.</span><span class="sxs-lookup"><span data-stu-id="65172-245">Bytes 116 through 119 are chosen because they are marked as reserved by FAT 12/16/32/exFAT specification.</span></span>|
|<span data-ttu-id="65172-246">FX_FAULT_TOLERANT_MINIMAL_CLUSTER</span><span class="sxs-lookup"><span data-stu-id="65172-246">FX_FAULT_TOLERANT_MINIMAL_CLUSTER</span></span>|<span data-ttu-id="65172-247">Este símbolo é precedido.</span><span class="sxs-lookup"><span data-stu-id="65172-247">This symbol is deprecated.</span></span> <span data-ttu-id="65172-248">Já não está a ser utilizado pela FileX Fault Tolerant.</span><span class="sxs-lookup"><span data-stu-id="65172-248">It is no longer being used by FileX Fault Tolerant.</span></span>|
|<span data-ttu-id="65172-249">FX_STANDALONE_ENABLE</span><span class="sxs-lookup"><span data-stu-id="65172-249">FX_STANDALONE_ENABLE</span></span>|<span data-ttu-id="65172-250">Definido, permite que o FileX seja utilizado em modo autónomo (sem Azure RTOS).</span><span class="sxs-lookup"><span data-stu-id="65172-250">Defined, enables FileX to be used in standalone mode (without Azure RTOS).</span></span> <span data-ttu-id="65172-251">Por padrão, este símbolo não está definido.</span><span class="sxs-lookup"><span data-stu-id="65172-251">By default this symbol is not defined.</span></span>|

> [!IMPORTANT]
> <span data-ttu-id="65172-252">Quando **FX_STANDALONE_ENABLE** é definida, a lógica do caminho local e a configuração do temporizador ThreadX são desativadas.</span><span class="sxs-lookup"><span data-stu-id="65172-252">When **FX_STANDALONE_ENABLE** is defined, Local path logic and ThreadX timer setup are disabled.</span></span>

## <a name="filex-version-id"></a><span data-ttu-id="65172-253">ID da versão filex</span><span class="sxs-lookup"><span data-stu-id="65172-253">FileX Version ID</span></span>

<span data-ttu-id="65172-254">A versão atual do FileX está disponível tanto para o utilizador como para o software da aplicação durante o tempo de funcionamento.</span><span class="sxs-lookup"><span data-stu-id="65172-254">The current version of FileX is available both to the user and the application software during run-time.</span></span> <span data-ttu-id="65172-255">O programador pode obter a versão FileX a partir do exame do ficheiro **fx_port.h.**</span><span class="sxs-lookup"><span data-stu-id="65172-255">The programmer can obtain the FileX version from examination of the **fx_port.h** file.</span></span> <span data-ttu-id="65172-256">Além disso, este ficheiro também contém um histórico de versão da porta correspondente.</span><span class="sxs-lookup"><span data-stu-id="65172-256">In addition, this file also contains a version history of the corresponding port.</span></span> <span data-ttu-id="65172-257">O software de aplicação pode obter a versão FileX examinando a cadeia global **_ _fx_version_id_**.</span><span class="sxs-lookup"><span data-stu-id="65172-257">Application software can obtain the FileX version by examining the global string **_ _fx_version_id_**.</span></span>
