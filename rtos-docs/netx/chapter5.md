---
title: Capítulo 5 - Azure RTOS NetX Network Drivers
description: Este capítulo contém uma descrição dos controladores de rede para o Azure RTOS NetX.
author: philmea
ms.author: philmea
ms.date: 09/11/2020
ms.topic: article
ms.service: rtos
ms.openlocfilehash: ccc55111d785d84cdb193c387830abbc03a15e7c
ms.sourcegitcommit: e3d42e1f2920ec9cb002634b542bc20754f9544e
ms.translationtype: MT
ms.contentlocale: pt-PT
ms.lasthandoff: 03/22/2021
ms.locfileid: "104826852"
---
# <a name="chapter-5---netx-network-drivers"></a><span data-ttu-id="c5959-103">Capítulo 5 - Pilotos da Rede NetX</span><span class="sxs-lookup"><span data-stu-id="c5959-103">Chapter 5 - NetX Network Drivers</span></span>

<span data-ttu-id="c5959-104">Este capítulo contém uma descrição dos controladores de rede para o NetX.</span><span class="sxs-lookup"><span data-stu-id="c5959-104">This chapter contains a description of network drivers for NetX.</span></span> <span data-ttu-id="c5959-105">A informação apresentada destina-se a ajudar os desenvolvedores a escreverem controladores de rede específicos para aplicações para o Azure RTOS NetX.</span><span class="sxs-lookup"><span data-stu-id="c5959-105">The information presented is designed to help developers write application-specific network drivers for Azure RTOS NetX.</span></span>

## <a name="driver-introduction"></a><span data-ttu-id="c5959-106">Introdução do Condutor</span><span class="sxs-lookup"><span data-stu-id="c5959-106">Driver Introduction</span></span>

<span data-ttu-id="c5959-107">A estrutura NX_IP contém tudo para gerir uma única instância IP.</span><span class="sxs-lookup"><span data-stu-id="c5959-107">The NX_IP structure contains everything to manage a single IP instance.</span></span> <span data-ttu-id="c5959-108">Isto inclui informações gerais do protocolo TCP/IP, bem como a rotina de entrada do condutor da rede física específica para aplicações.</span><span class="sxs-lookup"><span data-stu-id="c5959-108">This includes general TCP/IP protocol information as well as the application-specific physical network driver's entry routine.</span></span> <span data-ttu-id="c5959-109">A rotina de entrada do condutor é definida durante o serviço ***nx_ip_create.***</span><span class="sxs-lookup"><span data-stu-id="c5959-109">The driver's entry routine is defined during the ***nx_ip_create*** service.</span></span> <span data-ttu-id="c5959-110">Podem ser adicionados dispositivos adicionais à instância IP através do serviço ***nx_ip_interface_attach.***</span><span class="sxs-lookup"><span data-stu-id="c5959-110">Additional devices may be added to the IP instance via the ***nx_ip_interface_attach*** service.</span></span>

<span data-ttu-id="c5959-111">A comunicação entre a NetX e o controlador de rede da aplicação é realizada através da estrutura **de pedido NX_IP_DRIVER.**</span><span class="sxs-lookup"><span data-stu-id="c5959-111">Communication between NetX and the application's network driver is accomplished through the **NX_IP_DRIVER** request structure.</span></span> <span data-ttu-id="c5959-112">Esta estrutura é mais frequentemente definida localmente na pilha do chamador e é, portanto, libertada após o retorno da função de condutor e chamada.</span><span class="sxs-lookup"><span data-stu-id="c5959-112">This structure is most often defined locally on the caller's stack and is therefore released after the driver and calling function return.</span></span> <span data-ttu-id="c5959-113">A estrutura é definida da seguinte forma.</span><span class="sxs-lookup"><span data-stu-id="c5959-113">The structure is defined as follows.</span></span>

```C
typedef struct NX_IP_DRIVER_STRUCT
{
    UINT nx_ip_driver_command;
    UINT nx_ip_driver_status;
    ULONG nx_ip_driver_physical_address_msw;
    ULONG nx_ip_driver_physical_address_lsw;
    NX_PACKET *nx_ip_driver_packet;
    ULONG *nx_ip_driver_return_ptr;
    NX_IP *nx_ip_driver_ptr;
    NX_INTERFACE *nx_ip_driver_interface;
} NX_IP_DRIVER;
```

## <a name="driver-entry"></a><span data-ttu-id="c5959-114">Entrada do condutor</span><span class="sxs-lookup"><span data-stu-id="c5959-114">Driver Entry</span></span>

<span data-ttu-id="c5959-115">A NetX invoca a função de entrada do controlador de rede para a inicialização do condutor e para o envio de pacotes e para várias operações de controlo e estado, incluindo a inicialização e ativação do dispositivo de rede.</span><span class="sxs-lookup"><span data-stu-id="c5959-115">NetX invokes the network driver entry function for driver initialization and for sending packets and for various control and status operations, including initializing and enabling the network device.</span></span> <span data-ttu-id="c5959-116">NetX emite comandos ao controlador de rede definindo o campo ***nx_ip_driver_command** _ na estrutura de pedido _ *NX_IP_DRIVER** .</span><span class="sxs-lookup"><span data-stu-id="c5959-116">NetX issues commands to the network driver by setting the ***nx_ip_driver_command** _ field in the _ *NX_IP_DRIVER** request structure.</span></span> <span data-ttu-id="c5959-117">A função de entrada do controlador tem o seguinte formato:</span><span class="sxs-lookup"><span data-stu-id="c5959-117">The driver entry function has the following format:</span></span>

```C
VOID my_driver_entry(NX_IP_DRIVER *request);
```

## <a name="driver-requests"></a><span data-ttu-id="c5959-118">Pedidos de motorista</span><span class="sxs-lookup"><span data-stu-id="c5959-118">Driver Requests</span></span>

<span data-ttu-id="c5959-119">A NetX cria o pedido do controlador com um comando específico e invoca a função de entrada do controlador para executar o comando.</span><span class="sxs-lookup"><span data-stu-id="c5959-119">NetX creates the driver request with a specific command and invokes the driver entry function to execute the command.</span></span> <span data-ttu-id="c5959-120">Como cada controlador de rede tem uma única função de entrada, o NetX faz todos os pedidos através da estrutura de dados de pedido do controlador.</span><span class="sxs-lookup"><span data-stu-id="c5959-120">Because each network driver has a single entry function, NetX makes all requests through the driver request data structure.</span></span> <span data-ttu-id="c5959-121">O ***nx_ip_driver_command*** membro da estrutura de dados de pedido do condutor **(NX_IP_DRIVER)** define o pedido.</span><span class="sxs-lookup"><span data-stu-id="c5959-121">The ***nx_ip_driver_command*** member of the driver request data structure (**NX_IP_DRIVER**) defines the request.</span></span> <span data-ttu-id="c5959-122">As informações sobre o estado são comunicadas ao autor da chamada no ***nx_ip_driver_status*** membro .</span><span class="sxs-lookup"><span data-stu-id="c5959-122">Status information is reported back to the caller in the member ***nx_ip_driver_status***.</span></span> <span data-ttu-id="c5959-123">Se este campo for **NX_SUCCESS,** o pedido do condutor foi concluído com sucesso.</span><span class="sxs-lookup"><span data-stu-id="c5959-123">If this field is **NX_SUCCESS**, the driver request was completed successfully.</span></span>

<span data-ttu-id="c5959-124">NetX serializa todo o acesso ao condutor.</span><span class="sxs-lookup"><span data-stu-id="c5959-124">NetX serializes all access to the driver.</span></span> <span data-ttu-id="c5959-125">Por isso, o controlador não necessita de manusear vários fios assíncronos, chamando a função de entrada.</span><span class="sxs-lookup"><span data-stu-id="c5959-125">Therefore, the driver does not need to handle multiple threads asynchronously calling the entry function.</span></span> <span data-ttu-id="c5959-126">Note que a função do controlador do dispositivo executa com o mutex IP bloqueado.</span><span class="sxs-lookup"><span data-stu-id="c5959-126">Note that the device driver function executes with the IP mutex locked.</span></span> <span data-ttu-id="c5959-127">Por conseguinte, a função interna do controlador do dispositivo não deve bloquear-se sozinha.</span><span class="sxs-lookup"><span data-stu-id="c5959-127">Therefore the device driver internal function shall not block itself.</span></span>

<span data-ttu-id="c5959-128">Normalmente, o controlador do dispositivo também lida com interrupções.</span><span class="sxs-lookup"><span data-stu-id="c5959-128">Typically the device driver also handles interrupts.</span></span> <span data-ttu-id="c5959-129">Por isso, todas as funções do controlador devem ser interrompidas.</span><span class="sxs-lookup"><span data-stu-id="c5959-129">Therefore, all driver functions need to be interrupt-safe.</span></span>

### <a name="driver-initialization"></a><span data-ttu-id="c5959-130">Inicialização do condutor</span><span class="sxs-lookup"><span data-stu-id="c5959-130">Driver Initialization</span></span>

<span data-ttu-id="c5959-131">Embora o processamento de inicialização do condutor real seja específico da aplicação, geralmente consiste na estrutura de dados e na inicialização de hardware físico.</span><span class="sxs-lookup"><span data-stu-id="c5959-131">Although the actual driver initialization processing is application specific, it usually consists of data structure and physical hardware initialization.</span></span> <span data-ttu-id="c5959-132">A informação necessária do NetX para a inicialização do condutor é a Unidade de Transmissão Máxima IP (MTU), que é o número de bytes disponíveis para a carga útil da camada IP, incluindo o cabeçalho IP) e se a interface física necessitar de mapeamento lógico-físico.</span><span class="sxs-lookup"><span data-stu-id="c5959-132">The information required from NetX for driver initialization is the IP Maximum Transmission Unit (MTU), which is the number of bytes available to the IP-layer payload, including IP header) and if the physical interface needs logical-to-physical mapping.</span></span> <span data-ttu-id="c5959-133">O motorista precisa</span><span class="sxs-lookup"><span data-stu-id="c5959-133">The driver needs</span></span>

<span data-ttu-id="c5959-134">para configurar a interface MTU definindo o valor em ***nx_interface_ip_mtu_size** _ na estrutura _ *NX_INTERFACE** .</span><span class="sxs-lookup"><span data-stu-id="c5959-134">to configure the interface MTU by setting the value in ***nx_interface_ip_mtu_size** _ in the _ *NX_INTERFACE** structure.</span></span>

<span data-ttu-id="c5959-135">O controlador do dispositivo também precisa de configurar o valor em ***nx_ip_interface_address_mapping_needed*** em</span><span class="sxs-lookup"><span data-stu-id="c5959-135">The device driver also needs to set up the value in ***nx_ip_interface_address_mapping_needed*** in</span></span>

<span data-ttu-id="c5959-136">**NX_INTERFACE** informar o NetX se é ou não necessário mapear endereços de interface.</span><span class="sxs-lookup"><span data-stu-id="c5959-136">**NX_INTERFACE** to inform NetX whether or not interface address mapping is required.</span></span> <span data-ttu-id="c5959-137">Se for necessário mapeamento de endereços, o controlador é responsável por configurar a interface com endereço MAC válido e fornecer o endereço MAC ao NetX.</span><span class="sxs-lookup"><span data-stu-id="c5959-137">If address mapping is needed, the driver is responsible for configuring the interface with valid MAC address, and supply the MAC address to NetX.</span></span>

<span data-ttu-id="c5959-138">Quando o controlador de rede recebe o pedido de NX_LINK INITIALIZE da NetX, recebe um ponteiro para o bloco de controlo IP como parte do NX_IP_DRIVER bloco de controlo de pedido acima indicado.</span><span class="sxs-lookup"><span data-stu-id="c5959-138">When the network driver receives the NX_LINK INITIALIZE request from NetX, it receives a pointer to the IP control block as part of the NX_IP_DRIVER request control block shown above.</span></span>

<span data-ttu-id="c5959-139">Após a chamada de aplicação ***nx_ip_create,*** o fio do ajudante IP envia um pedido do controlador com o conjunto de comando para NX_LINK_INITIALIZE ao controlador para inicializar a sua interface de rede física.</span><span class="sxs-lookup"><span data-stu-id="c5959-139">After the application calls ***nx_ip_create***, the IP helper thread sends a driver request with the command set to NX_LINK_INITIALIZE to the driver to initialize its physical network interface.</span></span> <span data-ttu-id="c5959-140">Os seguintes membros NX_IP_DRIVER são utilizados para o pedido de inicialização.</span><span class="sxs-lookup"><span data-stu-id="c5959-140">The following NX_IP_DRIVER members are used for the initialize request.</span></span>

| <span data-ttu-id="c5959-141">NX_IP_DRIVER membro</span><span class="sxs-lookup"><span data-stu-id="c5959-141">NX_IP_DRIVER member</span></span>    | <span data-ttu-id="c5959-142">Significado</span><span class="sxs-lookup"><span data-stu-id="c5959-142">Meaning</span></span> |
|------------------------|-----------------------------------------------|
| <span data-ttu-id="c5959-143">nx_ip_driver_command</span><span class="sxs-lookup"><span data-stu-id="c5959-143">nx_ip_driver_command</span></span>   | <span data-ttu-id="c5959-144">NX_LINK_INITIALIZE</span><span class="sxs-lookup"><span data-stu-id="c5959-144">NX_LINK_INITIALIZE</span></span> |
| <span data-ttu-id="c5959-145">nx_ip_driver_ptr</span><span class="sxs-lookup"><span data-stu-id="c5959-145">nx_ip_driver_ptr</span></span>       | <span data-ttu-id="c5959-146">Ponteiro para a instância IP.</span><span class="sxs-lookup"><span data-stu-id="c5959-146">Pointer to the IP instance.</span></span> <span data-ttu-id="c5959-147">Este valor deve ser guardado pelo controlador para que a função do controlador possa encontrar a instância IP para operar.</span><span class="sxs-lookup"><span data-stu-id="c5959-147">This value should be saved by the driver so that the driver function can find the IP instance to operate on.</span></span> |
| <span data-ttu-id="c5959-148">nx_ip_driver_interface</span><span class="sxs-lookup"><span data-stu-id="c5959-148">nx_ip_driver_interface</span></span> | <span data-ttu-id="c5959-149">Ponteiro para a estrutura da interface de rede dentro da instância IP.</span><span class="sxs-lookup"><span data-stu-id="c5959-149">Pointer to the network interface structure within the IP instance.</span></span> <span data-ttu-id="c5959-150">Esta informação deve ser guardada pelo condutor.</span><span class="sxs-lookup"><span data-stu-id="c5959-150">This information should be saved by the driver.</span></span> <span data-ttu-id="c5959-151">Ao receber os pacotes, o condutor utilizará as informações da estrutura da interface ao enviar o pacote para cima da pilha.</span><span class="sxs-lookup"><span data-stu-id="c5959-151">On receiving packets, the driver shall use the interface structure information when sending the packet up the stack.</span></span> |
| <span data-ttu-id="c5959-152">nx_ip_driver_status</span><span class="sxs-lookup"><span data-stu-id="c5959-152">nx_ip_driver_status</span></span>    | <span data-ttu-id="c5959-153">Estado de conclusão.</span><span class="sxs-lookup"><span data-stu-id="c5959-153">Completion status.</span></span> <span data-ttu-id="c5959-154">Se o controlador não conseguir inicializar a interface especificada para a instância IP, retornará um estado de erro não zero.</span><span class="sxs-lookup"><span data-stu-id="c5959-154">If the driver is not able to initialize the specified interface to the IP instance, it will return a nonzero error status.</span></span>                                                                                           |


> [!IMPORTANT]
> <span data-ttu-id="c5959-155">*A maioria dos comandos do controlador são chamados a partir do fio de ajuda IP que foi criado para a instância IP. Por isso, a rotina do condutor deve evitar a realização de operações de bloqueio, ou o fio do ajudante IP pode travar, causando atrasos ilimitados em aplicações que dependem do fio IP.*</span><span class="sxs-lookup"><span data-stu-id="c5959-155">*Most of the driver commands are called from the IP helper thread that was created for the IP instance. Therefore the driver routine should avoid performing blocking operations, or the IP helper thread could stall, causing unbounded delays to applications that rely on the IP thread.*</span></span>

### <a name="enable-link"></a><span data-ttu-id="c5959-156">Ativar ligação</span><span class="sxs-lookup"><span data-stu-id="c5959-156">Enable Link</span></span>  

<span data-ttu-id="c5959-157">Em seguida, o fio de ajuda IP permite que a rede física, definindo o comando do controlador para NX_LINK_ENABLE no pedido do condutor e enviando o pedido ao controlador de rede.</span><span class="sxs-lookup"><span data-stu-id="c5959-157">Next, the IP helper thread enables the physical network by setting the driver command to NX_LINK_ENABLE in the driver request and sending the request to the network driver.</span></span> <span data-ttu-id="c5959-158">Isto acontece pouco depois de o fio do ajudante IP completar o pedido de inicialização.</span><span class="sxs-lookup"><span data-stu-id="c5959-158">This happens shortly after the IP helper thread completes the initialization request.</span></span> <span data-ttu-id="c5959-159">Ativar o link pode ser tão simples como definir o campo nx_interface_link_up no caso da interface.</span><span class="sxs-lookup"><span data-stu-id="c5959-159">Enabling the link may be as simple as setting the nx_interface_link_up field in the interface instance.</span></span> <span data-ttu-id="c5959-160">Mas também pode envolver manipulação do hardware físico.</span><span class="sxs-lookup"><span data-stu-id="c5959-160">But it may also involve manipulation of the physical hardware.</span></span> <span data-ttu-id="c5959-161">Os seguintes membros NX_IP_DRIVER são utilizados para o pedido de ligação de ativação.</span><span class="sxs-lookup"><span data-stu-id="c5959-161">The following NX_IP_DRIVER members are used for the enable link request.</span></span>

| <span data-ttu-id="c5959-162">NX_IP_DRIVER membro</span><span class="sxs-lookup"><span data-stu-id="c5959-162">NX_IP_DRIVER member</span></span>    | <span data-ttu-id="c5959-163">Significado</span><span class="sxs-lookup"><span data-stu-id="c5959-163">Meaning</span></span> |
|------------------------|------------------------------------------|
| <span data-ttu-id="c5959-164">nx_ip_driver_command</span><span class="sxs-lookup"><span data-stu-id="c5959-164">nx_ip_driver_command</span></span>   | <span data-ttu-id="c5959-165">NX_LINK_ENABLE</span><span class="sxs-lookup"><span data-stu-id="c5959-165">NX_LINK_ENABLE</span></span>                                                                                                          |
| <span data-ttu-id="c5959-166">nx_ip_driver_ptr</span><span class="sxs-lookup"><span data-stu-id="c5959-166">nx_ip_driver_ptr</span></span>       | <span data-ttu-id="c5959-167">Indicação para a instância IP</span><span class="sxs-lookup"><span data-stu-id="c5959-167">Pointer to IP instance</span></span>                                                                                                  |
| <span data-ttu-id="c5959-168">nx_ip_driver_interface</span><span class="sxs-lookup"><span data-stu-id="c5959-168">nx_ip_driver_interface</span></span> | <span data-ttu-id="c5959-169">Ponteiro para a instância da interface</span><span class="sxs-lookup"><span data-stu-id="c5959-169">Pointer to the interface instance</span></span>                                                                                       |
| <span data-ttu-id="c5959-170">nx_ip_driver_status</span><span class="sxs-lookup"><span data-stu-id="c5959-170">nx_ip_driver_status</span></span>    | <span data-ttu-id="c5959-171">Estado de conclusão.</span><span class="sxs-lookup"><span data-stu-id="c5959-171">Completion status.</span></span> <span data-ttu-id="c5959-172">Se o controlador não conseguir ativar a interface especificada, retornará um estado de erro não zero.</span><span class="sxs-lookup"><span data-stu-id="c5959-172">If the driver is not able to enable the specified interface, it will return a non-zero error status.</span></span> |



### <a name="disable-link"></a><span data-ttu-id="c5959-173">Ligação de desativação</span><span class="sxs-lookup"><span data-stu-id="c5959-173">Disable Link</span></span>  

<span data-ttu-id="c5959-174">Este pedido é feito pela NetX durante a supressão de uma instância IP pelo serviço \***nx_ip_delete** _ .</span><span class="sxs-lookup"><span data-stu-id="c5959-174">This request is made by NetX during the deletion of an IP instance by the \***nx_ip_delete** _ service.</span></span> <span data-ttu-id="c5959-175">Ou uma aplicação pode emitir este comando para desativar temporariamente a ligação para economizar energia.</span><span class="sxs-lookup"><span data-stu-id="c5959-175">Or an application may issue this command in order to temporarily disable the link in order to save power.</span></span> <span data-ttu-id="c5959-176">Este serviço desativa a interface de rede física na instância IP.</span><span class="sxs-lookup"><span data-stu-id="c5959-176">This service disables the physical network interface on the IP instance.</span></span> <span data-ttu-id="c5959-177">O processamento para desativar a ligação pode ser tão simples como limpar a _bandeira nx_interface_link_up\* no caso da interface. Mas também pode envolver manipulação do hardware físico. Normalmente é uma operação inversa da operação \***Ativar a ligação.**_</span><span class="sxs-lookup"><span data-stu-id="c5959-177">The processing to disable the link may be as simple as clearing the _nx_interface_link_up\* flag in the interface instance. But it may also involve manipulation of the physical hardware. Typically it is a reverse operation of the \***Enable Link**_ operation.</span></span> <span data-ttu-id="c5959-178">Depois de desativar o link, o pedido de pedido _ *_Ativar_* a operação Link \* para ativar a interface.</span><span class="sxs-lookup"><span data-stu-id="c5959-178">After the link is disabled, the application request _ *_Enable Link_*\* operation to enable the interface.</span></span> <span data-ttu-id="c5959-179">Os seguintes membros NX_IP_DRIVER são utilizados para o pedido de ligação para desativação.</span><span class="sxs-lookup"><span data-stu-id="c5959-179">The following NX_IP_DRIVER members are used for the disable link request.</span></span>

| <span data-ttu-id="c5959-180">NX_IP_DRIVER membro</span><span class="sxs-lookup"><span data-stu-id="c5959-180">NX_IP_DRIVER member</span></span>    | <span data-ttu-id="c5959-181">Significado</span><span class="sxs-lookup"><span data-stu-id="c5959-181">Meaning</span></span> |
|------------------------|--------------------------------------|
| <span data-ttu-id="c5959-182">nx_ip_driver_command</span><span class="sxs-lookup"><span data-stu-id="c5959-182">nx_ip_driver_command</span></span>   | <span data-ttu-id="c5959-183">NX_LINK_DISABLE</span><span class="sxs-lookup"><span data-stu-id="c5959-183">NX_LINK_DISABLE</span></span> |
| <span data-ttu-id="c5959-184">nx_ip_driver_ptr</span><span class="sxs-lookup"><span data-stu-id="c5959-184">nx_ip_driver_ptr</span></span>       | <span data-ttu-id="c5959-185">Indicação para a instância IP</span><span class="sxs-lookup"><span data-stu-id="c5959-185">Pointer to IP instance</span></span> |
| <span data-ttu-id="c5959-186">nx_ip_driver_interface</span><span class="sxs-lookup"><span data-stu-id="c5959-186">nx_ip_driver_interface</span></span> | <span data-ttu-id="c5959-187">Ponteiro para a instância da interface</span><span class="sxs-lookup"><span data-stu-id="c5959-187">Pointer to the interface instance</span></span> |
| <span data-ttu-id="c5959-188">nx_ip_driver_status</span><span class="sxs-lookup"><span data-stu-id="c5959-188">nx_ip_driver_status</span></span>    | <span data-ttu-id="c5959-189">Estado de conclusão.</span><span class="sxs-lookup"><span data-stu-id="c5959-189">Completion status.</span></span> <span data-ttu-id="c5959-190">Se o controlador não conseguir desativar a interface especificada na instância IP, retornará um estado de erro não zero.</span><span class="sxs-lookup"><span data-stu-id="c5959-190">If the driver is not able to disable the specified interface in the IP instance, it will return a non-zero error status.</span></span> |


### <a name="uninitialize-link"></a><span data-ttu-id="c5959-191">Ligação Uninitialize</span><span class="sxs-lookup"><span data-stu-id="c5959-191">Uninitialize Link</span></span>  

<span data-ttu-id="c5959-192">Este pedido é feito pela NetX durante a supressão de uma instância IP pelo serviço ***nx_ip_delete.***</span><span class="sxs-lookup"><span data-stu-id="c5959-192">This request is made by NetX during the deletion of an IP instance by the ***nx_ip_delete*** service.</span></span> <span data-ttu-id="c5959-193">Este pedido não insinializa a interface e liberta todos os recursos criados durante a fase de inicialização.</span><span class="sxs-lookup"><span data-stu-id="c5959-193">This request uninitialize the interface, and release any resources created during initialization phase.</span></span> <span data-ttu-id="c5959-194">Normalmente é uma operação inversa da operação ***De Ligação Inicialize.***</span><span class="sxs-lookup"><span data-stu-id="c5959-194">Typically it is a reverse operation of the ***Initialize Link*** operation.</span></span> <span data-ttu-id="c5959-195">Depois de a interface não ser inintalizada, o dispositivo não pode ser utilizado até que a interface seja novamente inicializada.</span><span class="sxs-lookup"><span data-stu-id="c5959-195">After the interface is uninitalized, the device cannot be used until the interface is initialized again.</span></span>

<span data-ttu-id="c5959-196">Os seguintes membros NX_IP_DRIVER são utilizados para o pedido de ligação para desativação.</span><span class="sxs-lookup"><span data-stu-id="c5959-196">The following NX_IP_DRIVER members are used for the disable link request.</span></span>

| <span data-ttu-id="c5959-197">NX_IP_DRIVER membro</span><span class="sxs-lookup"><span data-stu-id="c5959-197">NX_IP_DRIVER member</span></span>  | <span data-ttu-id="c5959-198">Significado</span><span class="sxs-lookup"><span data-stu-id="c5959-198">Meaning</span></span>                |
|----------------------|------------------------|
| <span data-ttu-id="c5959-199">nx_ip_driver_command</span><span class="sxs-lookup"><span data-stu-id="c5959-199">nx_ip_driver_command</span></span> | <span data-ttu-id="c5959-200">NX_LINK_UNINITIALZE</span><span class="sxs-lookup"><span data-stu-id="c5959-200">NX_LINK_UNINITIALZE</span></span>    |
| <span data-ttu-id="c5959-201">nx_ip_driver_ptr</span><span class="sxs-lookup"><span data-stu-id="c5959-201">nx_ip_driver_ptr</span></span>     | <span data-ttu-id="c5959-202">Indicação para a instância IP</span><span class="sxs-lookup"><span data-stu-id="c5959-202">Pointer to IP instance</span></span> |
| <span data-ttu-id="c5959-203">nx_ip_driver_interface</span><span class="sxs-lookup"><span data-stu-id="c5959-203">nx_ip_driver_interface</span></span> | <span data-ttu-id="c5959-204">Ponteiro para a instância da interface</span><span class="sxs-lookup"><span data-stu-id="c5959-204">Pointer to the interface instance</span></span> |
| <span data-ttu-id="c5959-205">nx_ip_driver_status</span><span class="sxs-lookup"><span data-stu-id="c5959-205">nx_ip_driver_status</span></span>    | <span data-ttu-id="c5959-206">Estado de conclusão.</span><span class="sxs-lookup"><span data-stu-id="c5959-206">Completion status.</span></span> <span data-ttu-id="c5959-207">Se o controlador não conseguir desintitializar a interface especificada para a instância IP, retornará um estado de erro não zero.</span><span class="sxs-lookup"><span data-stu-id="c5959-207">If the driver is not able to uninitialize the specified interface to the IP instance, it will return a non-zero error status.</span></span> |


### <a name="packet-send"></a><span data-ttu-id="c5959-208">Envio de pacote</span><span class="sxs-lookup"><span data-stu-id="c5959-208">Packet Send</span></span>  

<span data-ttu-id="c5959-209">Este pedido é feito durante o processamento interno de envio de IP, processamento, que todos os protocolos NetX usam para transmitir pacotes (exceto ARP, RARP).</span><span class="sxs-lookup"><span data-stu-id="c5959-209">This request is made during internal IP send processing, processing, which all NetX protocols use to transmit packets (except for ARP, RARP).</span></span> <span data-ttu-id="c5959-210">Ao receber o comando de envio do pacote, o *nx_packet_prepend_ptr* aponta para o início do pacote a enviar, que é o início do cabeçalho IP.</span><span class="sxs-lookup"><span data-stu-id="c5959-210">On receiving the packet send command, the *nx_packet_prepend_ptr* points to the beginning of the packet to be sent, which is the beginning of the IP header.</span></span>
<span data-ttu-id="c5959-211">*nx_packet_length* indica o tamanho total (in bytes) dos dados transmitidos.</span><span class="sxs-lookup"><span data-stu-id="c5959-211">*nx_packet_length* indicates the total size (in bytes) of the data being transmitted.</span></span> <span data-ttu-id="c5959-212">Se *nx_packet_next* for válido, o datagrama IP de saída é armazenado em vários pacotes, o controlador é obrigado a seguir o pacote acorrentado e transmitir todo o quadro.</span><span class="sxs-lookup"><span data-stu-id="c5959-212">If *nx_packet_next* is valid, the outgoing IP datagram is stored in multiple packets, the driver is required to follow the chained packet and transmit the entire frame.</span></span> <span data-ttu-id="c5959-213">Note que a área de dados válida em cada pacote acorrentado é armazenada entre *nx_packet_prepend_ptr* e *nx_packet_append_ptr*.</span><span class="sxs-lookup"><span data-stu-id="c5959-213">Note that valid data area in each chained packet is stored between *nx_packet_prepend_ptr* and *nx_packet_append_ptr*.</span></span>

<span data-ttu-id="c5959-214">O condutor é responsável pela construção do cabeçalho físico.</span><span class="sxs-lookup"><span data-stu-id="c5959-214">The driver is responsible for constructing physical header.</span></span> <span data-ttu-id="c5959-215">Se for necessário um endereço físico para o mapeamento de endereços IP (como o Ethernet), a camada IP já resolveu o endereço MAC.</span><span class="sxs-lookup"><span data-stu-id="c5959-215">If physical address to IP address mapping is required (such as Ethernet), the IP layer already resolved the MAC address.</span></span> <span data-ttu-id="c5959-216">O endereço MAC de destino é passado a partir da instância IP, armazenado em *nx_ip_driver_physical_address_msw e nx_ip_driver_physical_address_lsw.*</span><span class="sxs-lookup"><span data-stu-id="c5959-216">The destination MAC address is passed from the IP instance, stored in *nx_ip_driver_physical_address_msw and nx_ip_driver_physical_address_lsw.*</span></span>

<span data-ttu-id="c5959-217">Depois de adicionar o cabeçalho físico, o processamento de envio do pacote chama então a função de saída do condutor para transmitir o pacote.</span><span class="sxs-lookup"><span data-stu-id="c5959-217">After adding the physical header, the packet send processing then calls the driver's output function to transmit the packet.</span></span>

<span data-ttu-id="c5959-218">Os seguintes membros NX_IP_DRIVER são utilizados para o pedido de envio de pacotes.</span><span class="sxs-lookup"><span data-stu-id="c5959-218">The following NX_IP_DRIVER members are used for the packet send request.</span></span>

| <span data-ttu-id="c5959-219">NX_IP_DRIVER membro</span><span class="sxs-lookup"><span data-stu-id="c5959-219">NX_IP_DRIVER member</span></span>               | <span data-ttu-id="c5959-220">Significado</span><span class="sxs-lookup"><span data-stu-id="c5959-220">Meaning</span></span> |
|-----------------------------------|---------------------------------------------------------------|
| <span data-ttu-id="c5959-221">nx_ip_driver_command</span><span class="sxs-lookup"><span data-stu-id="c5959-221">nx_ip_driver_command</span></span>              | <span data-ttu-id="c5959-222">NX_LINK_PACKET_SEND</span><span class="sxs-lookup"><span data-stu-id="c5959-222">NX_LINK_PACKET_SEND</span></span> |
| <span data-ttu-id="c5959-223">nx_ip_driver_ptr</span><span class="sxs-lookup"><span data-stu-id="c5959-223">nx_ip_driver_ptr</span></span>                  | <span data-ttu-id="c5959-224">Indicação para a instância IP</span><span class="sxs-lookup"><span data-stu-id="c5959-224">Pointer to IP instance</span></span> |
| <span data-ttu-id="c5959-225">nx_ip_driver_packet</span><span class="sxs-lookup"><span data-stu-id="c5959-225">nx_ip_driver_packet</span></span>               | <span data-ttu-id="c5959-226">Ponteiro para o pacote para enviar</span><span class="sxs-lookup"><span data-stu-id="c5959-226">Pointer to the packet to send</span></span> |
| <span data-ttu-id="c5959-227">nx_ip_driver_interface</span><span class="sxs-lookup"><span data-stu-id="c5959-227">nx_ip_driver_interface</span></span>            | <span data-ttu-id="c5959-228">Ponteiro para a instância da interface.</span><span class="sxs-lookup"><span data-stu-id="c5959-228">Pointer to the interface instance.</span></span>             |
| <span data-ttu-id="c5959-229">nx_ip_driver_physical_address_msw</span><span class="sxs-lookup"><span data-stu-id="c5959-229">nx_ip_driver_physical_address_msw</span></span> | <span data-ttu-id="c5959-230">32 bits de endereço físico mais significativos (apenas se necessário mapeamento físico)</span><span class="sxs-lookup"><span data-stu-id="c5959-230">Most significant 32-bits of physical address (only if physical mapping needed)</span></span> |
| <span data-ttu-id="c5959-231">nx_ip_driver_physical_address_lsw</span><span class="sxs-lookup"><span data-stu-id="c5959-231">nx_ip_driver_physical_address_lsw</span></span> | <span data-ttu-id="c5959-232">Menos significativos 32 bits de endereço físico (apenas se necessário mapeamento físico)</span><span class="sxs-lookup"><span data-stu-id="c5959-232">Least significant 32-bits of physical address (only if physical mapping needed)</span></span>    |
| <span data-ttu-id="c5959-233">nx_ip_driver_status</span><span class="sxs-lookup"><span data-stu-id="c5959-233">nx_ip_driver_status</span></span>               | <span data-ttu-id="c5959-234">Estado de conclusão.</span><span class="sxs-lookup"><span data-stu-id="c5959-234">Completion status.</span></span> <span data-ttu-id="c5959-235">Se o controlador não conseguir enviar o pacote, retornará um estado de erro não zero.</span><span class="sxs-lookup"><span data-stu-id="c5959-235">If the driver is not able to send the packet, it will return a non-zero error status.</span></span>  |

### <a name="packet-broadcast"></a><span data-ttu-id="c5959-236">Emissão de pacotes</span><span class="sxs-lookup"><span data-stu-id="c5959-236">Packet Broadcast</span></span>  
<span data-ttu-id="c5959-237">Este pedido é quase idêntico ao pedido de envio de pacotes.</span><span class="sxs-lookup"><span data-stu-id="c5959-237">This request is almost identical to the send packet request.</span></span> <span data-ttu-id="c5959-238">A única diferença é que os campos de endereço físico de destino estão definidos para o endereço MAC de transmissão Ethernet.</span><span class="sxs-lookup"><span data-stu-id="c5959-238">The only difference is that the destination physical address fields are set to the Ethernet broadcast MAC address.</span></span> <span data-ttu-id="c5959-239">Os seguintes membros NX_IP_DRIVER são utilizados para o pedido de transmissão de pacotes.</span><span class="sxs-lookup"><span data-stu-id="c5959-239">The following NX_IP_DRIVER members are used for the packet broadcast request.</span></span>

| <span data-ttu-id="c5959-240">NX_IP_DRIVER membro</span><span class="sxs-lookup"><span data-stu-id="c5959-240">NX_IP_DRIVER member</span></span>                | <span data-ttu-id="c5959-241">Significado</span><span class="sxs-lookup"><span data-stu-id="c5959-241">Meaning</span></span>          |
|------------------------------------|--------------------------------------------------------------|
| <span data-ttu-id="c5959-242">nx_ip_driver_command</span><span class="sxs-lookup"><span data-stu-id="c5959-242">nx_ip_driver_command</span></span>               | <span data-ttu-id="c5959-243">NX_LINK_PACKET_BROADCAST</span><span class="sxs-lookup"><span data-stu-id="c5959-243">NX_LINK_PACKET_BROADCAST</span></span> |
| <span data-ttu-id="c5959-244">nx_ip_driver_ptr</span><span class="sxs-lookup"><span data-stu-id="c5959-244">nx_ip_driver_ptr</span></span>                   | <span data-ttu-id="c5959-245">Indicação para a instância IP</span><span class="sxs-lookup"><span data-stu-id="c5959-245">Pointer to IP instance</span></span>  |
| <span data-ttu-id="c5959-246">nx_ip_driver_packet</span><span class="sxs-lookup"><span data-stu-id="c5959-246">nx_ip_driver_packet</span></span>                | <span data-ttu-id="c5959-247">Ponteiro para o pacote para terminar</span><span class="sxs-lookup"><span data-stu-id="c5959-247">Pointer to the packet to end</span></span> |
| <span data-ttu-id="c5959-248">nx_ip_driver_physical_address_ms w</span><span class="sxs-lookup"><span data-stu-id="c5959-248">nx_ip_driver_physical_address_ms w</span></span> | <span data-ttu-id="c5959-249">0x0000FFFF emissão)</span><span class="sxs-lookup"><span data-stu-id="c5959-249">0x0000FFFF broadcast)</span></span> |
| <span data-ttu-id="c5959-250">nx_ip_driver_physical_address_lsw</span><span class="sxs-lookup"><span data-stu-id="c5959-250">nx_ip_driver_physical_address_lsw</span></span>  | <span data-ttu-id="c5959-251">0xFFFFFFFF emissão)</span><span class="sxs-lookup"><span data-stu-id="c5959-251">0xFFFFFFFF  broadcast)</span></span> |
| <span data-ttu-id="c5959-252">nx_ip_driver_interface</span><span class="sxs-lookup"><span data-stu-id="c5959-252">nx_ip_driver_interface</span></span>             | <span data-ttu-id="c5959-253">Ponteiro para a instância da interface.</span><span class="sxs-lookup"><span data-stu-id="c5959-253">Pointer to the interface instance.</span></span> |
| <span data-ttu-id="c5959-254">nx_ip_driver_status</span><span class="sxs-lookup"><span data-stu-id="c5959-254">nx_ip_driver_status</span></span>                | <span data-ttu-id="c5959-255">Estado de conclusão.</span><span class="sxs-lookup"><span data-stu-id="c5959-255">Completion status.</span></span> <span data-ttu-id="c5959-256">Se o controlador não conseguir enviar o pacote, retornará um estado de erro não zero.</span><span class="sxs-lookup"><span data-stu-id="c5959-256">If the driver is not able to send the packet, it will return a non-zero error status.</span></span> |

### <a name="arp-send"></a><span data-ttu-id="c5959-257">Envio ARP</span><span class="sxs-lookup"><span data-stu-id="c5959-257">ARP Send</span></span>  

<span data-ttu-id="c5959-258">Este pedido também é semelhante ao pedido de envio de pacote IP.</span><span class="sxs-lookup"><span data-stu-id="c5959-258">This request is also similar to the IP packet send request.</span></span>
<span data-ttu-id="c5959-259">A única diferença é que o cabeçalho Ethernet especifica um pacote ARP em vez de um pacote IP, e os campos de endereço físico de destino são definidos para endereço de transmissão MAC.</span><span class="sxs-lookup"><span data-stu-id="c5959-259">The only difference is that the Ethernet header specifies an ARP packet instead of an IP packet, and destination physical address fields are set to MAC broadcast address.</span></span> <span data-ttu-id="c5959-260">Os seguintes membros NX_IP_DRIVER são utilizados para o pedido de envio ARP.</span><span class="sxs-lookup"><span data-stu-id="c5959-260">The following NX_IP_DRIVER members are used for the ARP send request.</span></span>

| <span data-ttu-id="c5959-261">**NX_IP_DRIVER membro**</span><span class="sxs-lookup"><span data-stu-id="c5959-261">**NX_IP_DRIVER member**</span></span> | <span data-ttu-id="c5959-262">**Significado**</span><span class="sxs-lookup"><span data-stu-id="c5959-262">**Meaning**</span></span> |
| --- | --- |
| <span data-ttu-id="c5959-263">nx_ip_driver_command</span><span class="sxs-lookup"><span data-stu-id="c5959-263">nx_ip_driver_command</span></span> | <span data-ttu-id="c5959-264">NX_LINK_ARP_SEND</span><span class="sxs-lookup"><span data-stu-id="c5959-264">NX_LINK_ARP_SEND</span></span> |
| <span data-ttu-id="c5959-265">nx_ip_driver_ptr</span><span class="sxs-lookup"><span data-stu-id="c5959-265">nx_ip_driver_ptr</span></span> | <span data-ttu-id="c5959-266">Ponteiro para a instância IP.</span><span class="sxs-lookup"><span data-stu-id="c5959-266">Pointer to IP instance.</span></span> |
| <span data-ttu-id="c5959-267">nx_ip_driver_packet</span><span class="sxs-lookup"><span data-stu-id="c5959-267">nx_ip_driver_packet</span></span> | <span data-ttu-id="c5959-268">Ponteiro para o pacote para enviar.</span><span class="sxs-lookup"><span data-stu-id="c5959-268">Pointer to the packet to send.</span></span> |
| <span data-ttu-id="c5959-269">nx_ip_driver_physical_address_msw</span><span class="sxs-lookup"><span data-stu-id="c5959-269">nx_ip_driver_physical_address_msw</span></span> | <span data-ttu-id="c5959-270">0x0000FFFF (transmissão)</span><span class="sxs-lookup"><span data-stu-id="c5959-270">0x0000FFFF (broadcast)</span></span> |
| <span data-ttu-id="c5959-271">nx_ip_driver_physical_address_lsw</span><span class="sxs-lookup"><span data-stu-id="c5959-271">nx_ip_driver_physical_address_lsw</span></span> | <span data-ttu-id="c5959-272">0xFFFFFFFF (transmissão)</span><span class="sxs-lookup"><span data-stu-id="c5959-272">0xFFFFFFFF (broadcast)</span></span> |
| <span data-ttu-id="c5959-273">nx_ip_driver_interface</span><span class="sxs-lookup"><span data-stu-id="c5959-273">nx_ip_driver_interface</span></span> | <span data-ttu-id="c5959-274">Ponteiro para a instância da interface.</span><span class="sxs-lookup"><span data-stu-id="c5959-274">Pointer to the interface instance.</span></span> |
| <span data-ttu-id="c5959-275">nx_ip_driver_status</span><span class="sxs-lookup"><span data-stu-id="c5959-275">nx_ip_driver_status</span></span> | <span data-ttu-id="c5959-276">Estado de conclusão.</span><span class="sxs-lookup"><span data-stu-id="c5959-276">Completion status.</span></span> <span data-ttu-id="c5959-277">Se o controlador não conseguir enviar o pacote ARP, retornará um estado de erro não zero.</span><span class="sxs-lookup"><span data-stu-id="c5959-277">If the driver is not able to send the ARP packet, it will return a non-zero error status.</span></span> |

<span data-ttu-id="c5959-278">*Se não for necessário mapeamento físico, a implementação deste pedido não é necessária.*</span><span class="sxs-lookup"><span data-stu-id="c5959-278">*If physical mapping is not needed, implementation of this request is not required.*</span></span>

### <a name="arp-response-send"></a><span data-ttu-id="c5959-279">Envio de resposta ARP</span><span class="sxs-lookup"><span data-stu-id="c5959-279">ARP Response Send</span></span>  

<span data-ttu-id="c5959-280">Este pedido é quase idêntico ao pedido de envio de pacotes ARP.</span><span class="sxs-lookup"><span data-stu-id="c5959-280">This request is almost identical to the ARP send packet request.</span></span> <span data-ttu-id="c5959-281">A única diferença é que os campos de endereços físicos de destino são passados a partir da instância IP.</span><span class="sxs-lookup"><span data-stu-id="c5959-281">The only difference is the destination physical address fields are passed from the IP instance.</span></span> <span data-ttu-id="c5959-282">Os seguintes membros NX_IP_DRIVER são utilizados para o pedido de envio de resposta ARP.</span><span class="sxs-lookup"><span data-stu-id="c5959-282">The following NX_IP_DRIVER members are used for the ARP response send request.</span></span>

| <span data-ttu-id="c5959-283">NX_IP_DRIVER membro</span><span class="sxs-lookup"><span data-stu-id="c5959-283">NX_IP_DRIVER member</span></span>               | <span data-ttu-id="c5959-284">Significado</span><span class="sxs-lookup"><span data-stu-id="c5959-284">Meaning</span></span> |
|-----------------------------------| ------------------------------------|
| <span data-ttu-id="c5959-285">nx_ip_driver_command</span><span class="sxs-lookup"><span data-stu-id="c5959-285">nx_ip_driver_command</span></span>              | <span data-ttu-id="c5959-286">NX_LINK_ARP_RESPONSE_SEND</span><span class="sxs-lookup"><span data-stu-id="c5959-286">NX_LINK_ARP_RESPONSE_SEND</span></span> |
| <span data-ttu-id="c5959-287">nx_ip_driver_ptr</span><span class="sxs-lookup"><span data-stu-id="c5959-287">nx_ip_driver_ptr</span></span>                  | <span data-ttu-id="c5959-288">Indicação para a instância IP</span><span class="sxs-lookup"><span data-stu-id="c5959-288">Pointer to IP instance</span></span> |
| <span data-ttu-id="c5959-289">nx_ip_driver_packet</span><span class="sxs-lookup"><span data-stu-id="c5959-289">nx_ip_driver_packet</span></span>               | <span data-ttu-id="c5959-290">Ponteiro para o pacote para enviar</span><span class="sxs-lookup"><span data-stu-id="c5959-290">Pointer to the packet to send</span></span>|
| <span data-ttu-id="c5959-291">nx_ip_driver_physical_address_msw</span><span class="sxs-lookup"><span data-stu-id="c5959-291">nx_ip_driver_physical_address_msw</span></span> | <span data-ttu-id="c5959-292">Mais significativo 32 bits de endereço físico</span><span class="sxs-lookup"><span data-stu-id="c5959-292">Most significant 32-bits of physical address</span></span> |
| <span data-ttu-id="c5959-293">nx_ip_driver_physical_address_lsw</span><span class="sxs-lookup"><span data-stu-id="c5959-293">nx_ip_driver_physical_address_lsw</span></span> | <span data-ttu-id="c5959-294">Menos significativo 32 bits de endereço físico</span><span class="sxs-lookup"><span data-stu-id="c5959-294">Least significant 32-bits of physical address</span></span>                     |
| <span data-ttu-id="c5959-295">nx_ip_driver_interface</span><span class="sxs-lookup"><span data-stu-id="c5959-295">nx_ip_driver_interface</span></span>            | <span data-ttu-id="c5959-296">Ponteiro para a instância da interface</span><span class="sxs-lookup"><span data-stu-id="c5959-296">Pointer to the interface instance</span></span> |
| <span data-ttu-id="c5959-297">nx_ip_driver_status</span><span class="sxs-lookup"><span data-stu-id="c5959-297">nx_ip_driver_status</span></span>               | <span data-ttu-id="c5959-298">Estado de conclusão.</span><span class="sxs-lookup"><span data-stu-id="c5959-298">Completion status.</span></span> <span data-ttu-id="c5959-299">Se o controlador não conseguir enviar o pacote ARP, retornará um estado de erro não zero.</span><span class="sxs-lookup"><span data-stu-id="c5959-299">If the driver is not able to send the ARP packet, it will return a non-zero error status.</span></span> |

> [!NOTE]
> <span data-ttu-id="c5959-300">*Se não for necessário mapeamento físico, a implementação deste pedido não é necessária.*</span><span class="sxs-lookup"><span data-stu-id="c5959-300">*If physical mapping is not needed, implementation of this request is not required.*</span></span>

### <a name="rarp-send"></a><span data-ttu-id="c5959-301">RARP Enviar</span><span class="sxs-lookup"><span data-stu-id="c5959-301">RARP Send</span></span>  

<span data-ttu-id="c5959-302">Este pedido é quase idêntico ao pedido de envio de pacotes ARP.</span><span class="sxs-lookup"><span data-stu-id="c5959-302">This request is almost identical to the ARP send packet request.</span></span> <span data-ttu-id="c5959-303">As únicas diferenças são o tipo de cabeçalho de pacote e os campos de endereço físico não são necessários porque o destino físico é sempre um endereço de transmissão.</span><span class="sxs-lookup"><span data-stu-id="c5959-303">The only differences are the type of packet header and the physical address fields are not required because the physical destination is always a broadcast address.</span></span>

<span data-ttu-id="c5959-304">Os seguintes membros NX_IP_DRIVER são utilizados para o pedido de envio da RARP.</span><span class="sxs-lookup"><span data-stu-id="c5959-304">The following NX_IP_DRIVER members are used for the RARP send request.</span></span>

| <span data-ttu-id="c5959-305">NX_IP_DRIVER membro</span><span class="sxs-lookup"><span data-stu-id="c5959-305">NX_IP_DRIVER member</span></span>               | <span data-ttu-id="c5959-306">Significado</span><span class="sxs-lookup"><span data-stu-id="c5959-306">Meaning</span></span> |
|-----------------------------------|---------------------------------|
| <span data-ttu-id="c5959-307">nx_ip_driver_command</span><span class="sxs-lookup"><span data-stu-id="c5959-307">nx_ip_driver_command</span></span>              |<span data-ttu-id="c5959-308">NX_LINK_RARP_SEND</span><span class="sxs-lookup"><span data-stu-id="c5959-308">NX_LINK_RARP_SEND</span></span> |
| <span data-ttu-id="c5959-309">nx_ip_driver_ptr</span><span class="sxs-lookup"><span data-stu-id="c5959-309">nx_ip_driver_ptr</span></span>                  | <span data-ttu-id="c5959-310">Indicação para a instância IP</span><span class="sxs-lookup"><span data-stu-id="c5959-310">Pointer to IP instance</span></span> |
| <span data-ttu-id="c5959-311">nx_ip_driver_packet</span><span class="sxs-lookup"><span data-stu-id="c5959-311">nx_ip_driver_packet</span></span>               | <span data-ttu-id="c5959-312">Ponteiro para o pacote para enviar</span><span class="sxs-lookup"><span data-stu-id="c5959-312">Pointer to the packet to send</span></span> |
| <span data-ttu-id="c5959-313">nx_ip_driver_physical_address_msw</span><span class="sxs-lookup"><span data-stu-id="c5959-313">nx_ip_driver_physical_address_msw</span></span> | <span data-ttu-id="c5959-314">0x0000FFFF (transmissão)</span><span class="sxs-lookup"><span data-stu-id="c5959-314">0x0000FFFF (broadcast)</span></span> |
| <span data-ttu-id="c5959-315">nx_ip_driver_physical_address_lsw</span><span class="sxs-lookup"><span data-stu-id="c5959-315">nx_ip_driver_physical_address_lsw</span></span> | <span data-ttu-id="c5959-316">0xFFFFFFFF (transmissão)</span><span class="sxs-lookup"><span data-stu-id="c5959-316">0xFFFFFFFF (broadcast)</span></span> |
| <span data-ttu-id="c5959-317">NX_IP_DRIVER membro</span><span class="sxs-lookup"><span data-stu-id="c5959-317">NX_IP_DRIVER member</span></span>               | <span data-ttu-id="c5959-318">Significado</span><span class="sxs-lookup"><span data-stu-id="c5959-318">Meaning</span></span> |
| <span data-ttu-id="c5959-319">nx_ip_driver_interface</span><span class="sxs-lookup"><span data-stu-id="c5959-319">nx_ip_driver_interface</span></span>            | <span data-ttu-id="c5959-320">Ponteiro para a instância da interface</span><span class="sxs-lookup"><span data-stu-id="c5959-320">Pointer to the interface instance</span></span> |
| <span data-ttu-id="c5959-321">nx_ip_driver_status</span><span class="sxs-lookup"><span data-stu-id="c5959-321">nx_ip_driver_status</span></span>               | <span data-ttu-id="c5959-322">Estado de conclusão.</span><span class="sxs-lookup"><span data-stu-id="c5959-322">Completion status.</span></span> <span data-ttu-id="c5959-323">Se o controlador não conseguir enviar o pacote RARP, retornará um estado de erro não zero.</span><span class="sxs-lookup"><span data-stu-id="c5959-323">If the driver is not able to send the RARP packet, it will return a non-zero error status.</span></span>  |

> [!NOTE]
> <span data-ttu-id="c5959-324">*As aplicações que requerem o serviço RARP devem implementar este comando.*</span><span class="sxs-lookup"><span data-stu-id="c5959-324">*Applications that require RARP service must implement this command.*</span></span>

### <a name="multicast-group-join"></a><span data-ttu-id="c5959-325">Grupo Multicast Junta-se</span><span class="sxs-lookup"><span data-stu-id="c5959-325">Multicast Group Join</span></span>  

<span data-ttu-id="c5959-326">Este pedido é feito com o ***nx_igmp_multicast_interface aderir ao*** serviço.</span><span class="sxs-lookup"><span data-stu-id="c5959-326">This request is made with the ***nx_igmp_multicast_interface join*** service.</span></span> <span data-ttu-id="c5959-327">O controlador de rede pega no endereço de grupo multicast fornecido e configura os meios físicos para aceitar pacotes de entrada a partir desse endereço de grupo multicast.</span><span class="sxs-lookup"><span data-stu-id="c5959-327">The network driver takes the supplied multicast group address and sets up the physical media to accept incoming packets from that multicast group address.</span></span> <span data-ttu-id="c5959-328">Note que para os condutores que não suportam filtro multicast, a lógica de receção do condutor pode ter de estar em modo promíscuo.</span><span class="sxs-lookup"><span data-stu-id="c5959-328">Note that for drivers that don't support multicast filter, the driver receive logic may have to be in promiscuous mode.</span></span> <span data-ttu-id="c5959-329">Neste caso, o condutor poderá ter de filtrar os quadros de entrada com base no endereço MAC de destino, reduzindo assim a quantidade de tráfego passado para a instância IP.</span><span class="sxs-lookup"><span data-stu-id="c5959-329">In this case, the driver may need to filter incoming frames based on destination MAC address, thus reducing the amount of traffic passed into the IP instance.</span></span> <span data-ttu-id="c5959-330">Os seguintes membros NX_IP_DRIVER são utilizados para o pedido de associação do grupo multicast.</span><span class="sxs-lookup"><span data-stu-id="c5959-330">The following NX_IP_DRIVER members are used for the multicast group join request.</span></span>

| <span data-ttu-id="c5959-331">NX_IP_DRIVER membro</span><span class="sxs-lookup"><span data-stu-id="c5959-331">NX_IP_DRIVER member</span></span>               | <span data-ttu-id="c5959-332">Significado</span><span class="sxs-lookup"><span data-stu-id="c5959-332">Meaning</span></span> |
|-----------------------------------|-----------------------------------------------------------------------|
| <span data-ttu-id="c5959-333">nx_ip_driver_command</span><span class="sxs-lookup"><span data-stu-id="c5959-333">nx_ip_driver_command</span></span>              | <span data-ttu-id="c5959-334">NX_LINK_MULTICAST_JOIN</span><span class="sxs-lookup"><span data-stu-id="c5959-334">NX_LINK_MULTICAST_JOIN</span></span>                                                |
| <span data-ttu-id="c5959-335">nx_ip_driver_ptr</span><span class="sxs-lookup"><span data-stu-id="c5959-335">nx_ip_driver_ptr</span></span>                  | <span data-ttu-id="c5959-336">Indicação para a instância IP</span><span class="sxs-lookup"><span data-stu-id="c5959-336">Pointer to IP instance</span></span>                                                |
| <span data-ttu-id="c5959-337">nx_ip_driver_physical_address_msw</span><span class="sxs-lookup"><span data-stu-id="c5959-337">nx_ip_driver_physical_address_msw</span></span> | <span data-ttu-id="c5959-338">Mais significativo 32 bits de endereço físico multicast</span><span class="sxs-lookup"><span data-stu-id="c5959-338">Most significant 32-bits of physical multicast address</span></span>                |
| <span data-ttu-id="c5959-339">nx_ip_driver_physical_address_lsw</span><span class="sxs-lookup"><span data-stu-id="c5959-339">nx_ip_driver_physical_address_lsw</span></span> | <span data-ttu-id="c5959-340">Menos significativo 32 bits de endereço físico multicast</span><span class="sxs-lookup"><span data-stu-id="c5959-340">Least significant 32-bits of physical multicast address</span></span>               |
| <span data-ttu-id="c5959-341">nx_ip_driver_interface</span><span class="sxs-lookup"><span data-stu-id="c5959-341">nx_ip_driver_interface</span></span>            | <span data-ttu-id="c5959-342">Ponteiro para a instância da interface</span><span class="sxs-lookup"><span data-stu-id="c5959-342">Pointer to the interface instance</span></span>                                     |
| <span data-ttu-id="c5959-343">nx_ip_driver_status</span><span class="sxs-lookup"><span data-stu-id="c5959-343">nx_ip_driver_status</span></span>               | <span data-ttu-id="c5959-344">Estado de conclusão.</span><span class="sxs-lookup"><span data-stu-id="c5959-344">Completion status.</span></span> <span data-ttu-id="c5959-345">Se o condutor não conseguir aderir ao grupo multicast, retornará um estado de erro não zero.</span><span class="sxs-lookup"><span data-stu-id="c5959-345">If the driver is not able to join the multicast group, it will return a non-zero error status.</span></span> |


### <a name="multicast-group-leave"></a><span data-ttu-id="c5959-346">Licença de grupo multicast</span><span class="sxs-lookup"><span data-stu-id="c5959-346">Multicast Group Leave</span></span>  

<span data-ttu-id="c5959-347">Este pedido é invocado chamando explicitamente o ***serviço de nx_igmp_multicast_leave.***</span><span class="sxs-lookup"><span data-stu-id="c5959-347">This request is invoked by explicitly calling the ***nx_igmp_multicast_leave*** service.</span></span> <span data-ttu-id="c5959-348">O controlador remove o endereço multicast Ethernet fornecido da lista multicast.</span><span class="sxs-lookup"><span data-stu-id="c5959-348">The driver removes the supplied Ethernet multicast address from the multicast list.</span></span> <span data-ttu-id="c5959-349">Depois de um anfitrião ter deixado um grupo multicast, os pacotes na rede com este endereço multicast Ethernet já não são recebidos por esta instância IP.</span><span class="sxs-lookup"><span data-stu-id="c5959-349">After a host has left a multicast group, packets on the network with this Ethernet multicast address are no longer received by this IP instance.</span></span> <span data-ttu-id="c5959-350">Os seguintes membros NX_IP_DRIVER são utilizados para o pedido de licença de grupo multicast.</span><span class="sxs-lookup"><span data-stu-id="c5959-350">The following NX_IP_DRIVER members are used for the multicast group leave request.</span></span>

| <span data-ttu-id="c5959-351">NX_IP_DRIVER membro</span><span class="sxs-lookup"><span data-stu-id="c5959-351">NX_IP_DRIVER member</span></span>               | <span data-ttu-id="c5959-352">Significado</span><span class="sxs-lookup"><span data-stu-id="c5959-352">Meaning</span></span> |
|-----------------------------------|-----------------------------------------------------------------|
| <span data-ttu-id="c5959-353">nx_ip_driver_command</span><span class="sxs-lookup"><span data-stu-id="c5959-353">nx_ip_driver_command</span></span>              | <span data-ttu-id="c5959-354">NX_LINK_MULTICAST_LEAVE</span><span class="sxs-lookup"><span data-stu-id="c5959-354">NX_LINK_MULTICAST_LEAVE</span></span> |
| <span data-ttu-id="c5959-355">nx_ip_driver_ptr</span><span class="sxs-lookup"><span data-stu-id="c5959-355">nx_ip_driver_ptr</span></span>                  | <span data-ttu-id="c5959-356">Indicação para a instância IP</span><span class="sxs-lookup"><span data-stu-id="c5959-356">Pointer to IP instance</span></span> |
| <span data-ttu-id="c5959-357">nx_ip_driver_physical_address_msw</span><span class="sxs-lookup"><span data-stu-id="c5959-357">nx_ip_driver_physical_address_msw</span></span> | <span data-ttu-id="c5959-358">Mais significativos 32 bits de ddress físico multicast</span><span class="sxs-lookup"><span data-stu-id="c5959-358">Most significant 32 bits of physical multicast ddress</span></span> |
| <span data-ttu-id="c5959-359">nx_ip_driver_physical_address_lsw</span><span class="sxs-lookup"><span data-stu-id="c5959-359">nx_ip_driver_physical_address_lsw</span></span> | <span data-ttu-id="c5959-360">Menos significativos 32 bits de endereço físico multicast</span><span class="sxs-lookup"><span data-stu-id="c5959-360">Least significant 32 bits of physical multicast address</span></span> |
| <span data-ttu-id="c5959-361">nx_ip_driver_interface</span><span class="sxs-lookup"><span data-stu-id="c5959-361">nx_ip_driver_interface</span></span>            | <span data-ttu-id="c5959-362">Ponteiro para a instância da interface</span><span class="sxs-lookup"><span data-stu-id="c5959-362">Pointer to the interface instance</span></span> |
| <span data-ttu-id="c5959-363">nx_ip_driver_status</span><span class="sxs-lookup"><span data-stu-id="c5959-363">nx_ip_driver_status</span></span>               | <span data-ttu-id="c5959-364">Estado de conclusão.</span><span class="sxs-lookup"><span data-stu-id="c5959-364">Completion status.</span></span> <span data-ttu-id="c5959-365">Se o condutor não conseguir sair do grupo multicast, retornará um estado de erro não zero.</span><span class="sxs-lookup"><span data-stu-id="c5959-365">If the driver is not able to leave the multicast group, it will return a non-zero error status.</span></span> |


### <a name="attach-interface"></a><span data-ttu-id="c5959-366">Interface anexa</span><span class="sxs-lookup"><span data-stu-id="c5959-366">Attach Interface</span></span>  

<span data-ttu-id="c5959-367">Este pedido é invocado do NetX para o controlador do dispositivo, permitindo ao condutor associar a instância do condutor à instância IP correspondente e à instância de interface física dentro do IP.</span><span class="sxs-lookup"><span data-stu-id="c5959-367">This request is invoked from the NetX to the device driver, allowing the driver to associate the driver instance with the corresponding IP instance and the physical interface instance within the IP.</span></span> <span data-ttu-id="c5959-368">Os seguintes membros NX_IP_DRIVER são utilizados para o pedido de interface anexa.</span><span class="sxs-lookup"><span data-stu-id="c5959-368">The following NX_IP_DRIVER members are used for the attach interface request.</span></span>

| <span data-ttu-id="c5959-369">NX_IP_DRIVER membro</span><span class="sxs-lookup"><span data-stu-id="c5959-369">NX_IP_DRIVER member</span></span>    | <span data-ttu-id="c5959-370">Significado</span><span class="sxs-lookup"><span data-stu-id="c5959-370">Meaning</span></span> |
|------------------------|-------------------------------------------------|
| <span data-ttu-id="c5959-371">nx_ip_driver_command</span><span class="sxs-lookup"><span data-stu-id="c5959-371">nx_ip_driver_command</span></span>   | <span data-ttu-id="c5959-372">X_LINK_INTERFACE_ATTACH</span><span class="sxs-lookup"><span data-stu-id="c5959-372">X_LINK_INTERFACE_ATTACH</span></span> |
| <span data-ttu-id="c5959-373">nx_ip_driver_ptr</span><span class="sxs-lookup"><span data-stu-id="c5959-373">nx_ip_driver_ptr</span></span>       | <span data-ttu-id="c5959-374">Indicação para a instância IP</span><span class="sxs-lookup"><span data-stu-id="c5959-374">Pointer to IP instance</span></span> |
| <span data-ttu-id="c5959-375">nx_ip_driver_interface</span><span class="sxs-lookup"><span data-stu-id="c5959-375">nx_ip_driver_interface</span></span> | <span data-ttu-id="c5959-376">Ponteiro para a instância da interface.</span><span class="sxs-lookup"><span data-stu-id="c5959-376">Pointer to the interface instance.</span></span> |
| <span data-ttu-id="c5959-377">nx_ip_driver_status</span><span class="sxs-lookup"><span data-stu-id="c5959-377">nx_ip_driver_status</span></span>    | <span data-ttu-id="c5959-378">Estado de conclusão.</span><span class="sxs-lookup"><span data-stu-id="c5959-378">Completion status.</span></span> <span data-ttu-id="c5959-379">Se o controlador não conseguir separar a interface especificada da instância IP, retornará um estado de erro não zero.</span><span class="sxs-lookup"><span data-stu-id="c5959-379">If the driver is not able to detach the specified interface to the IP instance, it will return a non-zero error status.</span></span>  |


### <a name="detach-interface"></a><span data-ttu-id="c5959-380">Interface de descolexo</span><span class="sxs-lookup"><span data-stu-id="c5959-380">Detach Interface</span></span>  

<span data-ttu-id="c5959-381">Este pedido é invocado pela NetX ao controlador do dispositivo, permitindo ao condutor dissociar a instância do condutor com a instância IP correspondente e a instância de interface física dentro do IP.</span><span class="sxs-lookup"><span data-stu-id="c5959-381">This request is invoked by NetX to the device driver, allowing the driver to disassociate the driver instance with the corresponding IP instance and the physical interface instance within the IP.</span></span> <span data-ttu-id="c5959-382">Os seguintes membros NX_IP_DRIVER são utilizados para o pedido de interface anexa.</span><span class="sxs-lookup"><span data-stu-id="c5959-382">The following NX_IP_DRIVER members are used for the attach interface request.</span></span>

| <span data-ttu-id="c5959-383">NX_IP_DRIVER membro</span><span class="sxs-lookup"><span data-stu-id="c5959-383">NX_IP_DRIVER member</span></span>    | <span data-ttu-id="c5959-384">Significado</span><span class="sxs-lookup"><span data-stu-id="c5959-384">Meaning</span></span> |
|------------------------|---------------------------------------------------------|
| <span data-ttu-id="c5959-385">nx_ip_driver_command</span><span class="sxs-lookup"><span data-stu-id="c5959-385">nx_ip_driver_command</span></span>   | <span data-ttu-id="c5959-386">NX_LINK_INTERFACE_DETACH</span><span class="sxs-lookup"><span data-stu-id="c5959-386">NX_LINK_INTERFACE_DETACH</span></span> |
| <span data-ttu-id="c5959-387">nx_ip_driver_ptr</span><span class="sxs-lookup"><span data-stu-id="c5959-387">nx_ip_driver_ptr</span></span>       | <span data-ttu-id="c5959-388">Indicação para a instância IP</span><span class="sxs-lookup"><span data-stu-id="c5959-388">Pointer to IP instance</span></span> |
| <span data-ttu-id="c5959-389">nx_ip_driver_interface</span><span class="sxs-lookup"><span data-stu-id="c5959-389">nx_ip_driver_interface</span></span> | <span data-ttu-id="c5959-390">Ponteiro para a instância da interface.</span><span class="sxs-lookup"><span data-stu-id="c5959-390">Pointer to the interface instance.</span></span> |
| <span data-ttu-id="c5959-391">nx_ip_driver_status</span><span class="sxs-lookup"><span data-stu-id="c5959-391">nx_ip_driver_status</span></span>    | <span data-ttu-id="c5959-392">Estado de conclusão.</span><span class="sxs-lookup"><span data-stu-id="c5959-392">Completion status.</span></span> <span data-ttu-id="c5959-393">Se o controlador não conseguir ligar a interface especificada à instância IP, retornará um estado de erro não zero.</span><span class="sxs-lookup"><span data-stu-id="c5959-393">If the driver is not able to attach the specified interface to the IP instance, it will return a non-zero error status.</span></span> |

### <a name="get-link-status"></a><span data-ttu-id="c5959-394">Obtenha o estado do link</span><span class="sxs-lookup"><span data-stu-id="c5959-394">Get Link Status</span></span>  

<span data-ttu-id="c5959-395">A aplicação pode consultar o estado do link de interface de rede utilizando o serviço  ***netX nx_ip_interface_status_check*** serviço para qualquer interface no anfitrião.</span><span class="sxs-lookup"><span data-stu-id="c5959-395">The application can query the network interface link status using the NetX service  ***nx_ip_interface_status_check*** service for any interface on the host.</span></span> <span data-ttu-id="c5959-396">Consulte o Capítulo 4, "Descrição dos Serviços NetX" na página 107, para obter mais detalhes sobre estes serviços.</span><span class="sxs-lookup"><span data-stu-id="c5959-396">See Chapter 4, "Description of NetX Services" on page 107, for more details on these services.</span></span>

<span data-ttu-id="c5959-397">O estado do link está contido no campo *nx_interface_link_up* na estrutura NX_INTERFACE apontada por *nx_ip_driver_interface* ponteiro.</span><span class="sxs-lookup"><span data-stu-id="c5959-397">The link status is contained in the *nx_interface_link_up* field in the NX_INTERFACE structure pointed to by *nx_ip_driver_interface* pointer.</span></span> <span data-ttu-id="c5959-398">Os seguintes membros NX_IP_DRIVER são utilizados para o pedido de estado de ligação.</span><span class="sxs-lookup"><span data-stu-id="c5959-398">The following NX_IP_DRIVER members are used for the link status request.</span></span>

| <span data-ttu-id="c5959-399">NX_IP_DRIVER membro</span><span class="sxs-lookup"><span data-stu-id="c5959-399">NX_IP_DRIVER member</span></span>     | <span data-ttu-id="c5959-400">Significado</span><span class="sxs-lookup"><span data-stu-id="c5959-400">Meaning</span></span>                                                                                                      |
|-------------------------|--------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="c5959-401">nx_ip_driver_command</span><span class="sxs-lookup"><span data-stu-id="c5959-401">nx_ip_driver_command</span></span>    | <span data-ttu-id="c5959-402">NX_LINK_GET_STATUS</span><span class="sxs-lookup"><span data-stu-id="c5959-402">NX_LINK_GET_STATUS</span></span>                                                                                           |
| <span data-ttu-id="c5959-403">nx_ip_driver_ptr</span><span class="sxs-lookup"><span data-stu-id="c5959-403">nx_ip_driver_ptr</span></span>        | <span data-ttu-id="c5959-404">Indicação para a instância IP</span><span class="sxs-lookup"><span data-stu-id="c5959-404">Pointer to IP instance</span></span>                                                                                       |
| <span data-ttu-id="c5959-405">nx_ip_driver_return_ptr</span><span class="sxs-lookup"><span data-stu-id="c5959-405">nx_ip_driver_return_ptr</span></span> | <span data-ttu-id="c5959-406">Ponteiro para o destino para colocar o estado.</span><span class="sxs-lookup"><span data-stu-id="c5959-406">Pointer to the destination to place the status.</span></span>                                                              |
| <span data-ttu-id="c5959-407">nx_ip_driver_interface</span><span class="sxs-lookup"><span data-stu-id="c5959-407">nx_ip_driver_interface</span></span>  | <span data-ttu-id="c5959-408">Ponteiro para a instância da interface</span><span class="sxs-lookup"><span data-stu-id="c5959-408">Pointer to the interface instance</span></span>                                                                            |
| <span data-ttu-id="c5959-409">nx_ip_driver_status</span><span class="sxs-lookup"><span data-stu-id="c5959-409">nx_ip_driver_status</span></span>     | <span data-ttu-id="c5959-410">Estado de conclusão.</span><span class="sxs-lookup"><span data-stu-id="c5959-410">Completion status.</span></span> <span data-ttu-id="c5959-411">Se o controlador não conseguir obter um estado específico, retornará um estado de erro não zero.</span><span class="sxs-lookup"><span data-stu-id="c5959-411">If the driver is not able to get specific status, it will return a non-zero error status.</span></span> |
|                         |                                                                                                              |

> [!NOTE]
> <span data-ttu-id="c5959-412">***nx_ip_status_check** ainda está disponível para verificar o estado da interface primária. No entanto, os desenvolvedores de aplicações são encorajados a usar o serviço específico da interface **nx_ip_interface_status_check.***</span><span class="sxs-lookup"><span data-stu-id="c5959-412">***nx_ip_status_check** is still available for checking the status of the primary interface. However, application developers are encouraged to use the interface-specific service **nx_ip_interface_status_check.***</span></span>

### <a name="get-link-speed"></a><span data-ttu-id="c5959-413">Obtenha velocidade de ligação</span><span class="sxs-lookup"><span data-stu-id="c5959-413">Get Link Speed</span></span>  

<span data-ttu-id="c5959-414">Este pedido é feito a partir do serviço ***nx_ip_driver_direct_command.***</span><span class="sxs-lookup"><span data-stu-id="c5959-414">This request is made from within the ***nx_ip_driver_direct_command*** service.</span></span> <span data-ttu-id="c5959-415">O condutor armazena a velocidade da linha do link no destino fornecido.</span><span class="sxs-lookup"><span data-stu-id="c5959-415">The driver stores the link's line speed in the supplied destination.</span></span> <span data-ttu-id="c5959-416">Os seguintes membros NX_IP_DRIVER são utilizados para o pedido de velocidade da linha de ligação.</span><span class="sxs-lookup"><span data-stu-id="c5959-416">The following NX_IP_DRIVER members are used for the link line speed request.</span></span>

| <span data-ttu-id="c5959-417">NX_IP_DRIVER membro</span><span class="sxs-lookup"><span data-stu-id="c5959-417">NX_IP_DRIVER member</span></span>     | <span data-ttu-id="c5959-418">Significado</span><span class="sxs-lookup"><span data-stu-id="c5959-418">Meaning</span></span> |
|-------------------------|---------------------------------------------------------------|
| <span data-ttu-id="c5959-419">nx_ip_driver_command</span><span class="sxs-lookup"><span data-stu-id="c5959-419">nx_ip_driver_command</span></span>    | <span data-ttu-id="c5959-420">NX_LINK_GET_SPEED</span><span class="sxs-lookup"><span data-stu-id="c5959-420">NX_LINK_GET_SPEED</span></span> |
| <span data-ttu-id="c5959-421">nx_ip_driver_ptr</span><span class="sxs-lookup"><span data-stu-id="c5959-421">nx_ip_driver_ptr</span></span>        | <span data-ttu-id="c5959-422">Indicação para a instância IP</span><span class="sxs-lookup"><span data-stu-id="c5959-422">Pointer to IP instance</span></span> |
| <span data-ttu-id="c5959-423">nx_ip_driver_return_ptr</span><span class="sxs-lookup"><span data-stu-id="c5959-423">nx_ip_driver_return_ptr</span></span> | <span data-ttu-id="c5959-424">Ponteiro para o destino para colocar a velocidade da linha</span><span class="sxs-lookup"><span data-stu-id="c5959-424">Pointer to the destination to place the line speed</span></span> |
| <span data-ttu-id="c5959-425">nx_ip_driver_interface</span><span class="sxs-lookup"><span data-stu-id="c5959-425">nx_ip_driver_interface</span></span>  | <span data-ttu-id="c5959-426">Ponteiro para a instância da interface</span><span class="sxs-lookup"><span data-stu-id="c5959-426">Pointer to the interface instance</span></span> |
| <span data-ttu-id="c5959-427">nx_ip_driver_status</span><span class="sxs-lookup"><span data-stu-id="c5959-427">nx_ip_driver_status</span></span>     | <span data-ttu-id="c5959-428">Estado de conclusão.</span><span class="sxs-lookup"><span data-stu-id="c5959-428">Completion status.</span></span> <span data-ttu-id="c5959-429">Se o condutor não conseguir obter informações de velocidade, retornará um estado de erro não zero.</span><span class="sxs-lookup"><span data-stu-id="c5959-429">If the driver is not able to get speed information, it will return a non-zero error status.</span></span>
 |


> [!NOTE]
> <span data-ttu-id="c5959-430">*Este pedido não é utilizado internamente pela NetX, pelo que a sua implementação é opcional.*</span><span class="sxs-lookup"><span data-stu-id="c5959-430">*This request is not used internally by NetX so its implementation is optional.*</span></span>

### <a name="get-duplex-type"></a><span data-ttu-id="c5959-431">Obter Tipo Duplex</span><span class="sxs-lookup"><span data-stu-id="c5959-431">Get Duplex Type</span></span>  

<span data-ttu-id="c5959-432">Este pedido é feito a partir do serviço ***nx_ip_driver_direct_command.***</span><span class="sxs-lookup"><span data-stu-id="c5959-432">This request is made from within the ***nx_ip_driver_direct_command*** service.</span></span> <span data-ttu-id="c5959-433">O condutor armazena o tipo duplex do link no destino fornecido.</span><span class="sxs-lookup"><span data-stu-id="c5959-433">The driver stores the link's duplex type in the supplied destination.</span></span> <span data-ttu-id="c5959-434">Os seguintes membros NX_IP_DRIVER são utilizados para o pedido do tipo duplex.</span><span class="sxs-lookup"><span data-stu-id="c5959-434">The following NX_IP_DRIVER members are used for the duplex type request.</span></span>

| <span data-ttu-id="c5959-435">NX_IP_DRIVER membro</span><span class="sxs-lookup"><span data-stu-id="c5959-435">NX_IP_DRIVER member</span></span>     | <span data-ttu-id="c5959-436">Significado</span><span class="sxs-lookup"><span data-stu-id="c5959-436">Meaning</span></span> |
|-------------------------|-----------------------------------------------------|
| <span data-ttu-id="c5959-437">nx_ip_driver_command</span><span class="sxs-lookup"><span data-stu-id="c5959-437">nx_ip_driver_command</span></span>    | <span data-ttu-id="c5959-438">NX_LINK_GET_DUPLEX_TYPE</span><span class="sxs-lookup"><span data-stu-id="c5959-438">NX_LINK_GET_DUPLEX_TYPE</span></span> |
| <span data-ttu-id="c5959-439">nx_ip_driver_ptr</span><span class="sxs-lookup"><span data-stu-id="c5959-439">nx_ip_driver_ptr</span></span>        | <span data-ttu-id="c5959-440">Indicação para a instância IP</span><span class="sxs-lookup"><span data-stu-id="c5959-440">Pointer to IP instance</span></span> |
| <span data-ttu-id="c5959-441">nx_ip_driver_return_ptr</span><span class="sxs-lookup"><span data-stu-id="c5959-441">nx_ip_driver_return_ptr</span></span> | <span data-ttu-id="c5959-442">Ponteiro para o destino para colocar o tipo duplex</span><span class="sxs-lookup"><span data-stu-id="c5959-442">Pointer to the destination to place the duplex type</span></span> |
| <span data-ttu-id="c5959-443">nx_ip_driver_interface</span><span class="sxs-lookup"><span data-stu-id="c5959-443">nx_ip_driver_interface</span></span>  | <span data-ttu-id="c5959-444">Ponteiro para a instância da interface</span><span class="sxs-lookup"><span data-stu-id="c5959-444">Pointer to the interface instance</span></span> |
| <span data-ttu-id="c5959-445">nx_ip_driver_status</span><span class="sxs-lookup"><span data-stu-id="c5959-445">nx_ip_driver_status</span></span>     | <span data-ttu-id="c5959-446">Estado de conclusão.</span><span class="sxs-lookup"><span data-stu-id="c5959-446">Completion status.</span></span> <span data-ttu-id="c5959-447">Se o controlador não conseguir obter informações duplex, irá retornar um estado de erro não zero.</span><span class="sxs-lookup"><span data-stu-id="c5959-447">If the driver is not able to get duplex information, it will return a nonzero error status.</span></span>
 |


> [!NOTE]
> <span data-ttu-id="c5959-448">*Este pedido não é utilizado internamente pela NetX, pelo que a sua implementação é opcional.*</span><span class="sxs-lookup"><span data-stu-id="c5959-448">*This request is not used internally by NetX so its implementation is optional.*</span></span>

### <a name="get-error-count"></a><span data-ttu-id="c5959-449">Obtenha a contagem de erros</span><span class="sxs-lookup"><span data-stu-id="c5959-449">Get Error Count</span></span>  

<span data-ttu-id="c5959-450">Este pedido é feito a partir do serviço ***nx_ip_driver_direct_command.***</span><span class="sxs-lookup"><span data-stu-id="c5959-450">This request is made from within the ***nx_ip_driver_direct_command*** service.</span></span> <span data-ttu-id="c5959-451">O condutor armazena a contagem de erros do link no destino fornecido.</span><span class="sxs-lookup"><span data-stu-id="c5959-451">The driver stores the link's error count in the supplied destination.</span></span> <span data-ttu-id="c5959-452">Para suportar esta funcionalidade, o controlador necessita de rastrear os erros de funcionamento.</span><span class="sxs-lookup"><span data-stu-id="c5959-452">To support this feature, the driver needs to track operation errors.</span></span> <span data-ttu-id="c5959-453">Os seguintes membros NX_IP_DRIVER são utilizados para o pedido de contagem de erros de ligação.</span><span class="sxs-lookup"><span data-stu-id="c5959-453">The following NX_IP_DRIVER members are used for the link error count request.</span></span>

| <span data-ttu-id="c5959-454">NX_IP_DRIVER membro</span><span class="sxs-lookup"><span data-stu-id="c5959-454">NX_IP_DRIVER member</span></span>     | <span data-ttu-id="c5959-455">Significado</span><span class="sxs-lookup"><span data-stu-id="c5959-455">Meaning</span></span>                                                                                                  |
|-------------------------|----------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="c5959-456">nx_ip_driver_command</span><span class="sxs-lookup"><span data-stu-id="c5959-456">nx_ip_driver_command</span></span>    | <span data-ttu-id="c5959-457">NX_LINK_GET_ERROR_COUNT</span><span class="sxs-lookup"><span data-stu-id="c5959-457">NX_LINK_GET_ERROR_COUNT</span></span>                                                                                  |
| <span data-ttu-id="c5959-458">nx_ip_driver_ptr</span><span class="sxs-lookup"><span data-stu-id="c5959-458">nx_ip_driver_ptr</span></span>        | <span data-ttu-id="c5959-459">Indicação para a instância IP</span><span class="sxs-lookup"><span data-stu-id="c5959-459">Pointer to IP instance</span></span>                                                                                   |
| <span data-ttu-id="c5959-460">nx_ip_driver_return_ptr</span><span class="sxs-lookup"><span data-stu-id="c5959-460">nx_ip_driver_return_ptr</span></span> | <span data-ttu-id="c5959-461">Ponteiro para o destino para colocar a contagem de erros</span><span class="sxs-lookup"><span data-stu-id="c5959-461">Pointer to the destination to place the error count</span></span>                                                      |
| <span data-ttu-id="c5959-462">nx_ip_driver_interface</span><span class="sxs-lookup"><span data-stu-id="c5959-462">nx_ip_driver_interface</span></span>  | <span data-ttu-id="c5959-463">Ponteiro para a instância da interface</span><span class="sxs-lookup"><span data-stu-id="c5959-463">Pointer to the interface instance</span></span>                                                                        |
| <span data-ttu-id="c5959-464">nx_ip_driver_status</span><span class="sxs-lookup"><span data-stu-id="c5959-464">nx_ip_driver_status</span></span>     | <span data-ttu-id="c5959-465">Estado de conclusão.</span><span class="sxs-lookup"><span data-stu-id="c5959-465">Completion status.</span></span> <span data-ttu-id="c5959-466">Se o controlador não conseguir obter a contagem de erros, retornará um estado de erro não zero.</span><span class="sxs-lookup"><span data-stu-id="c5959-466">If the driver is not able to get error count, it will return a non-zero error status.</span></span> |


> [!NOTE]
> <span data-ttu-id="c5959-467">*Este pedido não é utilizado internamente pela NetX, pelo que a sua implementação é opcional.*</span><span class="sxs-lookup"><span data-stu-id="c5959-467">*This request is not used internally by NetX so its implementation is optional.*</span></span>

### <a name="get-receive-packet-count"></a><span data-ttu-id="c5959-468">Receber Contagem de Pacotes</span><span class="sxs-lookup"><span data-stu-id="c5959-468">Get Receive Packet Count</span></span>  

<span data-ttu-id="c5959-469">Este pedido é feito a partir do serviço ***nx_ip_driver_direct_command.***</span><span class="sxs-lookup"><span data-stu-id="c5959-469">This request is made from within the ***nx_ip_driver_direct_command*** service.</span></span> <span data-ttu-id="c5959-470">O condutor armazena a contagem de pacotes de receção do link no destino fornecido.</span><span class="sxs-lookup"><span data-stu-id="c5959-470">The driver stores the link's receive packet count in the supplied destination.</span></span> <span data-ttu-id="c5959-471">Para suportar esta funcionalidade, o controlador precisa de acompanhar o número de pacotes recebidos.</span><span class="sxs-lookup"><span data-stu-id="c5959-471">To support this feature, the driver needs to keep track of the number of packets received.</span></span> <span data-ttu-id="c5959-472">Os seguintes membros NX_IP_DRIVER são utilizados para o pedido de contagem de pacotes de ligação.</span><span class="sxs-lookup"><span data-stu-id="c5959-472">The following NX_IP_DRIVER members are used for the link receive packet count request.</span></span>

| <span data-ttu-id="c5959-473">NX_IP_DRIVER membro</span><span class="sxs-lookup"><span data-stu-id="c5959-473">NX_IP_DRIVER member</span></span>     | <span data-ttu-id="c5959-474">Significado</span><span class="sxs-lookup"><span data-stu-id="c5959-474">Meaning</span></span>                                                                                                    |
|-------------------------|------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="c5959-475">nx_ip_driver_command</span><span class="sxs-lookup"><span data-stu-id="c5959-475">nx_ip_driver_command</span></span>    | <span data-ttu-id="c5959-476">NX_LINK_GET_RX_COUNT</span><span class="sxs-lookup"><span data-stu-id="c5959-476">NX_LINK_GET_RX_COUNT</span></span>                                                                                       |
| <span data-ttu-id="c5959-477">nx_ip_driver_ptr</span><span class="sxs-lookup"><span data-stu-id="c5959-477">nx_ip_driver_ptr</span></span>        | <span data-ttu-id="c5959-478">Indicação para a instância IP</span><span class="sxs-lookup"><span data-stu-id="c5959-478">Pointer to IP instance</span></span>                                                                                     |
| <span data-ttu-id="c5959-479">nx_ip_driver_return_ptr</span><span class="sxs-lookup"><span data-stu-id="c5959-479">nx_ip_driver_return_ptr</span></span> | <span data-ttu-id="c5959-480">Ponteiro para o destino para colocar a contagem de pacotes de receção</span><span class="sxs-lookup"><span data-stu-id="c5959-480">Pointer to the destination to place the receive packet count</span></span>                                               |
| <span data-ttu-id="c5959-481">nx_ip_driver_interface</span><span class="sxs-lookup"><span data-stu-id="c5959-481">nx_ip_driver_interface</span></span>  | <span data-ttu-id="c5959-482">Ponteiro para a interface de rede física</span><span class="sxs-lookup"><span data-stu-id="c5959-482">Pointer to the physical network interface</span></span>                                                                  |
| <span data-ttu-id="c5959-483">nx_ip_driver_status</span><span class="sxs-lookup"><span data-stu-id="c5959-483">nx_ip_driver_status</span></span>     | <span data-ttu-id="c5959-484">Estado de conclusão.</span><span class="sxs-lookup"><span data-stu-id="c5959-484">Completion status.</span></span> <span data-ttu-id="c5959-485">Se o condutor não conseguir receber a contagem, retornará um estado de erro não zero.</span><span class="sxs-lookup"><span data-stu-id="c5959-485">If the driver is not able to get receive count, it will return a non-zero error status.</span></span> |


> [!NOTE]
> <span data-ttu-id="c5959-486">*Este pedido não é utilizado internamente pela NetX, pelo que a sua implementação é opcional.*</span><span class="sxs-lookup"><span data-stu-id="c5959-486">*This request is not used internally by NetX so its implementation is optional.*</span></span>

### <a name="get-transmit-packet-count"></a><span data-ttu-id="c5959-487">Obtenha a contagem de pacotes de transmissão</span><span class="sxs-lookup"><span data-stu-id="c5959-487">Get Transmit Packet Count</span></span>  

<span data-ttu-id="c5959-488">Este pedido é feito a partir do serviço ***nx_ip_driver_direct_command.***</span><span class="sxs-lookup"><span data-stu-id="c5959-488">This request is made from within the ***nx_ip_driver_direct_command*** service.</span></span> <span data-ttu-id="c5959-489">O condutor armazena a contagem de pacotes de transmissão do link no destino fornecido.</span><span class="sxs-lookup"><span data-stu-id="c5959-489">The driver stores the link's transmit packet count in the supplied destination.</span></span> <span data-ttu-id="c5959-490">Para suportar esta funcionalidade, o controlador necessita de acompanhar cada pacote que transmite em cada interface.</span><span class="sxs-lookup"><span data-stu-id="c5959-490">To support this feature, the driver needs to keep track of each packet it transmits on each interface.</span></span> <span data-ttu-id="c5959-491">Os seguintes membros NX_IP_DRIVER são utilizados para o pedido de contagem de pacotes de transmissão de ligação.</span><span class="sxs-lookup"><span data-stu-id="c5959-491">The following NX_IP_DRIVER members are used for the link transmit packet count request.</span></span>

| <span data-ttu-id="c5959-492">NX_IP_DRIVER membro</span><span class="sxs-lookup"><span data-stu-id="c5959-492">NX_IP_DRIVER member</span></span>     | <span data-ttu-id="c5959-493">Significado</span><span class="sxs-lookup"><span data-stu-id="c5959-493">Meaning</span></span>                                                                                                     |
|-------------------------|-------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="c5959-494">nx_ip_driver_command</span><span class="sxs-lookup"><span data-stu-id="c5959-494">nx_ip_driver_command</span></span>    | <span data-ttu-id="c5959-495">NX_LINK_GET_TX_COUNT</span><span class="sxs-lookup"><span data-stu-id="c5959-495">NX_LINK_GET_TX_COUNT</span></span>                                                                                        |
| <span data-ttu-id="c5959-496">nx_ip_driver_ptr</span><span class="sxs-lookup"><span data-stu-id="c5959-496">nx_ip_driver_ptr</span></span>        | <span data-ttu-id="c5959-497">Indicação para a instância IP</span><span class="sxs-lookup"><span data-stu-id="c5959-497">Pointer to IP instance</span></span>                                                                                      |
| <span data-ttu-id="c5959-498">nx_ip_driver_return_ptr</span><span class="sxs-lookup"><span data-stu-id="c5959-498">nx_ip_driver_return_ptr</span></span> | <span data-ttu-id="c5959-499">Ponteiro para o destino para colocar a contagem de pacotes de transmissão</span><span class="sxs-lookup"><span data-stu-id="c5959-499">Pointer to the destination to place the transmit packet count</span></span>                                               |
| <span data-ttu-id="c5959-500">nx_ip_driver_interface</span><span class="sxs-lookup"><span data-stu-id="c5959-500">nx_ip_driver_interface</span></span>  | <span data-ttu-id="c5959-501">Ponteiro para a instância da interface</span><span class="sxs-lookup"><span data-stu-id="c5959-501">Pointer to the interface instance</span></span>                                                                           |
| <span data-ttu-id="c5959-502">nx_ip_driver_status</span><span class="sxs-lookup"><span data-stu-id="c5959-502">nx_ip_driver_status</span></span>     | <span data-ttu-id="c5959-503">Estado de conclusão.</span><span class="sxs-lookup"><span data-stu-id="c5959-503">Completion status.</span></span> <span data-ttu-id="c5959-504">Se o controlador não conseguir obter a contagem de transmissão, retornará um estado de erro não zero.</span><span class="sxs-lookup"><span data-stu-id="c5959-504">If the driver is not able to get transmit count, it will return a non-zero error status.</span></span> |


> [!NOTE]
> <span data-ttu-id="c5959-505">*Este pedido não é utilizado internamente pela NetX, pelo que a sua implementação é opcional.*</span><span class="sxs-lookup"><span data-stu-id="c5959-505">*This request is not used internally by NetX so its implementation is optional.*</span></span>

### <a name="get-allocation-errors"></a><span data-ttu-id="c5959-506">Obter erros de atribuição</span><span class="sxs-lookup"><span data-stu-id="c5959-506">Get Allocation Errors</span></span>  

<span data-ttu-id="c5959-507">Este pedido é feito a partir do serviço ***nx_ip_driver_direct_command.***</span><span class="sxs-lookup"><span data-stu-id="c5959-507">This request is made from within the ***nx_ip_driver_direct_command*** service.</span></span> <span data-ttu-id="c5959-508">O condutor armazena a contagem de erros de atribuição de pacotes do link no destino fornecido.</span><span class="sxs-lookup"><span data-stu-id="c5959-508">The driver stores the link's packet pool allocation error count in the supplied destination.</span></span> <span data-ttu-id="c5959-509">Os membros seguintes NX_IP_DRIVER são utilizados para o pedido de contagem de erros de atribuição de ligações.</span><span class="sxs-lookup"><span data-stu-id="c5959-509">The following NX_IP_DRIVER members are used for the link allocation error count request.</span></span>

| <span data-ttu-id="c5959-510">**NX_IP_DRIVER membro**</span><span class="sxs-lookup"><span data-stu-id="c5959-510">**NX_IP_DRIVER member**</span></span> | <span data-ttu-id="c5959-511">**Significado**</span><span class="sxs-lookup"><span data-stu-id="c5959-511">**Meaning**</span></span> |
| --- | ---|
| <span data-ttu-id="c5959-512">nx_ip_driver_command</span><span class="sxs-lookup"><span data-stu-id="c5959-512">nx_ip_driver_command</span></span> | <span data-ttu-id="c5959-513">NX_LINK_GET_ALLOC_ERRORS</span><span class="sxs-lookup"><span data-stu-id="c5959-513">NX_LINK_GET_ALLOC_ERRORS</span></span> |
| <span data-ttu-id="c5959-514">nx_ip_driver_ptr</span><span class="sxs-lookup"><span data-stu-id="c5959-514">nx_ip_driver_ptr</span></span> | <span data-ttu-id="c5959-515">Indicação para a instância IP</span><span class="sxs-lookup"><span data-stu-id="c5959-515">Pointer to IP instance</span></span> |

| <span data-ttu-id="c5959-516">NX_IP_DRIVER membro</span><span class="sxs-lookup"><span data-stu-id="c5959-516">NX_IP_DRIVER member</span></span>     | <span data-ttu-id="c5959-517">Significado</span><span class="sxs-lookup"><span data-stu-id="c5959-517">Meaning</span></span>                                                                                                        |
|-------------------------|----------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="c5959-518">nx_ip_driver_return_ptr</span><span class="sxs-lookup"><span data-stu-id="c5959-518">nx_ip_driver_return_ptr</span></span> | <span data-ttu-id="c5959-519">Ponteiro para o destino para colocar a contagem de erros de atribuição</span><span class="sxs-lookup"><span data-stu-id="c5959-519">Pointer to the destination to place the allocation error count</span></span>                                                 |
| <span data-ttu-id="c5959-520">nx_ip_driver_interface</span><span class="sxs-lookup"><span data-stu-id="c5959-520">nx_ip_driver_interface</span></span>  | <span data-ttu-id="c5959-521">Ponteiro para a instância da interface</span><span class="sxs-lookup"><span data-stu-id="c5959-521">Pointer to the interface instance</span></span>                                                                              |
| <span data-ttu-id="c5959-522">nx_ip_driver_status</span><span class="sxs-lookup"><span data-stu-id="c5959-522">nx_ip_driver_status</span></span>     | <span data-ttu-id="c5959-523">Estado de conclusão.</span><span class="sxs-lookup"><span data-stu-id="c5959-523">Completion status.</span></span> <span data-ttu-id="c5959-524">Se o condutor não conseguir obter erros de atribuição, retornará um estado de erro não zero.</span><span class="sxs-lookup"><span data-stu-id="c5959-524">If the driver is not able to get allocation errors, it will return a non-zero error status.</span></span> |


<span data-ttu-id="c5959-525">*Este pedido não é utilizado internamente pela NetX, pelo que a sua implementação é opcional.*</span><span class="sxs-lookup"><span data-stu-id="c5959-525">*This request is not used internally by NetX so its implementation is optional.*</span></span>

### <a name="driver-deferred-processing"></a><span data-ttu-id="c5959-526">Processamento diferido do condutor</span><span class="sxs-lookup"><span data-stu-id="c5959-526">Driver Deferred Processing</span></span>  

<span data-ttu-id="c5959-527">Este pedido é feito a partir do fio do ajudante IP em resposta ao condutor que chama a rotina _ ***nx_ip_driver_deferred_processing*** de um isr de transmissão ou receção.</span><span class="sxs-lookup"><span data-stu-id="c5959-527">This request is made from the IP helper thread in response to the driver calling the _ ***nx_ip_driver_deferred_processing*** routine from a transmit or receive ISR.</span></span> <span data-ttu-id="c5959-528">Isto permite ao controlador ISR adiar o pacote receber e transmitir o processamento para o fio do ajudante IP e assim reduzir a quantidade para processar no ISR.</span><span class="sxs-lookup"><span data-stu-id="c5959-528">This allows the driver ISR to defer the packet receive and transmit processing to the IP helper thread and thus reduce the amount to process in the ISR.</span></span> <span data-ttu-id="c5959-529">O campo *nx_interface_additional_link_info* na estrutura NX_INTERFACE apontada por *nx_ip_driver_interface* pode ser utilizado pelo condutor para armazenar informações sobre o evento de processamento diferido a partir do contexto do fio do ajudante IP.</span><span class="sxs-lookup"><span data-stu-id="c5959-529">The *nx_interface_additional_link_info* field in the NX_INTERFACE structure pointed to by *nx_ip_driver_interface* may be used by the driver to store information about the deferred processing event from the IP helper thread context.</span></span> <span data-ttu-id="c5959-530">Os seguintes membros NX_IP_DRIVER são utilizados para o evento de processamento diferido.</span><span class="sxs-lookup"><span data-stu-id="c5959-530">The following NX_IP_DRIVER members are used for the deferred processing event.</span></span>

<span data-ttu-id="c5959-531">**NX_IP_DRIVER**</span><span class="sxs-lookup"><span data-stu-id="c5959-531">**NX_IP_DRIVER**</span></span>

| <span data-ttu-id="c5959-532">membro</span><span class="sxs-lookup"><span data-stu-id="c5959-532">member</span></span>                 | <span data-ttu-id="c5959-533">Significado</span><span class="sxs-lookup"><span data-stu-id="c5959-533">Meaning</span></span>                           |
|------------------------|-----------------------------------|
| <span data-ttu-id="c5959-534">nx_ip_driver_command</span><span class="sxs-lookup"><span data-stu-id="c5959-534">nx_ip_driver_command</span></span>   | <span data-ttu-id="c5959-535">NX_LINK_DEFERRED_PROCESSING</span><span class="sxs-lookup"><span data-stu-id="c5959-535">NX_LINK_DEFERRED_PROCESSING</span></span>       |
| <span data-ttu-id="c5959-536">nx_ip_driver_ptr</span><span class="sxs-lookup"><span data-stu-id="c5959-536">nx_ip_driver_ptr</span></span>       | <span data-ttu-id="c5959-537">Indicação para a instância IP</span><span class="sxs-lookup"><span data-stu-id="c5959-537">Pointer to IP instance</span></span>            |
| <span data-ttu-id="c5959-538">nx_ip_driver_interface</span><span class="sxs-lookup"><span data-stu-id="c5959-538">nx_ip_driver_interface</span></span> | <span data-ttu-id="c5959-539">Ponteiro para a instância da interface</span><span class="sxs-lookup"><span data-stu-id="c5959-539">Pointer to the interface instance</span></span> |


### <a name="user-commands"></a><span data-ttu-id="c5959-540">Comandos do Utilizador</span><span class="sxs-lookup"><span data-stu-id="c5959-540">User Commands</span></span>  

<span data-ttu-id="c5959-541">Este pedido é feito a partir do serviço ***nx_ip_driver_direct_command.***</span><span class="sxs-lookup"><span data-stu-id="c5959-541">This request is made from within the ***nx_ip_driver_direct_command*** service.</span></span> <span data-ttu-id="c5959-542">O controlador processa os comandos específicos do utilizador da aplicação.</span><span class="sxs-lookup"><span data-stu-id="c5959-542">The driver processes the application specific user commands.</span></span> <span data-ttu-id="c5959-543">Os seguintes membros NX_IP_DRIVER são utilizados para o pedido de comando do utilizador.</span><span class="sxs-lookup"><span data-stu-id="c5959-543">The following NX_IP_DRIVER members are used for the user command request.</span></span>

| <span data-ttu-id="c5959-544">NX_IP_DRIVER membro</span><span class="sxs-lookup"><span data-stu-id="c5959-544">NX_IP_DRIVER member</span></span>     | <span data-ttu-id="c5959-545">Significado</span><span class="sxs-lookup"><span data-stu-id="c5959-545">Meaning</span></span>                                                                                                        |
|-------------------------|----------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="c5959-546">nx_ip_driver_command</span><span class="sxs-lookup"><span data-stu-id="c5959-546">nx_ip_driver_command</span></span>    | <span data-ttu-id="c5959-547">NX_LINK_USER_COMMAND</span><span class="sxs-lookup"><span data-stu-id="c5959-547">NX_LINK_USER_COMMAND</span></span>                                                                                           |
| <span data-ttu-id="c5959-548">nx_ip_driver_ptr</span><span class="sxs-lookup"><span data-stu-id="c5959-548">nx_ip_driver_ptr</span></span>        | <span data-ttu-id="c5959-549">Indicação para a instância IP</span><span class="sxs-lookup"><span data-stu-id="c5959-549">Pointer to IP instance</span></span>                                                                                         |
| <span data-ttu-id="c5959-550">nx_ip_driver_return_ptr</span><span class="sxs-lookup"><span data-stu-id="c5959-550">nx_ip_driver_return_ptr</span></span> | <span data-ttu-id="c5959-551">Utilizador definido</span><span class="sxs-lookup"><span data-stu-id="c5959-551">User defined</span></span>                                                                                                   |
| <span data-ttu-id="c5959-552">nx_ip_driver_interface</span><span class="sxs-lookup"><span data-stu-id="c5959-552">nx_ip_driver_interface</span></span>  | <span data-ttu-id="c5959-553">Ponteiro para a instância da interface</span><span class="sxs-lookup"><span data-stu-id="c5959-553">Pointer to the interface instance</span></span>                                                                              |
| <span data-ttu-id="c5959-554">nx_ip_driver_status</span><span class="sxs-lookup"><span data-stu-id="c5959-554">nx_ip_driver_status</span></span>     | <span data-ttu-id="c5959-555">Estado de conclusão.</span><span class="sxs-lookup"><span data-stu-id="c5959-555">Completion status.</span></span> <span data-ttu-id="c5959-556">Se o controlador não conseguir executar comandos de utilizador, retornará um estado de erro não zero.</span><span class="sxs-lookup"><span data-stu-id="c5959-556">If the driver is not able to execute user commands, it will return a non-zero error status.</span></span> |


<span data-ttu-id="c5959-557">*Este pedido não é utilizado internamente pela NetX, pelo que a sua implementação é opcional.*</span><span class="sxs-lookup"><span data-stu-id="c5959-557">*This request is not used internally by NetX so its implementation is optional.*</span></span>

### <a name="unimplemented-commands"></a><span data-ttu-id="c5959-558">Comandos não implacáveis</span><span class="sxs-lookup"><span data-stu-id="c5959-558">Unimplemented Commands</span></span>  

<span data-ttu-id="c5959-559">Os comandos não simplificados pelo controlador de rede devem ter o campo de devolução definido para NX_UNHANDLED_COMMAND.</span><span class="sxs-lookup"><span data-stu-id="c5959-559">Commands unimplemented by the network driver must have the return status field set to NX_UNHANDLED_COMMAND.</span></span>

## <a name="driver-output"></a><span data-ttu-id="c5959-560">Saída do condutor</span><span class="sxs-lookup"><span data-stu-id="c5959-560">Driver Output</span></span>  

<span data-ttu-id="c5959-561">Todos os pedidos de transmissão de pacotes previamente mencionados requerem uma função de saída implementada no controlador.</span><span class="sxs-lookup"><span data-stu-id="c5959-561">All previously mentioned packet transmit requests require an output function implemented in the driver.</span></span> <span data-ttu-id="c5959-562">A lógica de transmissão específica é específica do hardware, mas geralmente consiste em verificar a capacidade de hardware para enviar o pacote imediatamente.</span><span class="sxs-lookup"><span data-stu-id="c5959-562">Specific transmit logic is hardware specific, but it usually consists of checking for hardware capacity to send the packet immediately.</span></span> <span data-ttu-id="c5959-563">Se possível, a carga útil do pacote (e cargas adicionais na cadeia de pacotes) são carregadas num ou mais tampões de transmissão de hardware e é iniciada uma operação de transmissão.</span><span class="sxs-lookup"><span data-stu-id="c5959-563">If possible, the packet payload (and additional payloads in the packet chain) are loaded into one or more of the hardware transmit buffers and a transmit operation is initiated.</span></span> <span data-ttu-id="c5959-564">Se o pacote não encaixar nos amortecedores de transmissão disponíveis, o pacote deve ser em fila e ser transmitido quando os amortecedores de transmissão ficarem disponíveis.</span><span class="sxs-lookup"><span data-stu-id="c5959-564">If the packet won't fit in the available transmit buffers, the packet should be queued, and be transmitted when the transmission buffers become available.</span></span>

<span data-ttu-id="c5959-565">A fila de transmissão recomendada é uma lista ligada ao canto, com ponteiros de cabeça e cauda.</span><span class="sxs-lookup"><span data-stu-id="c5959-565">The recommended transmit queue is a singly-linked list, having both head and tail pointers.</span></span> <span data-ttu-id="c5959-566">Novos pacotes são adicionados ao final da fila, mantendo o pacote mais antigo na frente.</span><span class="sxs-lookup"><span data-stu-id="c5959-566">New packets are added to the end of the queue, keeping the oldest packet at the front.</span></span> <span data-ttu-id="c5959-567">O *campo nx_packet_queue_next* é usado como o próximo link do pacote na fila.</span><span class="sxs-lookup"><span data-stu-id="c5959-567">The *nx_packet_queue_next* field is used as the packet's next link in the queue.</span></span> <span data-ttu-id="c5959-568">O condutor define os ponteiros da cabeça e da cauda da fila de transmissão.</span><span class="sxs-lookup"><span data-stu-id="c5959-568">The driver defines the head and tail pointers of  transmit queue.</span></span>

<span data-ttu-id="c5959-569">*Uma vez que esta fila é acedida a partir de linhas e partes de interrupção do condutor, a proteção de interrupção deve ser colocada em torno das manipulações da fila.*</span><span class="sxs-lookup"><span data-stu-id="c5959-569">*Because this queue is accessed from thread and interrupt portions of the driver, interrupt protection must be placed around the queue manipulations.*</span></span>

<span data-ttu-id="c5959-570">A maioria das implementações de hardware físico geram uma interrupção após a conclusão do pacote.</span><span class="sxs-lookup"><span data-stu-id="c5959-570">Most physical hardware implementations generate an interrupt upon packet transmit completion.</span></span>
<span data-ttu-id="c5959-571">Quando o condutor recebe tal interrupção, normalmente liberta os recursos associados ao pacote que acaba de ser transmitido.</span><span class="sxs-lookup"><span data-stu-id="c5959-571">When the driver receives such an interrupt, it typically releases the resources associated with the packet just being transmitted.</span></span> <span data-ttu-id="c5959-572">Caso a lógica de transmissão leia os dados diretamente do tampão NX_PACKET, o controlador deve utilizar o serviço ***de nx_packet_transmit_release*** para libertar o pacote associado à interrupção completa do transmissor para o conjunto de pacotes disponíveis.</span><span class="sxs-lookup"><span data-stu-id="c5959-572">In case the transmit logic reads data directly from the NX_PACKET buffer, the driver should use the ***nx_packet_transmit_release*** service to release the packet associated with the transmit complete interrupt back to the available packet pool.</span></span> <span data-ttu-id="c5959-573">Em seguida, o condutor examina a fila de transmissão para pacotes adicionais à espera de serem enviados.</span><span class="sxs-lookup"><span data-stu-id="c5959-573">Next, the driver examines the transmit queue for additional packets waiting to be sent.</span></span> <span data-ttu-id="c5959-574">Como muitos dos pacotes de transmissão em fila que se encaixam no(s) buffer(s) de hardware são desaltados e carregados nos tampão.</span><span class="sxs-lookup"><span data-stu-id="c5959-574">As many of the queued transmit packets that fit into the hardware transmit buffer(s) are de-queued and loaded into the buffers.</span></span> <span data-ttu-id="c5959-575">Isto é seguido pelo início de outra operação de envio.</span><span class="sxs-lookup"><span data-stu-id="c5959-575">This is followed by initiation of another send operation.</span></span>

<span data-ttu-id="c5959-576">Assim que os dados do NX_PACKET foram transferidos para o emissor FIFO (ou caso um condutor suporte a operação de zerocopia, os dados em NX_PACKET foram transmitidos), o condutor deve mover a nx_packet_prepend_ptr para o início do cabeçalho IP antes de ligar ***para nx_packet_transmit_release.***</span><span class="sxs-lookup"><span data-stu-id="c5959-576">As soon as the data in the NX_PACKET has been moved into the transmitter FIFO (or in case a driver supports zerocopy operation, the data in NX_PACKET has been transmitted), the driver must move the nx_packet_prepend_ptr to the beginning of the IP header before calling ***nx_packet_transmit_release.***</span></span> <span data-ttu-id="c5959-577">Lembre-se de ajustar *nx_packet_length* campo em conformidade.</span><span class="sxs-lookup"><span data-stu-id="c5959-577">Remember to adjust *nx_packet_length* field accordingly.</span></span> <span data-ttu-id="c5959-578">Se uma moldura IP for composta por vários pacotes, apenas a cabeça da cadeia de pacotes precisa de ser libertada.</span><span class="sxs-lookup"><span data-stu-id="c5959-578">If an IP frame is made up of multiple packets, only the head of the packet chain needs to be released.</span></span>

## <a name="driver-input"></a><span data-ttu-id="c5959-579">Entrada do condutor</span><span class="sxs-lookup"><span data-stu-id="c5959-579">Driver Input</span></span>  

<span data-ttu-id="c5959-580">Após a receção de uma interrupção de pacote recebida, o controlador de rede recupera o pacote dos amortecedores de hardware físico e constrói um pacote NetX válido.</span><span class="sxs-lookup"><span data-stu-id="c5959-580">Upon reception of a received packet interrupt, the network driver retrieves the packet from the physical hardware receive buffers and builds a valid NetX packet.</span></span> <span data-ttu-id="c5959-581">A construção de um pacote NetX válido envolve a criação do campo de comprimento apropriado e acorrentar vários pacotes se o tamanho do pacote de entrada for maior do que uma carga útil de um único pacote.</span><span class="sxs-lookup"><span data-stu-id="c5959-581">Building a valid NetX packet involves setting up the appropriate length field and chaining together multiple packets if the incoming packet's size is greater than a single packet payload.</span></span> <span data-ttu-id="c5959-582">Uma vez devidamente construído, o prepend_ptr é movido após o cabeçalho da camada física e o pacote de receção é enviado para o NetX.</span><span class="sxs-lookup"><span data-stu-id="c5959-582">Once properly built, the prepend_ptr is moved after the physical layer header and the receive packet is dispatched to NetX.</span></span>

<span data-ttu-id="c5959-583">NetX assume que os cabeçalhos IP e ARP estão alinhados num limite ULONG.</span><span class="sxs-lookup"><span data-stu-id="c5959-583">NetX assumes that the IP and ARP headers are aligned on a ULONG boundary.</span></span> <span data-ttu-id="c5959-584">Por conseguinte, o controlador NetX deve assegurar este alinhamento.</span><span class="sxs-lookup"><span data-stu-id="c5959-584">The NetX driver must, therefore, ensure this alignment.</span></span> <span data-ttu-id="c5959-585">Nos ambientes Ethernet isto é feito iniciando o cabeçalho Ethernet dois bytes desde o início do pacote.</span><span class="sxs-lookup"><span data-stu-id="c5959-585">In Ethernet environments this is done by starting the Ethernet header two bytes from the beginning of the packet.</span></span> <span data-ttu-id="c5959-586">Quando o *nx_packet_prepend_ptr* é movido para além do cabeçalho Ethernet, o cabeçalho IP ou ARP subjacente é 4byte alinhado.</span><span class="sxs-lookup"><span data-stu-id="c5959-586">When the *nx_packet_prepend_ptr* is moved beyond the Ethernet header, the underlying IP or ARP header is 4byte aligned.</span></span>

<span data-ttu-id="c5959-587">Existem várias funções de pacote de receção disponíveis no NetX.</span><span class="sxs-lookup"><span data-stu-id="c5959-587">There are several receive packet functions available in NetX.</span></span> <span data-ttu-id="c5959-588">Se o pacote recebido for um pacote ARP, _\* **nx_arp_packet_deferred_receive**_ é chamado.</span><span class="sxs-lookup"><span data-stu-id="c5959-588">If the received packet is an ARP packet, _\***nx_arp_packet_deferred_receive**_ is called.</span></span> <span data-ttu-id="c5959-589">Se o pacote recebido for um pacote RARP, _ _*_nx_rarp_packet_deferred_receive_*_ é chamado.</span><span class="sxs-lookup"><span data-stu-id="c5959-589">If the received packet is an RARP packet, _ _*_nx_rarp_packet_deferred_receive_*_ is called.</span></span> <span data-ttu-id="c5959-590">Existem várias opções para lidar com pacotes IP de entrada.</span><span class="sxs-lookup"><span data-stu-id="c5959-590">There are several options for handling incoming IP packets.</span></span> <span data-ttu-id="c5959-591">Para o manuseamento mais rápido dos pacotes IP, é chamado _ _*_nx_ip_packet_receive._*_</span><span class="sxs-lookup"><span data-stu-id="c5959-591">For the fastest handling of IP packets, _ _*_nx_ip_packet_receive_*_ is called.</span></span> <span data-ttu-id="c5959-592">Esta abordagem tem a menor sobrecarga, mas requer mais processamento no manipulador de serviço de interrupção de receção do condutor (ISR).</span><span class="sxs-lookup"><span data-stu-id="c5959-592">This approach has the least overhead, but requires more processing in the driver's receive interrupt service handler (ISR).</span></span> <span data-ttu-id="c5959-593">Para um processamento mínimo de ISR __ *_nx_ip_packet_deferred_receive_*\* é chamado.</span><span class="sxs-lookup"><span data-stu-id="c5959-593">For minimal ISR processing __ *_nx_ip_packet_deferred_receive_*\* is called.</span></span>

<span data-ttu-id="c5959-594">Após a construção do novo pacote de receção, os amortecedores de receção de hardware físico são configurados para receber mais dados.</span><span class="sxs-lookup"><span data-stu-id="c5959-594">After the new receive packet is properly built, the physical hardware's receive buffers are setup to receive more data.</span></span> <span data-ttu-id="c5959-595">Isto pode exigir a atribuição de pacotes NetX e a colocação do endereço de carga útil no tampão de receção de hardware ou pode simplesmente ser alterado para alterar uma definição no tampão de receção de hardware.</span><span class="sxs-lookup"><span data-stu-id="c5959-595">This might require allocating NetX packets and placing the payload address in the hardware receive buffer or it may simply amount to changing a setting in the hardware receive buffer.</span></span> <span data-ttu-id="c5959-596">Para minimizar as possibilidades de superação, é importante que os buffers de receção do hardware tenham tampão disponíveis o mais rapidamente possível após a receção de um pacote.</span><span class="sxs-lookup"><span data-stu-id="c5959-596">To minimize overrun possibilities, it is important that the hardware's receive buffers have available buffers as soon as possible after a packet is received.</span></span>

<span data-ttu-id="c5959-597">*Os amortecedores de receção inicial são configurados durante a inicialização do condutor.*</span><span class="sxs-lookup"><span data-stu-id="c5959-597">*The initial receive buffers are setup during driver initialization.*</span></span>

### <a name="deferred-receive-packet-handling"></a><span data-ttu-id="c5959-598">Tratamento de pacotes diferidos</span><span class="sxs-lookup"><span data-stu-id="c5959-598">Deferred Receive Packet Handling</span></span>  

<span data-ttu-id="c5959-599">O controlador pode adiar o processamento de pacotes para o fio do ajudante NetX IP.</span><span class="sxs-lookup"><span data-stu-id="c5959-599">The driver may defer receive packet processing to the NetX IP helper thread.</span></span> <span data-ttu-id="c5959-600">Para algumas aplicações, isto pode ser necessário para minimizar o processamento do ISR, bem como pacotes abandonados.</span><span class="sxs-lookup"><span data-stu-id="c5959-600">For some applications this may be necessary to minimize ISR processing as well as dropped packets.</span></span> <span data-ttu-id="c5959-601">Para utilizar o manuseamento de pacotes diferidos, a biblioteca NetX deve ser primeiramente compensada com \***NX_DRIVER_DEFERRED_PROCESSING** _ definido.</span><span class="sxs-lookup"><span data-stu-id="c5959-601">To use deferred packet handling, the NetX library must first becompiled with \***NX_DRIVER_DEFERRED_PROCESSING** _ defined.</span></span> <span data-ttu-id="c5959-602">Isto adiciona a lógica do pacote diferido ao fio do ajudante DeIP NetX.</span><span class="sxs-lookup"><span data-stu-id="c5959-602">This adds the deferred packet logic to the NetX IP helper thread.</span></span> <span data-ttu-id="c5959-603">Em seguida, ao receber um pacote de dados, o condutor deve chamar __nx_ip_packet_deferred_receive():\*</span><span class="sxs-lookup"><span data-stu-id="c5959-603">Next, on receiving a data packet, the driver must call __nx_ip_packet_deferred_receive():\*</span></span>

```C
_nx_ip_packet_deferred_receive(ip_ptr, packet_ptr);
```

<span data-ttu-id="c5959-604">A função de receção diferida coloca o pacote de receção representado por *packet_ptr* numa FIFO (lista ligada) e notifica o fio do ajudante IP.</span><span class="sxs-lookup"><span data-stu-id="c5959-604">The deferred receive function places the receive packet represented by *packet_ptr* on a FIFO (linked list) and notifies the IP helper thread.</span></span> <span data-ttu-id="c5959-605">Após a execução, o ajudante ip chama repetidamente a função de manuseamento diferido para processar cada pacote diferido.</span><span class="sxs-lookup"><span data-stu-id="c5959-605">After executing, the IP helper repetitively calls the deferred handling function to process each deferred packet.</span></span> <span data-ttu-id="c5959-606">O processamento de manipulador diferido inclui normalmente a remoção do cabeçalho de camada física do pacote (geralmente Ethernet) e o envio para uma destas funções de receção NetX:</span><span class="sxs-lookup"><span data-stu-id="c5959-606">The deferred handler processing typically includes removing the packet's physical layer header (usually Ethernet) and dispatching it to one of these NetX receive functions:</span></span>  

<span data-ttu-id="c5959-607">***_nx_ip_packet_deferred_receive***</span><span class="sxs-lookup"><span data-stu-id="c5959-607">***_nx_ip_packet_deferred_receive***</span></span>  
<span data-ttu-id="c5959-608">***_nx_arp_packet_deferred_receive***</span><span class="sxs-lookup"><span data-stu-id="c5959-608">***_nx_arp_packet_deferred_receive***</span></span>  
<span data-ttu-id="c5959-609">***_nx_rarp_packet_deferred_receive***</span><span class="sxs-lookup"><span data-stu-id="c5959-609">***_nx_rarp_packet_deferred_receive***</span></span> 


## <a name="example-ram-ethernet-network-driver"></a><span data-ttu-id="c5959-610">Exemplo RAM Ethernet Network Driver</span><span class="sxs-lookup"><span data-stu-id="c5959-610">Example RAM Ethernet Network Driver</span></span>  

<span data-ttu-id="c5959-611">O sistema de demonstração NetX é entregue com um pequeno controlador de rede baseado em RAM, definido no ficheiro ***nx_ram_network_driver.c.***</span><span class="sxs-lookup"><span data-stu-id="c5959-611">The NetX demonstration system is delivered with a small RAM-based network driver, defined in the file ***nx_ram_network_driver.c.***</span></span>
<span data-ttu-id="c5959-612">Este controlador assume que as instâncias IP estão todas na mesma rede e simplesmente atribui endereços de hardware virtuais (endereços MAC) a cada instância do dispositivo à medida que são criadas.</span><span class="sxs-lookup"><span data-stu-id="c5959-612">This driver assumes the IP instances are all on the same network and simply assigns virtual hardware addresses (MAC addresses) to each device instance as they are created.</span></span> <span data-ttu-id="c5959-613">Este ficheiro fornece um bom exemplo da estrutura básica dos controladores de rede física NetX.</span><span class="sxs-lookup"><span data-stu-id="c5959-613">This file provides a good example of the basic structure of NetX physical network drivers.</span></span> <span data-ttu-id="c5959-614">Os utilizadores podem desenvolver os seus próprios controladores de rede utilizando a estrutura do condutor apresentada neste exemplo.</span><span class="sxs-lookup"><span data-stu-id="c5959-614">Users may develop their own network drivers using the driver framework presented in this example.</span></span>

<span data-ttu-id="c5959-615">A função de entrada do controlador de rede é \***_nx_ram_network_driver,** _ que é passado para a instância IP criar chamada.</span><span class="sxs-lookup"><span data-stu-id="c5959-615">The entry function of the network driver is \***_nx_ram_network_driver,** _ which is passed to the IP instance create call.</span></span> <span data-ttu-id="c5959-616">As funções de entrada para interfaces de rede adicionais podem ser passadas para o serviço _*_nx_ip_interface_attach._*_</span><span class="sxs-lookup"><span data-stu-id="c5959-616">Entry functions for additional network interfaces can be passed into the _*_nx_ip_interface_attach_*_ service.</span></span> <span data-ttu-id="c5959-617">Após o funcionamento da instância IP, a função de entrada do controlador é invocada para inicializar e ativar o dispositivo (consulte a caixa _ *NX_LINK_INITIALIZE*\* e **NX_LINK_ENABLE**).</span><span class="sxs-lookup"><span data-stu-id="c5959-617">After the IP instance starts to run, the driver entry function is invoked to initialize and enable the device (refer to the case _ *NX_LINK_INITIALIZE*\* and **NX_LINK_ENABLE**).</span></span> <span data-ttu-id="c5959-618">Após a **emissão do** comando NX_LINK_ENABLE, o dispositivo deve estar pronto para transmitir e receber pacotes.</span><span class="sxs-lookup"><span data-stu-id="c5959-618">After the **NX_LINK_ENABLE** command is issued, the device should be ready to transmit and receive packets.</span></span> 

<span data-ttu-id="c5959-619">A instância IP transmite pacotes de rede através de um destes comandos:</span><span class="sxs-lookup"><span data-stu-id="c5959-619">The IP instance transmits network packets via one of these commands:</span></span>

| <span data-ttu-id="c5959-620">***NX_LINK_PACKET_SEND***</span><span class="sxs-lookup"><span data-stu-id="c5959-620">***NX_LINK_PACKET_SEND***</span></span>    | <span data-ttu-id="c5959-621">Um pacote IP está sendo transmitido,</span><span class="sxs-lookup"><span data-stu-id="c5959-621">An IP packet is being transmitted,</span></span>                             |
| ------------------------------- | -------------------------------------------------------------- |
| <span data-ttu-id="c5959-622">***NX_LINK_ARP_SEND***</span><span class="sxs-lookup"><span data-stu-id="c5959-622">***NX_LINK_ARP_SEND***</span></span>       | <span data-ttu-id="c5959-623">Está a ser transmitido um pedido ARP ou um pacote de resposta ARP,</span><span class="sxs-lookup"><span data-stu-id="c5959-623">An ARP request or ARP response packet is being transmitted,</span></span>    |
| <span data-ttu-id="c5959-624">***NX_LINK_ARP_RARP_SEND***</span><span class="sxs-lookup"><span data-stu-id="c5959-624">***NX_LINK_ARP_RARP_SEND***</span></span> | <span data-ttu-id="c5959-625">Está a ser transmitido um pacote de pedido ou resposta reverso da ARP,</span><span class="sxs-lookup"><span data-stu-id="c5959-625">A Reverse ARP request or response packet is being transmitted,</span></span> |

<span data-ttu-id="c5959-626">No processamento destes comandos, o controlador de rede precisa de preparar o cabeçalho de quadro Ethernet apropriado e, em seguida, enviá-lo para o hardware subjacente para transmissão.</span><span class="sxs-lookup"><span data-stu-id="c5959-626">On processing these commands, the network driver needs to prepend the appropriate Ethernet frame header, and then send it to the underlying hardware for transmission.</span></span> <span data-ttu-id="c5959-627">Durante o processo de transmissão, o controlador de rede tem a propriedade exclusiva da área tampão do pacote.</span><span class="sxs-lookup"><span data-stu-id="c5959-627">During the transmission process, the network driver has the exclusive ownership of the packet buffer area.</span></span> <span data-ttu-id="c5959-628">Assim que os dados forem transmitidos (ou uma vez que os dados tenham sido copiados para o tampão de transferência interno do controlador), o controlador de rede é responsável pela libertação do amortecedor de pacotes, movendo primeiro o ponteiro pré-endor para além do cabeçalho Ethernet para o cabeçalho IP (e ajuste o comprimento do pacote em conformidade), e, em seguida, chamando o serviço ***nx_packet_transmit_release*** para libertar o pacote.</span><span class="sxs-lookup"><span data-stu-id="c5959-628">Therefore once the data are being transmitted (or once the data has been copied into the driver internal transfer buffer), the network driver is responsible for releasing the packet buffer by first moving the prepend pointer past the Ethernet header to the IP header (and adjust packet length accordingly), and then by calling the ***nx_packet_transmit_release*** service to release the packet.</span></span> <span data-ttu-id="c5959-629">Não libertar o pacote após a transmissão de dados fará com que os pacotes vazem.</span><span class="sxs-lookup"><span data-stu-id="c5959-629">Not releasing the packet after data transmission will cause packets to leak.</span></span>

<span data-ttu-id="c5959-630">O controlador do dispositivo de rede é também responsável pelo tratamento dos pacotes de dados recebidos.</span><span class="sxs-lookup"><span data-stu-id="c5959-630">The network device driver is also responsible for handling incoming data packets.</span></span> <span data-ttu-id="c5959-631">No exemplo do condutor da RAM, o pacote recebido é processado pela função ***_nx_ram_network_driver_receive***.</span><span class="sxs-lookup"><span data-stu-id="c5959-631">In the RAM driver example, the received packet is processed by the function ***_nx_ram_network_driver_receive***.</span></span>

<span data-ttu-id="c5959-632">Uma vez que o dispositivo recebe uma moldura Ethernet, o controlador é responsável por armazenar os dados em</span><span class="sxs-lookup"><span data-stu-id="c5959-632">Once the device receives an Ethernet frame, the driver is responsible for storing the data in</span></span>

<span data-ttu-id="c5959-633">NX_PACKET estrutura.</span><span class="sxs-lookup"><span data-stu-id="c5959-633">NX_PACKET structure.</span></span> <span data-ttu-id="c5959-634">Note que o NetX assume que o cabeçalho IP começa a partir de um endereço alinhado de 4 byte.</span><span class="sxs-lookup"><span data-stu-id="c5959-634">Note that NetX assumes the IP header starts from 4-byte aligned address.</span></span> <span data-ttu-id="c5959-635">Uma vez que o comprimento do cabeçalho Ethernet é de 14 byte, o controlador precisa de armazenar o arranque do cabeçalho Ethernet no endereço alinhado de 2 byte para garantir que o cabeçalho IP começa com um endereço alinhado de 4 bytes.</span><span class="sxs-lookup"><span data-stu-id="c5959-635">Since the length of Ethernet header is 14-byte, the driver needs to store the starting of the Ethernet header at 2-byte aligned address to guarantee that the IP header starts at 4-byte aligned address.</span></span>